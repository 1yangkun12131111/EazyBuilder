<div class="content-block panel-block">
	<div class="block-title">定期质量报告设置</div>
	<form class="form-horizontal" name="form">
	    <input type="hidden" ng-model="entity.id"/>
		<div class="block-content">
		    <div class="form-group">
                <label class="col-sm-2 control-label">报告类型:</label>
                <div class="col-sm-6">
                    <div class="btn-group pull-left col-xs-12" style="padding: 0 0;">
                            <button type="button" class="btn btn-md btn-default"
                                ng-click="entity.warnType='gao_liang_all_code'"
                                ng-class="{'btn-success':entity.warnType=='gao_liang_all_code'}">高亮预警项+全部代码质量汇总</button>
                            <button type="button" class="btn btn-md btn-default"
                                ng-click="entity.warnType='all_code'"
                                ng-class="{'btn-success':entity.warnType=='all_code'}">全部代码质量汇总</button>
						<button type="button" class="btn btn-md btn-default"
								ng-click="entity.warnType='du_liang_report'"
								ng-class="{'btn-success':entity.warnType=='du_liang_report'}">度量报告</button>
                    </div>
                </div>
            </div>
			<div class="form-group">
                <label class="col-sm-2 control-label">状态:</label>
                <div class="col-sm-4">
                    <div class="btn-group pull-left col-xs-12" style="padding: 0 0;">
                            <button type="button" class="btn btn-md btn-default"
                                ng-click="entity.isEnable=true"
                                ng-class="{'btn-success':entity.isEnable==true}">启用</button>
                            <button type="button" class="btn btn-md btn-default"
                                ng-click="entity.isEnable=false"
                                ng-class="{'btn-warning':entity.isEnable==false}">禁用</button>
                    </div>
                </div>
            </div>
            <div class="form-group">
				<label class="col-sm-2 control-label">收件人:</label>
				<div class="col-sm-10">
					<div class="btn-group pull-left col-xs-12 select-multiple" style="padding:0 0;">
						<!-- fix around style for this multiple select -->
						<style>
							div.select-multiple > ul, div.select-multiple > ul > li,div.select-multiple > ul > li >a{
								background-color:#fff !important;
								color:#000;
							}
							div.select-multiple > ul > li >a:hover{
								background-color:#ddd !important;
								color:#000;
							}
							.dropdown-menu>.active>a, .dropdown-menu>.active>a:focus, .dropdown-menu>.active>a:hover {
								background-color: #ffffff !important;
								color:#000;
							}
						</style>
						<select class="show-tick form-control"
								ng-options="receivingUser.id as receivingUser.name for receivingUser in receivingUsers" ng-model="entity.receivingUserIds"
								data-selectpicker multiple="true">
						</select>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label">扫描项目分组:</label>
				<div class="col-sm-10">
					<div class="btn-group pull-left col-xs-12 select-multiple" style="padding:0 0;">
						<!-- fix around style for this multiple select -->
						<style>
							div.select-multiple > ul, div.select-multiple > ul > li,div.select-multiple > ul > li >a{
								background-color:#fff !important;
								color:#000;
							}
							div.select-multiple > ul > li >a:hover{
								background-color:#ddd !important;
								color:#000;
							}
							.dropdown-menu>.active>a, .dropdown-menu>.active>a:focus, .dropdown-menu>.active>a:hover {
								background-color: #ffffff !important;
								color:#000;
							}
						</style>
						<select class="show-tick form-control"
								ng-options="group.id as group.name for group in scanGroups" ng-model="entity.scanGroupIds"
								data-selectpicker multiple="true">
						</select>
					</div>
				</div>
			</div>
			
			<div class="form-group">
                <label class="col-sm-2 control-label">时间计划:</label>
                <div class="col-sm-10">
                <input type="text" class="form-control" ng-model="entity.cron" placeholder="CRON表达式" required="required"/>
                    <a href="http://cron.qqe2.com/" target="_blank" style="font-size:10px;">点这里在线生成 </a>
                </div>
            </div>
			<div class="form-group" ng-if="entity.warnType=='du_liang_report'" >
				<label class="col-sm-2 control-label">度量平台报告链接:</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" ng-model="entity.duLiangUrl" />
				</div>
			</div>
			<div class="form-group" ng-if="entity.warnType=='du_liang_report'" >
				<label class="col-sm-2 control-label">报告范围:</label>
				<div class="col-sm-4">
					<div class="btn-group pull-left col-xs-12" style="padding: 0 0;">
						<button type="button" class="btn btn-md btn-default"
								ng-click="entity.duLiangType='weeks_report'"
								ng-class="{'btn-success':entity.duLiangType=='weeks_report'}">周报</button>
						<button type="button" class="btn btn-md btn-default"
								ng-click="entity.duLiangType='month_report'"
								ng-class="{'btn-success':entity.duLiangType=='month_report'}">月报</button>
					</div>
				</div>
			</div>
            <div class="form-group" ng-if="entity.warnType=='gao_liang_all_code'" required="required">
            	<label class="col-sm-2 control-label">预警规则:</label>
				<div class="col-sm-10">
					<div class="btn-group pull-left col-xs-12 select-multiple" style="padding:0 0;">
						<!-- fix around style for this multiple select -->
						<style>
							div.select-multiple > ul, div.select-multiple > ul > li,div.select-multiple > ul > li >a{
								background-color:#fff !important;
								color:#000;
							}
							div.select-multiple > ul > li >a:hover{
								background-color:#ddd !important;
								color:#000;
							}
							.dropdown-menu>.active>a, .dropdown-menu>.active>a:focus, .dropdown-menu>.active>a:hover {
								background-color: #ffffff !important;
								color:#000;
							}
						</style>
						<select class="show-tick form-control"
								ng-options="warnRule.id as warnRule.metricType for warnRule in warnRules" ng-model="entity.warnRuleIds"
								data-selectpicker multiple="true">
						</select>
					</div>
				</div>
            </div>
            
		</div>
		<div class="block-footer">
			<div class="form-group">
				<div class="col-sm-offset-3 col-sm-9">
				   <div class="col-sm-4">
					<button  class="btn btn-primary" ng-click="save()" ng-disabled="form.$invalid">保存</button>
				  </div>
				  <div class="col-sm-4">
					<button  class="btn btn-default" ng-click="back()">返回</button>
				 </div>
				</div>
			</div>
		</div>
	</form>
</div>