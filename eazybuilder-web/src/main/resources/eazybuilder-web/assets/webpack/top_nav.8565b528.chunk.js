(this.webpackJsonp=this.webpackJsonp||[]).push([[426],{orNV:function(e,t,n){"use strict";n.r(t),n.d(t,"mountTopNav",(function(){return M}));var r=n("jB52"),i=n("yi8e"),s=n("xe88"),a=n("408k"),l=n("vDPP"),o=n("DZUU"),u=n("/lV4"),d=(n("QzWB"),n("TXLM"),n("pRET")),c={props:{slotKey:{type:String,required:!1,default:""}},data:()=>({aliveSlotsLookup:{}}),computed:{aliveSlots(){return Object.keys(this.aliveSlotsLookup)}},watch:{slotKey:{handler(e){e&&this.$set(this.aliveSlotsLookup,e,!0)},immediate:!0}},methods:{isCurrentSlot(e){return e===this.slotKey}}},p=n("tBpV"),m=Object(p.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.aliveSlots,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isCurrentSlot(t),expression:"isCurrentSlot(slot)"}],key:t,staticClass:"gl-h-full gl-w-full"},[e._t(t)],2)})),0)}),[],!1,null,null,null).exports,v=n("KZHv"),g=n("N79w"),f=n("5pOm"),y=n("4lAS"),h=n("s1D3"),w={components:{GlButton:y.a,GlIcon:h.a},props:{menuItem:{type:Object,required:!0}}},_=Object(p.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-button",e._g({staticClass:"top-nav-menu-item gl-display-block",attrs:{category:"tertiary",href:e.menuItem.href}},e.$listeners),[n("span",{staticClass:"gl-display-flex"},[e.menuItem.icon?n("gl-icon",{staticClass:"gl-mr-2!",attrs:{name:e.menuItem.icon}}):e._e(),e._v("\n    "+e._s(e.menuItem.title)+"\n    "),e.menuItem.view?n("gl-icon",{staticClass:"gl-ml-auto",attrs:{name:"chevron-right"}}):e._e()],1)])}),[],!1,null,null,null).exports,k={components:{FrequentItemsApp:v.default,TopNavMenuItem:_,VuexModuleProvider:f.a},props:{frequentItemsVuexModule:{type:String,required:!0},frequentItemsDropdownType:{type:String,required:!0},linksPrimary:{type:Array,required:!1,default:function(){return[]}},linksSecondary:{type:Array,required:!1,default:function(){return[]}}},computed:{linkGroups(){return[{key:"primary",links:this.linksPrimary},{key:"secondary",links:this.linksSecondary}].filter((function(e){var t;return null===(t=e.links)||void 0===t?void 0:t.length}))}},mounted(){var e=this;this.$nextTick((function(){g.a.$emit("".concat(e.frequentItemsDropdownType,"-dropdownOpen"))}))}},I=Object(p.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-nav-container-view gl-display-flex gl-flex-direction-column"},[n("div",{staticClass:"frequent-items-dropdown-container gl-w-auto"},[n("div",{staticClass:"frequent-items-dropdown-content gl-w-full! gl-pt-0!"},[n("vuex-module-provider",{attrs:{"vuex-module":e.frequentItemsVuexModule}},[n("frequent-items-app",e._b({},"frequent-items-app",e.$attrs,!1))],1)],1)]),e._v(" "),e._l(e.linkGroups,(function(t,r){var i=t.key,s=t.links;return n("div",{key:i,staticClass:"gl-mt-auto gl-pt-3 gl-border-1 gl-border-t-solid gl-border-gray-100",class:{"gl-mt-3":0!==r},attrs:{"data-testid":"menu-item-group"}},e._l(s,(function(e,t){return n("top-nav-menu-item",{key:e.title,class:{"gl-mt-1":0!==t},attrs:{"menu-item":e}})})),1)}))],2)}),[],!1,null,null,null).exports;const S="gl-shadow-none! gl-font-weight-bold! active",T="gl-pt-3 gl-mt-3 gl-border-1 gl-border-t-solid gl-border-gray-100";var b={components:{KeepAliveSlots:m,TopNavContainerView:I,TopNavMenuItem:_},props:{primary:{type:Array,required:!1,default:function(){return[]}},secondary:{type:Array,required:!1,default:function(){return[]}},views:{type:Object,required:!1,default:function(){return{}}}},data:()=>({activeId:""}),computed:{menuItemGroups(){return[{key:"primary",items:this.primary,classes:""},{key:"secondary",items:this.secondary,classes:T}].filter((function(e){var t;return null===(t=e.items)||void 0===t?void 0:t.length}))},allMenuItems(){return this.menuItemGroups.flatMap((function(e){return e.items}))},activeMenuItem(){var e=this;return this.allMenuItems.find((function(t){return t.id===e.activeId}))},activeView(){var e;return null===(e=this.activeMenuItem)||void 0===e?void 0:e.view},menuClass(){return this.activeView?"":"gl-w-full"}},created(){var e;this.activeId=null===(e=this.allMenuItems.find((function(e){return e.active})))||void 0===e?void 0:e.id},methods:{onClick(e){let{id:t,href:n}=e;n||(this.activeId=t)},menuItemClasses(e){return e.id===this.activeId?S:""}},FREQUENT_ITEMS_PROJECTS:d.d,FREQUENT_ITEMS_GROUPS:d.c,ACTIVE_CLASS:S,SECONDARY_GROUP_CLASS:T},x=Object(p.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-display-flex gl-align-items-stretch"},[n("div",{staticClass:"gl-w-grid-size-30 gl-flex-shrink-0 gl-bg-gray-10",class:e.menuClass,attrs:{"data-testid":"menu-sidebar"}},[n("div",{staticClass:"gl-py-3 gl-px-5 gl-h-full gl-display-flex gl-align-items-stretch gl-flex-direction-column"},e._l(e.menuItemGroups,(function(t){return n("div",{key:t.key,class:t.classes,attrs:{"data-testid":"menu-item-group"}},e._l(t.items,(function(t,r){return n("top-nav-menu-item",{key:t.id,class:[{"gl-mt-1":0!==r},e.menuItemClasses(t)],attrs:{"data-testid":"menu-item","menu-item":t},on:{click:function(n){return e.onClick(t)}}})})),1)})),0)]),e._v(" "),n("keep-alive-slots",{directives:[{name:"show",rawName:"v-show",value:e.activeView,expression:"activeView"}],staticClass:"gl-w-grid-size-40 gl-overflow-hidden gl-py-3 gl-px-5",attrs:{"slot-key":e.activeView,"data-testid":"menu-subview"},scopedSlots:e._u([{key:"projects",fn:function(){return[n("top-nav-container-view",e._b({attrs:{"frequent-items-dropdown-type":e.$options.FREQUENT_ITEMS_PROJECTS.namespace,"frequent-items-vuex-module":e.$options.FREQUENT_ITEMS_PROJECTS.vuexModule}},"top-nav-container-view",e.views.projects,!1))]},proxy:!0},{key:"groups",fn:function(){return[n("top-nav-container-view",e._b({attrs:{"frequent-items-dropdown-type":e.$options.FREQUENT_ITEMS_GROUPS.namespace,"frequent-items-vuex-module":e.$options.FREQUENT_ITEMS_GROUPS.vuexModule}},"top-nav-container-view",e.views.groups,!1))]},proxy:!0}])})],1)}),[],!1,null,null,null).exports;const C=Object(u.e)("TopNav|Switch to...");var E={components:{GlNav:s.a,GlNavItemDropdown:a.a,GlDropdownForm:l.a,GlTooltip:o.a,TopNavDropdownMenu:x},props:{navData:{type:Object,required:!0}},methods:{findTooltipTarget(){return this.$el.querySelector(".js-top-nav-dropdown-toggle")}},TOOLTIP:C},O=Object(p.a)(E,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-nav",{staticClass:"navbar-sub-nav"},[t("gl-nav-item-dropdown",{attrs:{text:this.navData.activeTitle,icon:"dot-grid","menu-class":"gl-mt-3! gl-max-w-none! gl-max-h-none! gl-sm-w-auto!","toggle-class":"top-nav-toggle js-top-nav-dropdown-toggle gl-px-3!","no-flip":""}},[t("gl-dropdown-form",[t("top-nav-dropdown-menu",{attrs:{primary:this.navData.primary,secondary:this.navData.secondary,views:this.navData.views}})],1)],1),this._v(" "),t("gl-tooltip",{attrs:{boundary:"window","boundary-padding":0,target:this.findTooltipTarget,placement:"right",title:this.$options.TOOLTIP}})],1)}),[],!1,null,null,null).exports,q=n("Sknu");r.default.use(i.b);const M=function(e){const t=JSON.parse(e.dataset.viewModel),n=new i.b.Store(Object(q.b)());return new r.default({el:e,store:n,render:e=>e(O,{props:{navData:t}})})}}}]);
//# sourceMappingURL=top_nav.8565b528.chunk.js.map