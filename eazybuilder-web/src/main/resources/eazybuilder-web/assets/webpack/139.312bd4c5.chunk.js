(this.webpackJsonp=this.webpackJsonp||[]).push([[139],{"64hj":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={Sidebar:"sidebar",Standalone:"standalone",Embedded:"embedded"}},HnlB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){return Boolean(e&&t&&new Date(e).getTime()===new Date(t).getTime())}},TM1k:function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"setInitialState",(function(){return ae})),n.d(i,"toggleDropdownButton",(function(){return le})),n.d(i,"toggleDropdownContents",(function(){return oe})),n.d(i,"toggleDropdownContentsCreateView",(function(){return re})),n.d(i,"requestLabels",(function(){return se})),n.d(i,"receiveLabelsSuccess",(function(){return ce})),n.d(i,"receiveLabelsFailure",(function(){return de})),n.d(i,"fetchLabels",(function(){return ue})),n.d(i,"requestCreateLabel",(function(){return be})),n.d(i,"receiveCreateLabelSuccess",(function(){return pe})),n.d(i,"receiveCreateLabelFailure",(function(){return fe})),n.d(i,"createLabel",(function(){return he})),n.d(i,"updateSelectedLabels",(function(){return ge}));var a={};n.r(a),n.d(a,"dropdownButtonText",(function(){return we})),n.d(a,"selectedLabelsList",(function(){return me})),n.d(a,"isDropdownVariantSidebar",(function(){return ve})),n.d(a,"isDropdownVariantStandalone",(function(){return ye})),n.d(a,"isDropdownVariantEmbedded",(function(){return Ce}));var l=n("EmJ/"),o=n.n(l),r=n("jB52"),s=n("yi8e"),c=n("NmEs"),d=n("/lV4"),u=n("LLbv"),b=n("s1D3"),p={directives:{GlTooltip:u.a},components:{GlIcon:b.a},props:{labels:{type:Array,required:!0}},computed:{labelsList(){const e=this.labels.length?this.labels.slice(0,5).map((function(e){return e.title})).join(", "):Object(d.e)("LabelSelect|Labels");return this.labels.length>5?Object(d.f)(Object(d.e)("LabelSelect|%{labelsString}, and %{remainingLabelCount} more"),{labelsString:e,remainingLabelCount:this.labels.length-5}):e}},methods:{handleClick(){this.$emit("onValueClick")}}},f=n("tBpV"),h=Object(f.a)(p,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:this.labelsList},on:{click:this.handleClick}},[t("gl-icon",{attrs:{name:"labels"}}),this._v(" "),t("span",[this._v(this._s(this.labels.length))])],1)}),[],!1,null,null,null).exports,g=n("64hj"),w=n("4lAS");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={components:{GlButton:w.a,GlIcon:b.a},computed:v({},Object(s.d)(["dropdownButtonText","isDropdownVariantStandalone","isDropdownVariantEmbedded"])),methods:v(v({},Object(s.c)(["toggleDropdownContents"])),{},{handleButtonClick(e){(this.isDropdownVariantStandalone||this.isDropdownVariantEmbedded)&&this.toggleDropdownContents(),this.isDropdownVariantStandalone&&e.stopPropagation()}})},O=Object(f.a)(C,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-button",{staticClass:"labels-select-dropdown-button js-dropdown-button w-100 text-left",on:{click:this.handleButtonClick}},[t("span",{staticClass:"dropdown-toggle-text gl-pointer-events-none flex-fill"},[this._v("\n    "+this._s(this.dropdownButtonText)+"\n  ")]),this._v(" "),t("gl-icon",{staticClass:"gl-pointer-events-none float-right",attrs:{name:"chevron-down"}})],1)}),[],!1,null,null,null).exports,D=n("PrLL"),L=n("MV2A"),j=n("FkSe");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={components:{GlButton:w.a,GlFormInput:D.a,GlLink:L.a,GlLoadingIcon:j.a},directives:{GlTooltip:u.a},data:()=>({labelTitle:"",selectedColor:""}),computed:S(S({},Object(s.f)(["labelsCreateTitle","labelCreateInProgress"])),{},{disableCreate(){return!this.labelTitle.length||!this.selectedColor.length||this.labelCreateInProgress},suggestedColors(){const e=gon.suggested_label_colors;return Object.keys(e).map((function(t){return{[t]:e[t]}}))}}),methods:S(S({},Object(s.c)(["toggleDropdownContents","toggleDropdownContentsCreateView","createLabel"])),{},{getColorCode:e=>Object.keys(e).pop(),getColorName:e=>Object.values(e).pop(),handleColorClick(e){this.selectedColor=this.getColorCode(e)},handleCreateClick(){this.createLabel({title:this.labelTitle,color:this.selectedColor})}})},T=Object(f.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"labels-select-contents-create js-labels-create"},[n("div",{staticClass:"dropdown-title d-flex align-items-center pt-0 pb-2"},[n("gl-button",{staticClass:"js-btn-back dropdown-header-button p-0",attrs:{"aria-label":e.__("Go back"),variant:"link",size:"small",icon:"arrow-left"},on:{click:e.toggleDropdownContentsCreateView}}),e._v(" "),n("span",{staticClass:"flex-grow-1"},[e._v(e._s(e.labelsCreateTitle))]),e._v(" "),n("gl-button",{staticClass:"dropdown-header-button p-0",attrs:{"aria-label":e.__("Close"),variant:"link",size:"small",icon:"close"},on:{click:e.toggleDropdownContents}})],1),e._v(" "),n("div",{staticClass:"dropdown-input"},[n("gl-form-input",{attrs:{placeholder:e.__("Name new label"),autofocus:!0},model:{value:e.labelTitle,callback:function(t){e.labelTitle="string"==typeof t?t.trim():t},expression:"labelTitle"}})],1),e._v(" "),n("div",{staticClass:"dropdown-content px-2"},[n("div",{staticClass:"suggest-colors suggest-colors-dropdown mt-0 mb-2"},e._l(e.suggestedColors,(function(t,i){return n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer",arg:"tooltipcontainer"}],key:i,style:{backgroundColor:e.getColorCode(t)},attrs:{title:e.getColorName(t)},on:{click:function(n){return n.preventDefault(),e.handleColorClick(t)}}})})),1),e._v(" "),n("div",{staticClass:"color-input-container gl-display-flex"},[n("span",{staticClass:"dropdown-label-color-preview position-relative position-relative d-inline-block",style:{backgroundColor:e.selectedColor}}),e._v(" "),n("gl-form-input",{staticClass:"gl-rounded-top-left-none gl-rounded-bottom-left-none",attrs:{placeholder:e.__("Use custom color #FF0000")},model:{value:e.selectedColor,callback:function(t){e.selectedColor="string"==typeof t?t.trim():t},expression:"selectedColor"}})],1)]),e._v(" "),n("div",{staticClass:"dropdown-actions clearfix pt-2 px-2"},[n("gl-button",{staticClass:"float-left d-flex align-items-center",attrs:{disabled:e.disableCreate,category:"primary",variant:"success"},on:{click:e.handleCreateClick}},[n("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.labelCreateInProgress,expression:"labelCreateInProgress"}],staticClass:"mr-1",attrs:{inline:!0}}),e._v("\n      "+e._s(e.__("Create"))+"\n    ")],1),e._v(" "),n("gl-button",{staticClass:"float-right js-btn-cancel-create",on:{click:e.toggleDropdownContentsCreateView}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")])],1)])}),[],!1,null,null,null).exports,k=(n("QifN"),n("ehHk")),I=n("iN9h"),x=n("PxiM"),B=n.n(x),V=n("IfLy"),q={functional:!0,props:{label:{type:Object,required:!0},isLabelSet:{type:Boolean,required:!0},highlight:{type:Boolean,required:!1,default:!1}},render(e,t){let{props:n,listeners:i}=t;const{label:a,highlight:l,isLabelSet:o}=n,r=e("span",{class:"dropdown-label-box gl-flex-shrink-0 gl-top-0 gl-mr-3",style:{backgroundColor:a.color},attrs:{"data-testid":"label-color-box"}}),s=e(b.a,{class:{"gl-mr-3 gl-flex-shrink-0":!0,hidden:!o},props:{name:"mobile-issue-close"}}),c=e("span",{class:{"gl-mr-5 gl-pr-3":!0,hidden:o},attrs:{"data-testid":"no-icon"}}),d=e("span",a.title),u=e(L.a,{class:"gl-display-flex gl-align-items-center label-item gl-text-black-normal",on:{click:function(){i.clickLabel(a)}}},[c,s,r,d]);return e("li",{class:{"gl-display-block":!0,"gl-text-left":!0,"is-focused":l}},[u])}},$=Object(f.a)(q,void 0,void 0,!1,null,null,null).exports;function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={components:{GlIntersectionObserver:k.a,GlLoadingIcon:j.a,GlButton:w.a,GlSearchBoxByType:I.a,GlLink:L.a,LabelItem:$},data:()=>({searchKey:"",currentHighlightItem:-1}),computed:R(R(R({},Object(s.f)(["allowLabelCreate","allowMultiselect","labelsManagePath","labels","labelsFetchInProgress","labelsListTitle","footerCreateLabelTitle","footerManageLabelTitle"])),Object(s.d)(["selectedLabelsList","isDropdownVariantSidebar","isDropdownVariantEmbedded"])),{},{visibleLabels(){return this.searchKey?B.a.filter(this.labels,this.searchKey,{key:["title"]}):this.labels},showNoMatchingResultsMessage(){return Boolean(this.searchKey)&&0===this.visibleLabels.length}}),watch:{searchKey(e){e&&this.visibleLabels.length&&(this.currentHighlightItem=0)}},methods:R(R({},Object(s.c)(["toggleDropdownContents","toggleDropdownContentsCreateView","fetchLabels","receiveLabelsSuccess","updateSelectedLabels","toggleDropdownContents"])),{},{isLabelSelected(e){return this.selectedLabelsList.includes(e.id)},scrollIntoViewIfNeeded(){const e=this.$refs.labelsListContainer.querySelector(".is-focused");if(e){const t=this.$refs.labelsListContainer.getBoundingClientRect(),n=e.getBoundingClientRect();n.bottom>t.bottom?this.$refs.labelsListContainer.scrollTop+=n.bottom-t.bottom:n.top<t.top&&(this.$refs.labelsListContainer.scrollTop-=t.top-n.top)}},handleComponentAppear(){var e=this;return this.fetchLabels().then((function(){e.$refs.searchInput.focusInput()}))},handleComponentDisappear(){this.receiveLabelsSuccess([])},handleCreateLabelClick(){this.receiveLabelsSuccess([]),this.toggleDropdownContentsCreateView()},handleKeyDown(e){var t=this;e.keyCode===V.f&&this.currentHighlightItem>0?this.currentHighlightItem-=1:e.keyCode===V.c&&this.currentHighlightItem<this.visibleLabels.length-1?this.currentHighlightItem+=1:e.keyCode===V.d&&this.currentHighlightItem>-1?(this.updateSelectedLabels([this.visibleLabels[this.currentHighlightItem]]),this.searchKey=""):e.keyCode===V.e&&this.toggleDropdownContents(),e.keyCode!==V.e&&this.$nextTick((function(){t.scrollIntoViewIfNeeded()}))},handleLabelClick(e){this.updateSelectedLabels([e]),this.allowMultiselect||this.toggleDropdownContents()}})};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H={components:{DropdownContentsLabelsView:Object(f.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-intersection-observer",{on:{appear:e.handleComponentAppear,disappear:e.handleComponentDisappear}},[n("div",{staticClass:"labels-select-contents-list js-labels-list",on:{keydown:e.handleKeyDown}},[e.isDropdownVariantSidebar||e.isDropdownVariantEmbedded?n("div",{staticClass:"dropdown-title gl-display-flex gl-align-items-center gl-pt-0 gl-pb-3!",attrs:{"data-testid":"dropdown-title"}},[n("span",{staticClass:"flex-grow-1"},[e._v(e._s(e.labelsListTitle))]),e._v(" "),n("gl-button",{staticClass:"dropdown-header-button gl-p-0!",attrs:{"aria-label":e.__("Close"),variant:"link",size:"small",icon:"close"},on:{click:e.toggleDropdownContents}})],1):e._e(),e._v(" "),n("div",{staticClass:"dropdown-input",on:{click:function(e){e.stopPropagation()}}},[n("gl-search-box-by-type",{ref:"searchInput",attrs:{disabled:e.labelsFetchInProgress,"data-qa-selector":"dropdown_input_field"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),e._v(" "),n("div",{ref:"labelsListContainer",staticClass:"dropdown-content",attrs:{"data-testid":"dropdown-content"}},[e.labelsFetchInProgress?n("gl-loading-icon",{staticClass:"labels-fetch-loading gl-align-items-center w-100 h-100",attrs:{size:"md"}}):n("ul",{staticClass:"list-unstyled gl-mb-0 gl-word-break-word"},[e._l(e.visibleLabels,(function(t,i){return n("label-item",{key:t.id,attrs:{label:t,"is-label-set":t.set,highlight:i===e.currentHighlightItem},on:{clickLabel:function(n){return e.handleLabelClick(t)}}})})),e._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:e.showNoMatchingResultsMessage,expression:"showNoMatchingResultsMessage"}],staticClass:"gl-p-3 gl-text-center"},[e._v("\n          "+e._s(e.__("No matching results"))+"\n        ")])],2)],1),e._v(" "),e.isDropdownVariantSidebar||e.isDropdownVariantEmbedded?n("div",{staticClass:"dropdown-footer",attrs:{"data-testid":"dropdown-footer"}},[n("ul",{staticClass:"list-unstyled"},[e.allowLabelCreate?n("li",[n("gl-link",{staticClass:"gl-display-flex w-100 flex-row text-break-word label-item",on:{click:e.handleCreateLabelClick}},[e._v("\n            "+e._s(e.footerCreateLabelTitle)+"\n          ")])],1):e._e(),e._v(" "),n("li",[n("gl-link",{staticClass:"gl-display-flex flex-row text-break-word label-item",attrs:{href:e.labelsManagePath}},[e._v("\n            "+e._s(e.footerManageLabelTitle)+"\n          ")])],1)])]):e._e()])])}),[],!1,null,null,null).exports,DropdownContentsCreateView:T},props:{renderOnTop:{type:Boolean,required:!1,default:!1}},computed:M(M(M({},Object(s.f)(["showDropdownContentsCreateView"])),Object(s.d)(["isDropdownVariantSidebar"])),{},{dropdownContentsView(){return this.showDropdownContentsCreateView?"dropdown-contents-create-view":"dropdown-contents-labels-view"},directionStyle(){const e=this.isDropdownVariantSidebar?"3rem":"2rem";return this.renderOnTop?{bottom:e}:{}}})},K=Object(f.a)(H,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"labels-select-dropdown-contents gl-w-full gl-my-2 gl-py-3 gl-rounded-base gl-absolute",style:this.directionStyle,attrs:{"data-qa-selector":"labels_dropdown_content"}},[t(this.dropdownContentsView,{tag:"component"})],1)}),[],!1,null,null,null).exports;function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={components:{GlButton:w.a,GlLoadingIcon:j.a},props:{labelsSelectInProgress:{type:Boolean,required:!0}},computed:z({},Object(s.f)(["allowLabelEdit","labelsFetchInProgress"])),methods:z({},Object(s.c)(["toggleDropdownContents"]))},Y=Object(f.a)(X,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title hide-collapsed gl-mb-3"},[e._v("\n  "+e._s(e.__("Labels"))+"\n  "),e.allowLabelEdit?[n("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.labelsSelectInProgress,expression:"labelsSelectInProgress"}],attrs:{inline:""}}),e._v(" "),n("gl-button",{staticClass:"float-right js-sidebar-dropdown-toggle",attrs:{variant:"link","data-qa-selector":"labels_edit_button"},on:{click:e.toggleDropdownContents}},[e._v(e._s(e.__("Edit")))])]:e._e()],2)}),[],!1,null,null,null).exports;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee={components:{GlLabel:n("jl6Z").a},props:{disableLabels:{type:Boolean,required:!1,default:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(s.f)(["selectedLabels","allowLabelRemove","allowScopedLabels","labelsFilterBasePath","labelsFilterParam"])),methods:{labelFilterUrl(e){return"".concat(this.labelsFilterBasePath,"?").concat(this.labelsFilterParam,"[]=").concat(encodeURIComponent(e.title))},scopedLabel(e){return this.allowScopedLabels&&Object(c.H)(e)}}},te=Object(f.a)(ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hide-collapsed value issuable-show-labels js-value",class:{"has-labels":e.selectedLabels.length}},[e.selectedLabels.length?e._l(e.selectedLabels,(function(t){return[n("gl-label",{key:t.id,attrs:{"data-qa-selector":"selected_label_content","data-qa-label-name":t.title,title:t.title,description:t.description,"background-color":t.color,target:e.labelFilterUrl(t),scoped:e.scopedLabel(t),"show-close-button":e.allowLabelRemove,disabled:e.disableLabels,"tooltip-placement":"top"},on:{close:function(n){return e.$emit("onLabelRemove",t.id)}}})]})):n("span",{staticClass:"text-secondary"},[e._t("default")],2)],2)}),[],!1,null,null,null).exports,ne=n("XRO8"),ie=n("2ibD");const ae=function(e,t){let{commit:n}=e;return n("SET_INITIAL_STATE",t)},le=function(e){let{commit:t}=e;return t("TOGGLE_DROPDOWN_VISIBILITY")},oe=function(e){let{commit:t}=e;return t("TOGGLE_DROPDOWN_CONTENTS")},re=function(e){let{commit:t}=e;return t("TOGGLE_DROPDOWN_CONTENTS_CREATE_VIEW")},se=function(e){let{commit:t}=e;return t("REQUEST_LABELS")},ce=function(e,t){let{commit:n}=e;return n("RECEIVE_SET_LABELS_SUCCESS",t)},de=function(e){let{commit:t}=e;t("RECEIVE_SET_LABELS_FAILURE"),Object(ne.c)(Object(d.a)("Error fetching labels."))},ue=function(e){let{state:t,dispatch:n}=e;return n("requestLabels"),ie.a.get(t.labelsFetchPath).then((function(e){let{data:t}=e;n("receiveLabelsSuccess",t)})).catch((function(){return n("receiveLabelsFailure")}))},be=function(e){let{commit:t}=e;return t("REQUEST_CREATE_LABEL")},pe=function(e){let{commit:t}=e;return t("RECEIVE_CREATE_LABEL_SUCCESS")},fe=function(e){let{commit:t}=e;t("RECEIVE_CREATE_LABEL_FAILURE"),Object(ne.c)(Object(d.a)("Error creating label."))},he=function(e,t){let{state:n,dispatch:i}=e;i("requestCreateLabel"),ie.a.post(n.labelsManagePath,{label:t}).then((function(e){let{data:t}=e;if(!t.id)throw new Error("Error Creating Label");i("receiveCreateLabelSuccess"),i("toggleDropdownContentsCreateView")})).catch((function(){i("receiveCreateLabelFailure")}))},ge=function(e,t){let{commit:n}=e;return n("UPDATE_SELECTED_LABELS",{labels:t})},we=function(e,t){const n=t.isDropdownVariantSidebar?e.labels.filter((function(e){return e.set})):e.selectedLabels;return n.length?n.length>1?Object(d.f)(Object(d.e)("LabelSelect|%{firstLabelName} +%{remainingLabelCount} more"),{firstLabelName:n[0].title,remainingLabelCount:n.length-1}):n[0].title:e.dropdownButtonText||Object(d.a)("Label")},me=function(e){return e.selectedLabels.map((function(e){return e.id}))},ve=function(e){return e.variant===g.a.Sidebar},ye=function(e){return e.variant===g.a.Standalone},Ce=function(e){return e.variant===g.a.Embedded};n("EWC9");function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je={SET_INITIAL_STATE(e,t){Object.assign(e,De({},t))},TOGGLE_DROPDOWN_VISIBILITY(e){e.showDropdownButton=!e.showDropdownButton},TOGGLE_DROPDOWN_CONTENTS(e){e.variant===g.a.Sidebar&&(e.showDropdownButton=!e.showDropdownButton),e.showDropdownContents=!e.showDropdownContents,e.showDropdownContents&&(e.showDropdownContentsCreateView=!1)},TOGGLE_DROPDOWN_CONTENTS_CREATE_VIEW(e){e.showDropdownContentsCreateView=!e.showDropdownContentsCreateView},REQUEST_LABELS(e){e.labelsFetchInProgress=!0},RECEIVE_SET_LABELS_SUCCESS(e,t){const n=e.selectedLabels.map((function(e){return e.id}));e.labelsFetchInProgress=!1,e.labels=t.reduce((function(e,t){return e.push(De(De({},t),{},{set:n.includes(t.id)})),e}),[])},RECEIVE_SET_LABELS_FAILURE(e){e.labelsFetchInProgress=!1},REQUEST_CREATE_LABEL(e){e.labelCreateInProgress=!0},RECEIVE_CREATE_LABEL_SUCCESS(e){e.labelCreateInProgress=!1},RECEIVE_CREATE_LABEL_FAILURE(e){e.labelCreateInProgress=!1},UPDATE_SELECTED_LABELS(e,t){var n;let{labels:i}=t;const a=null===(n=i.pop())||void 0===n?void 0:n.id,l=e.labels.find((function(e){return a===e.id}));l&&(l.touched=!0,l.set=!l.set)}};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r.default.use(s.b);var Pe={store:new s.b.Store({namespaced:!0,state:{labels:[],selectedLabels:[],labelsListTitle:"",labelsCreateTitle:"",footerCreateLabelTitle:"",footerManageLabelTitle:"",dropdownButtonText:"",namespace:"",labelsFetchPath:"",labelsFilterBasePath:"",variant:"",allowLabelRemove:!1,allowLabelCreate:!1,allowLabelEdit:!1,allowScopedLabels:!1,allowMultiselect:!1,showDropdownButton:!1,showDropdownContents:!1,showDropdownContentsCreateView:!1,labelsFetchInProgress:!1,labelCreateInProgress:!1,selectedLabelsUpdated:!1},actions:i,getters:a,mutations:je}),components:{DropdownTitle:Y,DropdownValue:te,DropdownButton:O,DropdownContents:K,DropdownValueCollapsed:h},props:{allowLabelRemove:{type:Boolean,required:!1,default:!1},allowLabelEdit:{type:Boolean,required:!1,default:!1},allowLabelCreate:{type:Boolean,required:!1,default:!1},allowMultiselect:{type:Boolean,required:!1,default:!1},allowScopedLabels:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:g.a.Sidebar},selectedLabels:{type:Array,required:!1,default:function(){return[]}},labelsSelectInProgress:{type:Boolean,required:!1,default:!1},labelsFetchPath:{type:String,required:!1,default:""},labelsManagePath:{type:String,required:!1,default:""},labelsFilterBasePath:{type:String,required:!1,default:""},labelsFilterParam:{type:String,required:!1,default:"label_name"},dropdownButtonText:{type:String,required:!1,default:Object(d.a)("Label")},labelsListTitle:{type:String,required:!1,default:Object(d.a)("Assign labels")},labelsCreateTitle:{type:String,required:!1,default:Object(d.a)("Create group label")},footerCreateLabelTitle:{type:String,required:!1,default:Object(d.a)("Create group label")},footerManageLabelTitle:{type:String,required:!1,default:Object(d.a)("Manage group labels")},isEditing:{type:Boolean,required:!1,default:!1}},data:()=>({contentIsOnViewport:!0}),computed:Se(Se(Se({},Object(s.f)(["showDropdownButton","showDropdownContents"])),Object(s.d)(["isDropdownVariantSidebar","isDropdownVariantStandalone","isDropdownVariantEmbedded"])),{},{dropdownButtonVisible(){return!this.isDropdownVariantSidebar||this.showDropdownButton}}),watch:{selectedLabels(e){this.setInitialState({selectedLabels:e})},showDropdownContents(e){this.setContentIsOnViewport(e)},isEditing(e){e&&this.toggleDropdownContents()}},mounted(){this.setInitialState({variant:this.variant,allowLabelRemove:this.allowLabelRemove,allowLabelEdit:this.allowLabelEdit,allowLabelCreate:this.allowLabelCreate,allowMultiselect:this.allowMultiselect,allowScopedLabels:this.allowScopedLabels,dropdownButtonText:this.dropdownButtonText,selectedLabels:this.selectedLabels,labelsFetchPath:this.labelsFetchPath,labelsManagePath:this.labelsManagePath,labelsFilterBasePath:this.labelsFilterBasePath,labelsFilterParam:this.labelsFilterParam,labelsListTitle:this.labelsListTitle,labelsCreateTitle:this.labelsCreateTitle,footerCreateLabelTitle:this.footerCreateLabelTitle,footerManageLabelTitle:this.footerManageLabelTitle}),this.$store.subscribeAction({after:this.handleVuexActionDispatch}),document.addEventListener("mousedown",this.handleDocumentMousedown),document.addEventListener("click",this.handleDocumentClick)},beforeDestroy(){document.removeEventListener("mousedown",this.handleDocumentMousedown),document.removeEventListener("click",this.handleDocumentClick)},methods:Se(Se({},Object(s.c)(["setInitialState","toggleDropdownContents"])),{},{handleVuexActionDispatch(e,t){if("toggleDropdownContents"===e.type&&!t.showDropdownButton&&!t.showDropdownContents){let e=function(e){return e.touched};this.isDropdownVariantEmbedded&&(e=function(e){return e.set}),this.handleDropdownClose(t.labels.filter(e))}},handleDocumentMousedown(e){let{target:t}=e;this.mousedownTarget=t},handleDocumentClick(e){let{target:t}=e;!this.showDropdownContents||this.preventDropdownToggleOnClick(t)||this.preventDropdownToggleOnClick(this.mousedownTarget)||this.toggleDropdownContents()},preventDropdownToggleOnClick(e){var t,n;const i=["js-dropdown-button","js-btn-cancel-create","js-sidebar-dropdown-toggle"].some((function(t){var n;return(null==e?void 0:e.classList.contains(t))||(null==e?void 0:null===(n=e.parentElement)||void 0===n?void 0:n.classList.contains(t))})),a=[".js-btn-back",".js-labels-list"].some((function(t){return o()(e).parents(t).length})),l=null===(t=this.$refs.dropdownButtonCollapsed)||void 0===t?void 0:t.$el.contains(e),r=null===(n=this.$refs.dropdownContents)||void 0===n?void 0:n.$el.contains(e);return i||a||l||r},handleDropdownClose(e){e.length&&this.$emit("updateSelectedLabels",e),this.$emit("onDropdownClose")},handleCollapsedValueClick(){this.$emit("toggleCollapse")},setContentIsOnViewport(e){var t=this;e?this.$nextTick((function(){t.$refs.dropdownContents&&(t.contentIsOnViewport=Object(c.E)(t.$refs.dropdownContents.$el))})):this.contentIsOnViewport=!0}})},Te=Object(f.a)(Pe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"labels-select-wrapper position-relative",class:{"is-standalone":e.isDropdownVariantStandalone,"is-embedded":e.isDropdownVariantEmbedded}},[e.isDropdownVariantSidebar?[n("dropdown-value-collapsed",{ref:"dropdownButtonCollapsed",attrs:{labels:e.selectedLabels},on:{onValueClick:e.handleCollapsedValueClick}}),e._v(" "),n("dropdown-title",{attrs:{"allow-label-edit":e.allowLabelEdit,"labels-select-in-progress":e.labelsSelectInProgress}}),e._v(" "),n("dropdown-value",{attrs:{"disable-labels":e.labelsSelectInProgress},on:{onLabelRemove:function(t){return e.$emit("onLabelRemove",t)}}},[e._t("default")],2),e._v(" "),n("dropdown-button",{directives:[{name:"show",rawName:"v-show",value:e.dropdownButtonVisible,expression:"dropdownButtonVisible"}],staticClass:"gl-mt-2"}),e._v(" "),n("dropdown-contents",{directives:[{name:"show",rawName:"v-show",value:e.dropdownButtonVisible&&e.showDropdownContents,expression:"dropdownButtonVisible && showDropdownContents"}],ref:"dropdownContents",attrs:{"render-on-top":!e.contentIsOnViewport}})]:e._e(),e._v(" "),e.isDropdownVariantStandalone||e.isDropdownVariantEmbedded?[n("dropdown-button",{directives:[{name:"show",rawName:"v-show",value:e.dropdownButtonVisible,expression:"dropdownButtonVisible"}]}),e._v(" "),e.dropdownButtonVisible&&e.showDropdownContents?n("dropdown-contents",{ref:"dropdownContents",attrs:{"render-on-top":!e.contentIsOnViewport}}):e._e()]:e._e()],2)}),[],!1,null,null,null);t.a=Te.exports},"dR/i":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("b9Gi"),a=n("jB52"),l=n("XRO8"),o=n("/lV4"),r=n("kMc5"),s=n("H3X6"),c=n("s1D3"),d=n("LLbv"),u={components:{GlIcon:c.a},directives:{GlTooltip:d.a},props:{confidential:{type:Boolean,required:!0},issuableType:{type:String,required:!0}},computed:{confidentialText(){return this.confidential?Object(o.f)(Object(o.a)("This %{issuableType} is confidential"),{issuableType:this.issuableType}):Object(o.a)("Not confidential")},confidentialIcon(){return this.confidential?"eye-slash":"eye"},tooltipLabel(){return this.confidential?Object(o.a)("Confidential"):Object(o.a)("Not confidential")}}},b=n("tBpV"),p=Object(b.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipLabel,"data-testid":"sidebar-collapsed-icon"},on:{click:function(t){return e.$emit("expandSidebar")}}},[n("gl-icon",{staticClass:"sidebar-item-icon inline",class:{"is-active":e.confidential},attrs:{size:16,name:e.confidentialIcon}})],1),e._v(" "),n("gl-icon",{staticClass:"sidebar-item-icon inline hide-collapsed",class:{"is-active":e.confidential},attrs:{size:16,name:e.confidentialIcon}}),e._v(" "),n("span",{staticClass:"hide-collapsed",attrs:{"data-testid":"confidential-text"}},[e._v(e._s(e.confidentialText))])],1)}),[],!1,null,null,null).exports,f=(n("jaBk"),n("KcQl"),n("30su")),h=n("4lAS"),g=n("xk0s");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={i18n:{confidentialityOnWarning:Object(o.a)("You are going to turn on confidentiality. Only team members with %{strongStart}at least Reporter access%{strongEnd} will be able to see and leave comments on the %{issuableType}."),confidentialityOffWarning:Object(o.a)("You are going to turn off the confidentiality. This means %{strongStart}everyone%{strongEnd} will be able to see and leave a comment on this %{issuableType}.")},components:{GlSprintf:f.a,GlButton:h.a},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},confidential:{required:!0,type:Boolean},issuableType:{required:!0,type:String}},data:()=>({loading:!1}),computed:{toggleButtonText(){return this.loading?Object(o.a)("Applying"):this.confidential?Object(o.a)("Turn off"):Object(o.a)("Turn on")},warningMessage(){return this.confidential?this.$options.i18n.confidentialityOffWarning:this.$options.i18n.confidentialityOnWarning},workspacePath(){return this.issuableType===g.c.Issue?{projectPath:this.fullPath}:{groupPath:this.fullPath}}},methods:{submitForm(){var e=this;this.loading=!0,this.$apollo.mutate({mutation:s.c[this.issuableType].mutation,variables:{input:m(m({},this.workspacePath),{},{iid:this.iid,confidential:!this.confidential})}}).then((function(t){let{data:{issuableSetConfidential:{errors:n}}}=t;n.length?Object(l.b)({message:n[0]}):e.$emit("closeForm")})).catch((function(){Object(l.b)({message:Object(o.f)(Object(o.a)("Something went wrong while setting %{issuableType} confidentiality."),{issuableType:e.issuableType})})})).finally((function(){e.loading=!1}))}}},C=Object(b.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown show"},[n("div",{staticClass:"dropdown-menu sidebar-item-warning-message"},[n("div",[n("p",{attrs:{"data-testid":"warning-message"}},[n("gl-sprintf",{attrs:{message:e.warningMessage},scopedSlots:e._u([{key:"strong",fn:function(t){var i=t.content;return[n("strong",[e._v(e._s(i))])]}},{key:"issuableType",fn:function(){return[e._v(e._s(e.issuableType))]},proxy:!0}])})],1),e._v(" "),n("div",{staticClass:"sidebar-item-warning-message-actions"},[n("gl-button",{staticClass:"gl-mr-3",attrs:{"data-testid":"confidential-cancel"},on:{click:function(t){return e.$emit("closeForm")}}},[e._v("\n          "+e._s(e.__("Cancel"))+"\n        ")]),e._v(" "),n("gl-button",{attrs:{category:"secondary",variant:"confirm",disabled:e.loading,loading:e.loading,"data-testid":"confidential-toggle"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n          "+e._s(e.toggleButtonText)+"\n        ")])],1)])])])}),[],!1,null,null,null).exports;const O=a.default.observable({setConfidentiality:null}),D=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var L={tracking:{event:"click_edit_button",label:"right_sidebar",property:"confidentiality"},components:{SidebarEditableItem:r.a,SidebarConfidentialityContent:p,SidebarConfidentialityForm:C},inject:{isClassicSidebar:{default:!1}},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({confidential:!1}),apollo:{confidential:{query(){return s.c[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t,n;return(null===(t=e.workspace)||void 0===t?void 0:null===(n=t.issuable)||void 0===n?void 0:n.confidential)||!1},result(e){var t,n;let{data:i}=e;this.$emit("confidentialityUpdated",null===(t=i.workspace)||void 0===t?void 0:null===(n=t.issuable)||void 0===n?void 0:n.confidential)},error(){Object(l.b)({message:Object(o.f)(Object(o.a)("Something went wrong while setting %{issuableType} confidentiality."),{issuableType:this.issuableType})})}}},computed:{isLoading(){return this.$apollo.queries.confidential.loading}},mounted(){O.setConfidentiality=this.setConfidentiality},destroyed(){O.setConfidentiality=null},methods:{closeForm(){this.$refs.editable.collapse(),this.$el.dispatchEvent(D),this.$emit("closeForm")},setConfidentiality(){var e=this;const{defaultClient:t}=this.$apollo.provider.clients,n=t.readQuery({query:s.c[this.issuableType].query,variables:{fullPath:this.fullPath,iid:this.iid}}),a=Object(i.a)(n,(function(t){t.workspace.issuable.confidential=!e.confidential}));t.writeQuery({query:s.c[this.issuableType].query,variables:{fullPath:this.fullPath,iid:this.iid},data:a})},expandSidebar(){this.$refs.editable.expand(),this.$emit("expandSidebar")}}},j=Object(b.a)(L,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sidebar-editable-item",{ref:"editable",staticClass:"block confidentiality",attrs:{title:e.__("Confidentiality"),tracking:e.$options.tracking,loading:e.isLoading},scopedSlots:e._u([{key:"collapsed",fn:function(){return[n("div",[e.isLoading?e._e():n("sidebar-confidentiality-content",{class:{"gl-mt-3":!e.isClassicSidebar},attrs:{confidential:e.confidential,"issuable-type":e.issuableType},on:{expandSidebar:e.expandSidebar}})],1)]},proxy:!0},{key:"default",fn:function(){return[n("sidebar-confidentiality-content",{attrs:{confidential:e.confidential,"issuable-type":e.issuableType}}),e._v(" "),n("sidebar-confidentiality-form",{attrs:{iid:e.iid,"full-path":e.fullPath,confidential:e.confidential,"issuable-type":e.issuableType},on:{closeForm:e.closeForm}})]},proxy:!0}])})}),[],!1,null,null,null);t.b=j.exports},uSO3:function(e,t,n){"use strict";n("jaBk"),n("KcQl");var i=n("LLbv"),a=n("s1D3"),l=n("FkSe"),o=n("j00k"),r=n("XRO8"),s=n("xk0s"),c=n("/lV4"),d=n("kMc5"),u=n("H3X6");var b={tracking:{event:"click_edit_button",label:"right_sidebar",property:"subscriptions"},directives:{GlTooltip:i.a},components:{GlIcon:a.a,GlLoadingIcon:l.a,GlToggle:o.a,SidebarEditableItem:d.a},inject:["canUpdate"],props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({subscribed:!1,loading:!1,emailsDisabled:!1}),apollo:{subscribed:{query(){return u.j[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t,n;return(null===(t=e.workspace)||void 0===t?void 0:null===(n=t.issuable)||void 0===n?void 0:n.subscribed)||!1},result(e){var t,n,i,a,l;let{data:o}=e;this.emailsDisabled=this.parentIsGroup?null===(t=o.workspace)||void 0===t?void 0:t.emailsDisabled:null===(n=o.workspace)||void 0===n?void 0:null===(i=n.issuable)||void 0===i?void 0:i.emailsDisabled,this.$emit("subscribedUpdated",null===(a=o.workspace)||void 0===a?void 0:null===(l=a.issuable)||void 0===l?void 0:l.subscribed)},error(){Object(r.b)({message:Object(c.f)(Object(c.a)("Something went wrong while setting %{issuableType} notifications."),{issuableType:this.issuableType})})}}},computed:{isLoading(){var e,t;return(null===(e=this.$apollo.queries)||void 0===e?void 0:null===(t=e.subscribed)||void 0===t?void 0:t.loading)||this.loading},notificationTooltip(){return this.emailsDisabled?this.subscribeDisabledDescription:this.subscribed?this.$options.i18n.labelOn:this.$options.i18n.labelOff},notificationIcon(){return this.emailsDisabled||!this.subscribed?"notifications-off":"notifications"},parentIsGroup(){return this.issuableType===s.c.Epic},subscribeDisabledDescription(){return Object(c.f)(Object(c.a)("Disabled by %{parent} owner"),{parent:this.parentIsGroup?"group":"project"})}},methods:{setSubscribed(e){var t=this;this.loading=!0,this.$apollo.mutate({mutation:u.j[this.issuableType].mutation,variables:{fullPath:this.fullPath,iid:this.iid,subscribedState:e}}).then((function(e){let{data:{updateIssuableSubscription:{errors:t}}}=e;t.length&&Object(r.b)({message:t[0]})})).catch((function(){Object(r.b)({message:Object(c.f)(Object(c.a)("Something went wrong while setting %{issuableType} notifications."),{issuableType:t.issuableType})})})).finally((function(){t.loading=!1}))},toggleSubscribed(){this.emailsDisabled?this.expandSidebar():this.setSubscribed(!this.subscribed)},expandSidebar(){this.$emit("expandSidebar")}},i18n:{notifications:Object(c.a)("Notifications"),labelOn:Object(c.a)("Notifications on"),labelOff:Object(c.a)("Notifications off")}},p=n("tBpV"),f=Object(p.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sidebar-editable-item",{ref:"editable",staticClass:"block subscriptions",attrs:{title:e.$options.i18n.notifications,tracking:e.$options.tracking,loading:e.isLoading,"can-edit":!1},scopedSlots:e._u([{key:"collapsed-right",fn:function(){return[n("gl-toggle",{staticClass:"hide-collapsed gl-ml-auto",attrs:{value:e.subscribed,"is-loading":e.isLoading,disabled:e.emailsDisabled||!e.canUpdate,"data-testid":"subscription-toggle",label:e.$options.i18n.notifications,"label-position":"hidden"},on:{change:e.setSubscribed}})]},proxy:!0},{key:"collapsed",fn:function(){return[n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],ref:"tooltip",staticClass:"sidebar-collapsed-icon",attrs:{title:e.notificationTooltip},on:{click:e.toggleSubscribed}},[e.isLoading?n("gl-loading-icon",{staticClass:"sidebar-item-icon is-active"}):n("gl-icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.notificationIcon,size:16}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.emailsDisabled,expression:"emailsDisabled"}],staticClass:"gl-mt-3 hide-collapsed gl-text-gray-500"},[e._v("\n      "+e._s(e.subscribeDisabledDescription)+"\n    ")])]},proxy:!0},{key:"default",fn:function(){},proxy:!0}])})}),[],!1,null,null,null);t.a=f.exports},"vZ/O":function(e,t,n){"use strict";var i=n("lx39"),a=n.n(i),l=n("+XPY"),o=n.n(l),r=n("XBTk"),s=n("HnlB"),c=n("4lAS"),d=n("PrLL"),u=n("s1D3"),b=n("Pyw5"),p=n.n(b),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"0".concat(e).slice(-t)};const h={components:{GlFormInput:d.a,GlIcon:u.a,GlButton:c.a},props:{target:{type:String,required:!1,default:""},container:{type:String,required:!1,default:""},value:{type:Date,required:!1,default:null},minDate:{type:Date,required:!1,default:null},maxDate:{type:Date,required:!1,default:null},startRange:{type:Date,required:!1,default:null},endRange:{type:Date,required:!1,default:null},disableDayFn:{type:Function,required:!1,default:null},firstDay:{type:Number,required:!1,default:0},arialLabel:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:r.m},autocomplete:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1},displayField:{type:Boolean,required:!1,default:!0},startOpened:{type:Boolean,required:!1,default:!1},defaultDate:{type:Date,required:!1,default:null},i18n:{type:Object,required:!1,default:null},theme:{type:String,required:!1,default:""},showClearButton:{type:Boolean,required:!1,default:!1},inputId:{type:String,required:!1,default:null},inputLabel:{type:String,required:!1,default:"Enter date"},inputName:{type:String,required:!1,default:null}},data:function(){return{textInput:""}},computed:{formattedDate:function(){return this.calendar&&this.calendar.toString()},customTrigger:function(){return a()(this.target)&&""!==this.target},triggerOnFocus:function(){return null===this.target},showDefaultField:function(){return!this.customTrigger||this.triggerOnFocus},renderClearButton:function(){return this.showClearButton&&""!==this.textInput&&!this.disabled},inputAutocomplete:function(){return""!==this.autocomplete?this.autocomplete:this.triggerOnFocus?"off":null}},watch:{value:function(e){Object(s.a)(e,this.calendar.getDate())||this.calendar.setDate(e,!0)},minDate:function(e){this.calendar.setMinDate(e)},maxDate:function(e){this.calendar.setMaxDate(e)},startRange:function(e){this.calendar.setStartRange(e)},endRange:function(e){this.calendar.setEndRange(e)}},mounted:function(){var e=this.$parent.$el,t=this.draw.bind(this),n={field:this.$el.querySelector('input[type="text"]'),theme:"gl-datepicker-theme position-absolute ".concat(this.theme),defaultDate:this.defaultDate||this.value,setDefaultDate:Boolean(this.value)||Boolean(this.defaultDate),minDate:this.minDate,maxDate:this.maxDate,format:r.m,disableDayFn:this.disableDayFn,firstDay:this.firstDay,arialLabel:this.ariaLabel,toString:function(e){return function(e){var t=f(e.getDate()),n=f(e.getMonth()+1),i=e.getFullYear();return"".concat(i,"-").concat(n,"-").concat(t)}(e)},onSelect:this.selected.bind(this),onClose:this.closed.bind(this),onOpen:this.opened.bind(this),onDraw:function(e){!function(e){var t=e.el.querySelectorAll(".pika-button"),n=new Date;t.forEach((function(e){var t,i,a=e.dataset,l=a.pikaYear,o=a.pikaMonth,r=a.pikaDay,s=new Date(l,o,r);i=s,(t=n)&&i&&i.getTime()<t.getTime()&&e.classList.add("is-past-date")}))}(e),t()}};if(!this.triggerOnFocus&&!this.disabled){var i=this.customTrigger?e.querySelector(this.target):this.$refs.calendarTriggerBtn.$el;n.trigger=i,!n.field&&this.customTrigger&&(n.field=i)}if(null!==this.container){var a=this.container?e.querySelector(this.container):this.$el;n.container=a}this.i18n&&(n.i18n=this.i18n),this.calendar=new o.a(n),this.startOpened&&this.calendar.show()},beforeDestroy:function(){this.calendar.destroy()},methods:{selected:function(e){this.$emit("input",e)},closed:function(){this.$emit("close")},opened:function(){this.$emit("open")},cleared:function(){this.textInput="",this.$emit("clear")},draw:function(){this.$emit("monthChange")},onKeydown:function(){if(""===this.textInput){var e=this.minDate||null;this.calendar.setDate(e),this.selected(e)}}}};const g=p()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-datepicker d-inline-block"},[e.showDefaultField?n("div",{staticClass:"position-relative"},[e._t("default",[n("gl-form-input",{staticClass:"gl-datepicker-input",class:e.renderClearButton?"gl-pr-9!":"gl-pr-7!",attrs:{id:e.inputId,name:e.inputName,"data-testid":"gl-datepicker-input",value:e.formattedDate,placeholder:e.placeholder,autocomplete:e.inputAutocomplete,disabled:e.disabled,"aria-label":e.inputLabel},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onKeydown(t)}},model:{value:e.textInput,callback:function(t){e.textInput=t},expression:"textInput"}})],{formattedDate:e.formattedDate}),e._v(" "),n("div",{staticClass:"gl-datepicker-actions"},[e.renderClearButton?n("gl-button",{staticClass:"gl-pointer-events-auto",attrs:{"data-testid":"clear-button","aria-label":"Clear date",category:"tertiary",size:"small",icon:"clear"},on:{click:e.cleared}}):e._e(),e._v(" "),e.triggerOnFocus||e.disabled?n("span",{staticClass:"gl-px-2",class:e.disabled?"gl-text-gray-400":"gl-text-gray-500",attrs:{"data-testid":"datepicker-calendar-icon"}},[n("gl-icon",{staticClass:"gl-display-block",attrs:{name:"calendar",size:16}})],1):n("gl-button",{ref:"calendarTriggerBtn",staticClass:"gl-pointer-events-auto",attrs:{"aria-label":"Open datepicker",category:"tertiary",size:"small",icon:"calendar"}})],1)],2):e._t("default",null,{formattedDate:e.formattedDate})],2)},staticRenderFns:[]},void 0,h,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=g}}]);
//# sourceMappingURL=139.312bd4c5.chunk.js.map