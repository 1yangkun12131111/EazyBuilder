(this.webpackJsonp=this.webpackJsonp||[]).push([[374],{"16r0":function(t,e,r){"use strict";var n=r("2FGo"),o=r.n(n),a=r("kPIO"),i=r("WkA6"),s=r("hXLA"),c=r("XBTk"),l=r("Qog8"),u=r("93Ww"),d=r("J7jM"),h=r("Gx1T"),p=r("sCiu"),f=r("Pyw5"),m=r.n(f);function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v=j(j({},a.s),{},{nameLocation:"center",axisTick:{show:!1}});const S={components:{Chart:h.a,ChartTooltip:p.a,TooltipDefaultFormat:d.a},mixins:[u.a],inheritAttrs:!1,props:{bars:{type:Array,required:!1,default:function(){return[]}},lines:{type:Array,required:!1,default:function(){return[]}},secondaryData:{type:Array,required:!1,default:function(){return[]}},option:{type:Object,required:!1,default:function(){return{}}},yAxisTitle:{type:String,required:!0},secondaryDataTitle:{type:String,required:!1,default:""},xAxisTitle:{type:String,required:!0},xAxisType:{type:String,required:!0,validator:function(t){return-1!==["value","category","time","log"].indexOf(t)}}},data:function(){return{chart:null,showTooltip:!1,tooltipTitle:"",tooltipContent:{},tooltipPosition:{left:"0",top:"0"},debouncedMoveShowTooltip:Object(l.b)(this.moveShowTooltip)}},computed:{hasSecondaryAxis:function(){return Boolean(this.secondaryData.length)},barSeries:function(){var t=this;return this.bars.map((function(e,r){var n=e.name,o=e.data,i=Object(s.a)(r);return Object(a.g)({stack:t.groupBy,name:n,data:o,color:i})}))},lineSeries:function(){var t=this.bars.length;return this.lines.map((function(e,r){var n=e.name,o=e.data,i=Object(s.a)(t+r);return Object(a.h)({name:n,data:o,color:i})}))},secondarySeries:function(){var t=this.bars.length+this.lines.length;return this.secondaryData.map((function(e,r){var n=e.name,o=e.data,l=e.type,u=e.stack,d=void 0===u?c.l.tiled:u,h=Object(s.a)(t+r);return l===i.e?Object(a.h)({color:h,name:n,data:o,yAxisIndex:1}):Object(a.g)({color:h,name:n,data:o,yAxisIndex:1,stack:d})}))},series:function(){return[].concat(y(this.barSeries),y(this.lineSeries),y(this.secondarySeries))},options:function(){var t=o()({},a.b,{grid:this.hasSecondaryAxis?a.m:a.l,xAxis:{boundaryGap:!0,axisLabel:{margin:20,verticalAlign:"bottom"},axisLine:{show:!1},axisPointer:{show:!0,type:"none",label:{formatter:this.onLabelChange}},name:this.xAxisTitle,type:this.xAxisType},yAxis:[j(j({},v),{},{name:this.yAxisTitle}),j(j({},v),{},{name:this.secondaryDataTitle,show:this.hasSecondaryAxis})],legend:{show:!1}},this.option,Object(a.a)(this.option.dataZoom),this.toolboxAdjustments);return Object(a.p)(t,this.series)}},beforeDestroy:function(){this.chart.getDom().removeEventListener("mousemove",this.debouncedMoveShowTooltip),this.chart.getDom().removeEventListener("mouseout",this.debouncedMoveShowTooltip)},methods:{moveShowTooltip:function(t){this.tooltipPosition={left:"".concat(t.zrX+i.m,"px"),top:"".concat(t.zrY,"px")},this.showTooltip=this.chart.containPixel("grid",[t.zrX,t.zrY])},onCreated:function(t){t.getDom().addEventListener("mousemove",this.debouncedMoveShowTooltip),t.getDom().addEventListener("mouseout",this.debouncedMoveShowTooltip),this.chart=t,this.$emit("created",t)},onLabelChange:function(t){var e=Object(a.i)(t,this.yAxisTitle),r=e.xLabels,n=e.tooltipContent;this.$set(this,"tooltipContent",n),this.tooltipTitle=r.join(", ")}}};const x=m()({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"position-relative"},[r("chart",t._g(t._b({attrs:{options:t.options},on:{created:t.onCreated}},"chart",t.$attrs,!1),t.$listeners)),t._v(" "),t.chart?r("chart-tooltip",{attrs:{show:t.showTooltip,chart:t.chart,top:t.tooltipPosition.top,left:t.tooltipPosition.left}},[r("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.tooltipTitle)+" ("+t._s(t.xAxisTitle)+")")]),t._v(" "),r("tooltip-default-format",{attrs:{"tooltip-content":t.tooltipContent}})],1):t._e()],1)},staticRenderFns:[]},void 0,S,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=x},204:function(t,e,r){r("HVBj"),r("gjpc"),t.exports=r("e1cT")},GVjJ:function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return c}));r("EWC9"),r("gNBD"),r("orcL");var n=r("0AwG");function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const s=function(t){const e=new FormData(t);return function(t){return t.reduce((function(t,e){let{name:r,value:n}=e;return Object.assign(t,{[r]:n})}),{})}(Array.from(e.keys()).map((function(t){let r=e.getAll(t);return{name:t,value:1===(r=r.filter((function(t){return t}))).length?r[0]:r}})))},c=function(t){if(!t)throw new TypeError("`mountEl` argument is required");return[...t.querySelectorAll("[name]")].reduce((function(t,e){const r=e.dataset.jsName;if(!r)return t;const o=Object(n.c)(r),{id:i,placeholder:s,name:c,value:l,type:u,checked:d}=e,h=a({name:c,id:i,value:l},s&&{placeholder:s});return["radio","checkbox"].includes(u)?a(a({},t),{},{[o]:[...t[o]||[],a(a({},h),{},{checked:d})]}):a(a({},t),{},{[o]:h})}),{})}},ZeWX:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));r("QifN"),r("pBsb"),r("Ch9p"),r("+xeR"),r("orcL"),r("pETN");var n=r("EmJ/"),o=r.n(n),a=r("06tH"),i=r.n(a);var s=r("m/7A"),c=r("XRO8"),l=r("2ibD"),u=r("GVjJ"),d=r("3twG"),h=r("/lV4"),p=r("k/Fq");class f{constructor(){!function(){const t=o()("ul.clone-options-dropdown");if(t.length){const e=o()("#clone_url"),r=o()(".js-git-clone-holder .js-clone-dropdown-label"),n=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),a=r.text().trim();a.length>0&&o()("a:contains('".concat(a,"')"),t).addClass("is-active"),o()("a",t).on("click",(function(r){const a=o()(r.currentTarget),i=a.attr("href");if(i&&(i.startsWith("vscode://")||i.startsWith("xcode://")))return;r.preventDefault();const s=a.data("cloneType");o()(".is-active",t).removeClass("is-active"),o()('a[data-clone-type="'.concat(s,'"]')).each((function(){const t=o()(this),e=t.find(".dropdown-menu-inner-title").text(),r=t.closest(".js-git-clone-holder, .js-mobile-git-clone").find(".js-clone-dropdown-label");t.toggleClass("is-active"),r.text(e)})),n?n.dataset.clipboardText=i:e.val(i),o()(".js-git-empty .js-clone").text(i)}))}}(),document.querySelector(".js-project-refs-dropdown")&&(f.initRefSwitcher(),o()(".project-refs-select").on("change",(function(){return o()(this).parents("form").trigger("submit")}))),o()(".hide-no-ssh-message").on("click",(function(t){return i.a.set("hide_no_ssh_message","false"),o()(this).parents(".no-ssh-key-message").remove(),t.preventDefault()})),o()(".hide-no-password-message").on("click",(function(t){return i.a.set("hide_no_password_message","false"),o()(this).parents(".no-password-message").remove(),t.preventDefault()})),o()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(t){const e=o()(this).data("project-id"),r="hide_auto_devops_implicitly_enabled_banner_".concat(e);return i.a.set(r,"false"),o()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),t.preventDefault()})),f.projectSelectDropdown()}static projectSelectDropdown(){Object(p.a)(),o()(".project-item-select").on("click",(function(t){return f.changeProject(o()(t.currentTarget).val())}))}static changeProject(t){return window.location=t}static initRefSwitcher(){const t=document.createElement("li"),e=document.createElement("a");return e.href="#",o()(".js-project-refs-dropdown").each((function(){const r=o()(this),n=r.data("selected"),a=r.data("fieldName"),i=Boolean(r.data("visit")),p=r.closest("form"),f=p.attr("action"),m=Object(d.q)(Object(u.b)(p[0]),f);return Object(s.a)(r,{data(t,e){l.a.get(r.data("refsUrl"),{params:{ref:r.data("ref"),search:t}}).then((function(t){let{data:r}=t;return e(r)})).catch((function(){return Object(c.c)(Object(h.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:r.data("inputFieldName"),fieldName:a,renderRow(r){const o=t.cloneNode(!1),s=e.cloneNode(!1);return r===n&&(s.className="is-active"),s.textContent=r,s.dataset.ref=r,r.length>0&&i&&(s.href=Object(d.q)({[a]:r},m)),o.appendChild(s),o},id:(t,e)=>e.attr("data-ref"),toggleLabel:(t,e)=>e.text().trim(),clicked(t){const{e:e}=t;if(e.preventDefault(),i){const t=new URL(e.target.href),n=window.location.href;if(n.includes("/-/")){const e=r.data("ref"),o=n.split(e)[1];if(null==o?void 0:o.startsWith("/")){const e=null==o?void 0:o.slice(1).split("#")[0];t.searchParams.set("path",e),t.hash=window.location.hash}}e.metaKey?window.open(t.href,"_blank"):window.location.href=t.href}}})}))}}},e1cT:function(t,e,r){"use strict";r.r(e);var n=r("jB52"),o=(r("orcL"),r("16r0")),a=r("/lV4"),i={i18n:{noDataMsg:Object(a.e)("ProductAnalytics|There is no data for this type of chart currently. Please see the Setup tab if you have not configured the product analytics tool already.")},components:{GlColumnChart:o.a},inject:{formattedData:{default:{}}},computed:{barSeriesData(){var t=this;return[{name:"full",data:this.formattedData.keys.map((function(e,r){return[e,t.formattedData.values[r]]}))}]}}},s=r("tBpV"),c=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"gl-xs-w-full"},[this.formattedData.keys?e("gl-column-chart",{attrs:{bars:this.barSeriesData,"x-axis-title":this.__("Value"),"y-axis-title":this.__("Number of events"),"x-axis-type":"category"}}):e("p",{attrs:{"data-testid":"noActivityChartData"}},[this._v("\n    "+this._s(this.$options.i18n.noDataMsg)+"\n  ")])],1)}),[],!1,null,null,null).exports;!function(){const t=document.querySelectorAll(".js-project-analytics-chart");!!t&&t.forEach((function(t){const{chartData:e}=t.dataset,r=JSON.parse(e);return new n.default({el:t,components:{ActivityChart:c},provide:{formattedData:r},render:t=>t("activity-chart")})}))}()},gNBD:function(t,e,r){var n=r("ZfjD"),o=r("H81m"),a=r("b05b");n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,r){a(e,t,r)}),{AS_ENTRIES:!0}),e}})},gjpc:function(t,e,r){"use strict";r.r(e);var n=r("CX32");new(r("ZeWX").a),new n.a},"k/Fq":function(t,e,r){"use strict";r("jaBk");var n=r("EmJ/"),o=r.n(n),a=r("qPgm"),i=r("qnJZ"),s=r("/lV4"),c=(r("pBsb"),r("n7CP"));class l{constructor(t){this.projectSelectInput=o()(t),this.newItemBtn=o()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}bindEvents(){var t=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(e){return t.openDropdown(e)})),this.newItemBtn.on("click",(function(e){t.getProjectFromLocalStorage()||(e.preventDefault(),t.openDropdown(e))})),this.projectSelectInput.on("change",(function(){return t.selectProject()}))}initLocalStorage(){c.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}openDropdown(t){r.e(443).then(r.t.bind(null,"p9g0",7)).then((function(){Object(i.a)(gon.select2_css_path).then((function(){o()(t.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))})).catch((function(){}))}selectProject(){const t=JSON.parse(this.projectSelectInput.val()),e={url:"".concat(t.url,"/").concat(this.projectSelectInput.data("relativePath")),name:t.name};this.setNewItemBtnAttributes(e),this.setProjectInLocalStorage(e)}setBtnTextFromLocalStorage(){const t=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(t)}setNewItemBtnAttributes(t){t?(this.newItemBtn.attr("href",t.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(t.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}getProjectFromLocalStorage(){const t=localStorage.getItem(this.localStorageKey);return JSON.parse(t)}setProjectInLocalStorage(t){const e=JSON.stringify(t);localStorage.setItem(this.localStorageKey,e)}deriveTextVariants(){const t=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:t,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}const u=function(){Object(i.a)(gon.select2_css_path).then((function(){o()(".ajax-project-select").each((function(t,e){var r=this;let n;const i=o()(e).data("simpleFilter")||!1,c=o()(e).data("select2");return this.groupId=o()(e).data("groupId"),this.userId=o()(e).data("userId"),this.includeGroups=o()(e).data("includeGroups"),this.allProjects=o()(e).data("allProjects")||!1,this.orderBy=o()(e).data("orderBy")||"id",this.withIssuesEnabled=o()(e).data("withIssuesEnabled"),this.withMergeRequestsEnabled=o()(e).data("withMergeRequestsEnabled"),this.withShared=void 0===o()(e).data("withShared")||o()(e).data("withShared"),this.includeProjectsInSubgroups=o()(e).data("includeProjectsInSubgroups")||!1,this.allowClear=o()(e).data("allowClear")||!1,n=Object(s.e)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(s.e)("ProjectSelect| or group")),o()(e).select2({placeholder:n,minimumInputLength:0,query:function(t){let e;const n=function(e){const r={results:e};return t.callback(r)};return e=r.includeGroups?function(e){return a.a.groups(t.term,{},(function(t){const r=t.concat(e);return n(r)}))}:n,r.groupId?a.a.groupProjects(r.groupId,t.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups,order_by:"similarity",simple:!0},e):r.userId?a.a.userProjects(r.userId,t.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},e):a.a.projects(t.term,{order_by:r.orderBy,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,membership:!r.allProjects},e)},id:t=>i?t.id:JSON.stringify({name:t.name,url:t.web_url}),text:t=>t.name_with_namespace||t.name,initSelection:(t,e)=>a.a.project(t.val()).then((function(t){let{data:r}=t;return e(r)})),allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),c||i?e:new l(e)}))})).catch((function(){}))};e.a=function(){o()(".ajax-project-select").length&&r.e(443).then(r.t.bind(null,"p9g0",7)).then(u).catch((function(){}))}}},[[204,1,0,23,2,3,4,5,25]]]);
//# sourceMappingURL=pages.projects.product_analytics.graphs.ab499648.chunk.js.map