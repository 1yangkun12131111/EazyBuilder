(this.webpackJsonp=this.webpackJsonp||[]).push([[247],{"5QKO":function(t,e,i){"use strict";var n=i("bOix");e.a={methods:{timeFormatted:t=>Object(n.r)().format(t),tooltipTitle:t=>Object(n.h)(t),durationTimeFormatted(t){const e=new Date(1e3*t);let i=e.getUTCHours(),n=e.getUTCMinutes(),a=e.getSeconds();return i<10&&(i="0".concat(i)),n<10&&(n="0".concat(n)),a<10&&(a="0".concat(a)),"".concat(i,":").concat(n,":").concat(a)}}}},"75XM":function(t,e,i){"use strict";i.r(e);var n=i("OIxn"),a=i("eoW/");Object(a.a)(),Object(n.a)()},76:function(t,e,i){i("HVBj"),i("75XM"),i("UcBr"),t.exports=i("xJDz")},"Fsq/":function(t,e,i){"use strict";var n=i("LLbv"),a=i("5QKO"),s=(i("bOix"),{directives:{GlTooltip:n.a},mixins:[a.a],props:{time:{type:[String,Number],required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}},computed:{timeAgo(){return this.timeFormatted(this.time)}}}),o=i("tBpV"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:t.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:t.cssClass,attrs:{title:t.tooltipTitle(t.time),datetime:t.time}},[t._t("default",[t._v(t._s(t.timeAgo))],{timeAgo:t.timeAgo})],2)}),[],!1,null,null,null);e.a=r.exports},H6LV:function(t,e,i){"use strict";var n=i("jB52"),a=i("/lV4"),s=i("s1D3"),o=i("MV2A"),r=i("znvU"),c=i("LLbv"),l=i("Fsq/"),d={components:{GlIcon:s.a,GlLink:o.a,GlTable:r.a,TimeAgoTooltip:l.a},directives:{GlTooltip:c.a},props:{integrations:{type:Array,required:!0},showUpdatedAt:{type:Boolean,required:!1,default:!1},emptyText:{type:String,required:!1,default:void 0}},computed:{fields(){return[{key:"active",label:"",thClass:"gl-w-10"},{key:"title",label:Object(a.a)("Integration"),thClass:"gl-w-quarter"},{key:"description",label:Object(a.a)("Description"),thClass:"gl-display-none d-sm-table-cell",tdClass:"gl-display-none d-sm-table-cell"},{key:"updated_at",label:this.showUpdatedAt?Object(a.a)("Last updated"):"",thClass:"gl-w-20p"}]}},methods:{getStatusTooltipTitle:t=>Object(a.f)(Object(a.e)("Integrations|%{integrationTitle}: active"),{integrationTitle:t.title})}},u=i("tBpV"),m={name:"IntegrationsList",components:{IntegrationsTable:Object(u.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("gl-table",{attrs:{items:t.integrations,fields:t.fields,"empty-text":t.emptyText,"show-empty":"",fixed:""},scopedSlots:t._u([{key:"cell(active)",fn:function(e){var n=e.item;return[n.active?i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-text-green-500",attrs:{name:"check",title:t.getStatusTooltipTitle(n)}}):t._e()]}},{key:"cell(title)",fn:function(e){var n=e.item;return[i("gl-link",{staticClass:"gl-font-weight-bold",attrs:{href:n.edit_path,"data-qa-selector":n.name+"_link"}},[t._v("\n      "+t._s(n.title)+"\n    ")])]}},{key:"cell(updated_at)",fn:function(e){var n=e.item;return[t.showUpdatedAt&&n.updated_at?i("time-ago-tooltip",{attrs:{time:n.updated_at}}):t._e()]}}])})}),[],!1,null,null,null).exports},props:{integrations:{type:Array,required:!0}},computed:{integrationsGrouped(){return this.integrations.reduce((function(t,e){return e.active?t.active.push(e):t.inactive.push(e),t}),{active:[],inactive:[]})}},i18n:{activeTableEmptyText:Object(a.e)("Integrations|You haven't activated any integrations yet."),inactiveTableEmptyText:Object(a.e)("Integrations|You've activated every integration ðŸŽ‰"),activeIntegrationsHeading:Object(a.e)("Integrations|Active integrations"),inactiveIntegrationsHeading:Object(a.e)("Integrations|Add an integration")}},p=Object(u.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h4",[t._v(t._s(t.$options.i18n.activeIntegrationsHeading))]),t._v(" "),i("integrations-table",{staticClass:"gl-mb-7!",attrs:{integrations:t.integrationsGrouped.active,"empty-text":t.$options.i18n.activeTableEmptyText,"show-updated-at":"","data-testid":"active-integrations-table"}}),t._v(" "),i("h4",[t._v(t._s(t.$options.i18n.inactiveIntegrationsHeading))]),t._v(" "),i("integrations-table",{attrs:{integrations:t.integrationsGrouped.inactive,"empty-text":t.$options.i18n.inactiveTableEmptyText,"data-testid":"inactive-integrations-table"}})],1)}),[],!1,null,null,null).exports;e.a=function(){const t=document.querySelector(".js-integrations-list");if(!t)return null;const{integrations:e}=t.dataset;return new n.default({el:t,render:t=>t(p,{props:{integrations:JSON.parse(e)}})})}},LLbv:function(t,e,i){"use strict";i.d(e,"a",(function(){return S}));var n=i("0zRR"),a=i("EGUT"),s=i("qTlp"),o=i("NSGy"),r=i("TjC/"),c=i("t8l0"),l=i("EGlP"),d=i("BrvI"),u=i("Ddgg"),m=i("7bmO"),p=i("RhHz");function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var f="__BV_Tooltip__",b={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},y=/^html$/i,j=/^noninteractive$/i,_=/^nofade$/i,O=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,$=/^(window|viewport|scrollParent)$/i,M=/^d\d+$/i,T=/^ds\d+$/i,k=/^dh\d+$/i,w=/^o-?\d+$/i,P=/^v-.+$/i,E=/\s+/,C=function(t,e,i){if(l.g){var g=function(t,e){var i={title:void 0,trigger:"",placement:"top",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,id:null,html:!1,interactive:!0,disabled:!1,delay:Object(c.b)(n.Eb,"delay"),boundary:String(Object(c.b)(n.Eb,"boundary")),boundaryPadding:Object(u.c)(Object(c.b)(n.Eb,"boundaryPadding"),0),variant:Object(c.b)(n.Eb,"variant"),customClass:Object(c.b)(n.Eb,"customClass")};if(Object(d.l)(t.value)||Object(d.g)(t.value)?i.title=t.value:Object(d.e)(t.value)?i.title=t.value:Object(d.i)(t.value)&&(i=v(v({},i),t.value)),Object(d.m)(i.title)){var a=e.data||{};i.title=a.attrs&&!Object(d.n)(a.attrs.title)?a.attrs.title:void 0}Object(d.i)(i.delay)||(i.delay={show:Object(u.c)(i.delay,0),hide:Object(u.c)(i.delay,0)}),t.arg&&(i.container="#".concat(t.arg)),Object(m.i)(t.modifiers).forEach((function(t){if(y.test(t))i.html=!0;else if(j.test(t))i.interactive=!1;else if(_.test(t))i.animation=!1;else if(O.test(t))i.placement=t;else if($.test(t))t="scrollparent"===t?"scrollParent":t,i.boundary=t;else if(M.test(t)){var e=Object(u.c)(t.slice(1),0);i.delay.show=e,i.delay.hide=e}else T.test(t)?i.delay.show=Object(u.c)(t.slice(2),0):k.test(t)?i.delay.hide=Object(u.c)(t.slice(2),0):w.test(t)?i.offset=Object(u.c)(t.slice(1),0):P.test(t)&&(i.variant=t.slice(2)||null)}));var o={};return Object(r.b)(i.trigger||"").filter(s.a).join(" ").trim().toLowerCase().split(E).forEach((function(t){b[t]&&(o[t]=!0)})),Object(m.i)(t.modifiers).forEach((function(t){t=t.toLowerCase(),b[t]&&(o[t]=!0)})),i.trigger=Object(m.i)(o).join(" "),"blur"===i.trigger&&(i.trigger="focus"),i.trigger||(i.trigger="hover focus"),i}(e,i);if(!t[f]){var h=i.context;t[f]=new p.a({parent:h,_scopeId:Object(a.a)(h,void 0)}),t[f].__bv_prev_data__={},t[f].$on("show",(function(){Object(d.e)(g.title)&&t[f].updateData({title:g.title(t)})}))}var C={title:g.title,triggers:g.trigger,placement:g.placement,fallbackPlacement:g.fallbackPlacement,variant:g.variant,customClass:g.customClass,container:g.container,boundary:g.boundary,delay:g.delay,offset:g.offset,noFade:!g.animation,id:g.id,interactive:g.interactive,disabled:g.disabled,html:g.html},S=t[f].__bv_prev_data__;if(t[f].__bv_prev_data__=C,!Object(o.a)(C,S)){var x={target:t};Object(m.i)(C).forEach((function(e){C[e]!==S[e]&&(x[e]="title"===e&&Object(d.e)(C[e])?C[e](t):C[e])})),t[f].updateData(x)}}},S={bind:function(t,e,i){C(t,e,i)},componentUpdated:function(t,e,i){i.context.$nextTick((function(){C(t,e,i)}))},unbind:function(t){!function(t){t[f]&&(t[f].$destroy(),t[f]=null),delete t[f]}(t)}}},OIxn:function(t,e,i){"use strict";var n=i("jB52"),a=i("1cpz"),s=i("30su"),o=i("4lAS"),r=i("XqDB"),c={components:{GlModal:a.a,GlSprintf:s.a,GlButton:o.a},directives:{GlModal:r.a},inject:{token:{default:null},revokePath:{default:""},buttonClass:{default:""}},computed:{modalId(){return"revoke-modal-".concat(this.token.id)}},methods:{cancelHandler(){this.$refs.modal.hide()}}},l=i("tBpV"),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("gl-button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:t.modalId,expression:"modalId"}],staticClass:"float-right",class:t.buttonClass,attrs:{category:"primary",variant:"danger","data-testid":"revoke-button"}},[t._v(t._s(t.s__("DeployTokens|Revoke")))]),t._v(" "),i("gl-modal",{ref:"modal",attrs:{"modal-id":t.modalId},scopedSlots:t._u([{key:"modal-title",fn:function(){return[i("gl-sprintf",{attrs:{message:t.s__("DeployTokens|Revoke %{boldStart}"+t.token.name+"%{boldEnd}?")},scopedSlots:t._u([{key:"bold",fn:function(e){var n=e.content;return[i("b",[t._v(t._s(n))])]}}])})]},proxy:!0},{key:"modal-footer",fn:function(){return[i("gl-button",{attrs:{category:"secondary"},on:{click:t.cancelHandler}},[t._v(t._s(t.s__("Cancel")))]),t._v(" "),i("gl-button",{staticClass:"text-truncate",attrs:{category:"primary",variant:"danger",href:t.revokePath,"data-method":"put","data-testid":"primary-revoke-btn"}},[i("gl-sprintf",{attrs:{message:t.s__("DeployTokens|Revoke %{name}")},scopedSlots:t._u([{key:"name",fn:function(){return[t._v(t._s(t.token.name))]},proxy:!0}])})],1)]},proxy:!0}])},[t._v(" "),i("gl-sprintf",{attrs:{message:t.s__("DeployTokens|You are about to revoke %{boldStart}"+t.token.name+"%{boldEnd}.")},scopedSlots:t._u([{key:"bold",fn:function(e){var n=e.content;return[i("b",[t._v(t._s(n))])]}}])}),t._v("\n    "+t._s(t.s__("DeployTokens|This action cannot be undone."))+"\n    ")],1)],1)}),[],!1,null,null,null).exports;e.a=function(){const t=document.querySelectorAll(".js-deploy-token-revoke-button");return!!t.length&&t.forEach((function(t){const{token:e,revokePath:i,buttonClass:a}=t.dataset;return new n.default({el:t,provide:{token:JSON.parse(e),revokePath:i,buttonClass:a},render:t=>t(d)})}))}},UcBr:function(t,e,i){"use strict";i.r(e);var n=i("H6LV");Object(n.a)()},VQ4T:function(t,e,i){"use strict";e.a={EMPTY:"empty",LOADING:"loading",LIST:"list",NO_INTEGRATION:"no-integration"}},"eoW/":function(t,e,i){"use strict";i("jaBk");e.a=async function(){const t=document.querySelector(".js-search-settings-app");if(t){const{default:e}=await Promise.all([i.e(442),i.e(421)]).then(i.bind(null,"bBUS"));e({el:t})}}},jF6B:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("G3fq"),a=i.n(n),s=i("EmJ/"),o=i.n(s),r=i("/lV4"),c=i("2ibD"),l=i("NmEs"),d=i("VQ4T");class u{constructor(t){var e=this;this.backOffRequestCounter=0,this.$wrapper=o()(t),this.$monitoredMetricsPanel=this.$wrapper.find(".js-panel-monitored-metrics"),this.$monitoredMetricsCount=this.$monitoredMetricsPanel.find(".js-monitored-count"),this.$monitoredMetricsLoading=this.$monitoredMetricsPanel.find(".js-loading-metrics"),this.$monitoredMetricsEmpty=this.$monitoredMetricsPanel.find(".js-empty-metrics"),this.$monitoredMetricsList=this.$monitoredMetricsPanel.find(".js-metrics-list"),this.$missingEnvVarPanel=this.$wrapper.find(".js-panel-missing-env-vars"),this.$panelToggleRight=this.$missingEnvVarPanel.find(".js-panel-toggle-right"),this.$panelToggleDown=this.$missingEnvVarPanel.find(".js-panel-toggle-down"),this.$missingEnvVarMetricCount=this.$missingEnvVarPanel.find(".js-env-var-count"),this.$missingEnvVarMetricsList=this.$missingEnvVarPanel.find(".js-missing-var-metrics-list"),this.activeMetricsEndpoint=this.$monitoredMetricsPanel.data("activeMetrics"),this.helpMetricsPath=this.$monitoredMetricsPanel.data("metrics-help-path"),this.$panelToggleRight.on("click",(function(t){return e.handlePanelToggle(t)})),this.$panelToggleDown.on("click",(function(t){return e.handlePanelToggle(t)}))}init(){this.loadActiveMetrics()}handlePanelToggle(t){const e=o()(t.currentTarget);e.closest(".card").find(".card-body").toggleClass("hidden"),e.hasClass("js-panel-toggle-right")?(e.addClass("hidden"),this.$panelToggleDown.removeClass("hidden")):e.hasClass("js-panel-toggle-down")&&(e.addClass("hidden"),this.$panelToggleRight.removeClass("hidden"))}showMonitoringMetricsPanelState(t){switch(t){case d.a.LOADING:this.$monitoredMetricsLoading.removeClass("hidden"),this.$monitoredMetricsEmpty.addClass("hidden"),this.$monitoredMetricsList.addClass("hidden");break;case d.a.LIST:this.$monitoredMetricsLoading.addClass("hidden"),this.$monitoredMetricsEmpty.addClass("hidden"),this.$monitoredMetricsList.removeClass("hidden");break;default:this.$monitoredMetricsLoading.addClass("hidden"),this.$monitoredMetricsEmpty.removeClass("hidden"),this.$monitoredMetricsList.addClass("hidden")}}populateActiveMetrics(t){var e=this;let i=0,n=0,s=0;if(t.forEach((function(t){t.active_metrics>0&&(s+=1,e.$monitoredMetricsList.append("<li>".concat(a()(t.group),'<span class="badge">').concat(a()(t.active_metrics),"</span></li>")),i+=t.active_metrics,t.metrics_missing_requirements>0&&(e.$missingEnvVarMetricsList.append("<li>".concat(a()(t.group),"</li>")),n+=1))})),0===i){const t=Object(r.f)(Object(r.e)("PrometheusService|No %{docsUrlStart}common metrics%{docsUrlEnd} were found"),{docsUrlStart:'<a href="'.concat(this.helpMetricsPath,'">'),docsUrlEnd:"</a>"},!1);this.$monitoredMetricsEmpty.empty(),this.$monitoredMetricsEmpty.append('<p class="text-tertiary">'.concat(t,"</p>")),this.showMonitoringMetricsPanelState(d.a.EMPTY)}else{const t=Object(r.f)(Object(r.e)("PrometheusService|%{exporters} with %{metrics} were found"),{exporters:Object(r.d)("%d exporter","%d exporters",s),metrics:Object(r.d)("%d metric","%d metrics",i)});this.$monitoredMetricsCount.text(t),this.showMonitoringMetricsPanelState(d.a.LIST),n>0&&(this.$missingEnvVarPanel.removeClass("hidden"),this.$missingEnvVarMetricCount.text(n))}}loadActiveMetrics(){var t=this;this.showMonitoringMetricsPanelState(d.a.LOADING),Object(l.d)((function(e,i){c.a.get(t.activeMetricsEndpoint).then((function(n){let{data:a}=n;a&&a.success?i(a):(t.backOffRequestCounter+=1,t.backOffRequestCounter<3?e():i(a))})).catch(i)})).then((function(e){e&&e.data&&e.data.length?t.populateActiveMetrics(e.data):t.showMonitoringMetricsPanelState(d.a.EMPTY)})).catch((function(){t.showMonitoringMetricsPanelState(d.a.EMPTY)}))}}},xJDz:function(t,e,i){"use strict";i.r(e);var n=i("Bl6y"),a=i("jF6B");const s=document.querySelector(".js-prometheus-metrics-monitoring");if(new n.a(".js-integration-settings-form").init(),s){new a.a(".js-prometheus-metrics-monitoring").loadActiveMetrics()}}},[[76,1,0,7,9,17,22,65]]]);
//# sourceMappingURL=pages.groups.settings.integrations.edit.709ac1aa.chunk.js.map