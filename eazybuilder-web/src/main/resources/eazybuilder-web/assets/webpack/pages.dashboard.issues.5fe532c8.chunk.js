(this.webpackJsonp=this.webpackJsonp||[]).push([[211],{41:function(e,t,r){r("HVBj"),e.exports=r("N+nD")},"4ips":function(e,t,r){var n=r("1qE/"),o=r("MlCX");e.exports=function e(t,r,s,a,c){var i=-1,u=t.length;for(s||(s=o),c||(c=[]);++i<u;){var l=t[i];r>0&&s(l)?r>1?e(l,r-1,s,a,c):n(c,l):a||(c[c.length]=l)}return c}},"6ld1":function(e,t,r){"use strict";var n=r("8/Mu");t.a=function(e){let{page:t,filteredSearchTokenKeys:r,isGroup:o,isGroupAncestor:s,isGroupDecendent:a,useDefaultState:c,stateFiltersSelector:i,anchor:u}=e;if(n.a&&document.querySelector(".filtered-search")){new n.a({page:t,isGroup:o,isGroupAncestor:s,isGroupDecendent:a,useDefaultState:c,filteredSearchTokenKeys:r,stateFiltersSelector:i,anchor:u}).setup()}}},"93xR":function(e,t,r){"use strict";t.a={animation:200,forceFallback:!0,fallbackClass:"is-dragging",fallbackOnBody:!0,ghostClass:"is-ghost"}},MlCX:function(e,t,r){var n=r("aCzx"),o=r("x14d"),s=r("P/Kr"),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||o(e)||!!(a&&e&&e[a])}},"N+nD":function(e,t,r){"use strict";r.r(t);var n=r("lLWD"),o=r("yJ49"),s=r("kOYq"),a=r("6ld1"),c=r("k/Fq");Object(a.a)({page:s.a.ISSUES,filteredSearchTokenKeys:n.a,useDefaultState:!0}),Object(c.a)(),Object(o.a)()},"k/Fq":function(e,t,r){"use strict";r("jaBk");var n=r("EmJ/"),o=r.n(n),s=r("qPgm"),a=r("qnJZ"),c=r("/lV4"),i=(r("pBsb"),r("n7CP"));class u{constructor(e){this.projectSelectInput=o()(e),this.newItemBtn=o()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}bindEvents(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}initLocalStorage(){i.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}openDropdown(e){r.e(443).then(r.t.bind(null,"p9g0",7)).then((function(){Object(a.a)(gon.select2_css_path).then((function(){o()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))})).catch((function(){}))}selectProject(){const e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}setBtnTextFromLocalStorage(){const e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}setNewItemBtnAttributes(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}getProjectFromLocalStorage(){const e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}setProjectInLocalStorage(e){const t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}deriveTextVariants(){const e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}const l=function(){Object(a.a)(gon.select2_css_path).then((function(){o()(".ajax-project-select").each((function(e,t){var r=this;let n;const a=o()(t).data("simpleFilter")||!1,i=o()(t).data("select2");return this.groupId=o()(t).data("groupId"),this.userId=o()(t).data("userId"),this.includeGroups=o()(t).data("includeGroups"),this.allProjects=o()(t).data("allProjects")||!1,this.orderBy=o()(t).data("orderBy")||"id",this.withIssuesEnabled=o()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=o()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===o()(t).data("withShared")||o()(t).data("withShared"),this.includeProjectsInSubgroups=o()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=o()(t).data("allowClear")||!1,n=Object(c.e)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(c.e)("ProjectSelect| or group")),o()(t).select2({placeholder:n,minimumInputLength:0,query:function(e){let t;const n=function(t){const r={results:t};return e.callback(r)};return t=r.includeGroups?function(t){return s.a.groups(e.term,{},(function(e){const r=e.concat(t);return n(r)}))}:n,r.groupId?s.a.groupProjects(r.groupId,e.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups,order_by:"similarity",simple:!0},t):r.userId?s.a.userProjects(r.userId,e.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},t):s.a.projects(e.term,{order_by:r.orderBy,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,membership:!r.allProjects},t)},id:e=>a?e.id:JSON.stringify({name:e.name,url:e.web_url}),text:e=>e.name_with_namespace||e.name,initSelection:(e,t)=>s.a.project(e.val()).then((function(e){let{data:r}=e;return t(r)})),allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),i||a?t:new u(t)}))})).catch((function(){}))};t.a=function(){o()(".ajax-project-select").length&&r.e(443).then(r.t.bind(null,"p9g0",7)).then(l).catch((function(){}))}},kOYq:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={MERGE_REQUESTS:"merge_requests",ISSUES:"issues",ADMIN_RUNNERS:"admin/runners",GROUP_RUNNERS_ANCHOR:"runners-settings"}},qdPE:function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return u}));var n=r("93xR");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(){document.body.classList.add("is-dragging")}function i(){document.body.classList.remove("is-dragging")}function u(e){const t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,r=s(s({},n.a),{},{filter:".no-drag",delay:t?100:0,scrollSensitivity:t?60:100,scrollSpeed:20,onStart:c,onEnd:i});return Object.keys(e).forEach((function(t){r[t]=e[t]})),r}},yJ49:function(e,t,r){"use strict";var n=r("2O3R"),o=r("qdPE"),s=r("XRO8"),a=r("2ibD"),c=r("/lV4");const i=function(e,t,r){let{move_before_id:n,move_after_id:o}=r;return a.a.put("".concat(e,"/reorder"),{move_before_id:n,move_after_id:o,group_full_path:t.dataset.groupFullPath}).catch((function(){Object(s.c)(Object(c.e)("ManualOrdering|Couldn't save the order of the issues"))}))};t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"li.issue";const t=document.querySelector(".manual-ordering");t&&gon.current_user_id>0&&n.default.create(t,Object(o.a)({scroll:!0,fallbackTolerance:1,dataIdAttr:"data-id",fallbackOnBody:!1,group:{name:"issues"},draggable:e,onStart:function(){Object(o.c)()},onUpdate:function(e){const r=e.item,n=r.getAttribute("url")||r.dataset.url,o=r.previousElementSibling,s=r.nextElementSibling,a=o&&parseInt(o.dataset.id,10),c=s&&parseInt(s.dataset.id,10);i(n,t,{move_after_id:c,move_before_id:a})}}))}}},[[41,1,0,2,20,26]]]);
//# sourceMappingURL=pages.dashboard.issues.5fe532c8.chunk.js.map