(this.webpackJsonp=this.webpackJsonp||[]).push([[245],{"4ips":function(e,t,a){var n=a("1qE/"),r=a("MlCX");e.exports=function e(t,a,s,o,l){var i=-1,d=t.length;for(s||(s=r),l||(l=[]);++i<d;){var u=t[i];a>0&&s(u)?a>1?e(u,a-1,s,o,l):n(l,u):o||(l[l.length]=u)}return l}},"6ld1":function(e,t,a){"use strict";var n=a("8/Mu");t.a=function(e){let{page:t,filteredSearchTokenKeys:a,isGroup:r,isGroupAncestor:s,isGroupDecendent:o,useDefaultState:l,stateFiltersSelector:i,anchor:d}=e;if(n.a&&document.querySelector(".filtered-search")){new n.a({page:t,isGroup:r,isGroupAncestor:s,isGroupDecendent:o,useDefaultState:l,filteredSearchTokenKeys:a,stateFiltersSelector:i,anchor:d}).setup()}}},74:function(e,t,a){a("HVBj"),a("75XM"),e.exports=a("EngO")},"75XM":function(e,t,a){"use strict";a.r(t);var n=a("OIxn"),r=a("eoW/");Object(r.a)(),Object(n.a)()},EngO:function(e,t,a){"use strict";a.r(t);var n=a("/NbD"),r=a("/lV4"),s=a("XcF7");const o=[{formattedKey:Object(r.a)("Status"),key:"status",type:"string",param:"status",symbol:"",icon:"messages",tag:"status"},{formattedKey:Object(r.a)("Type"),key:"type",type:"string",param:"type",symbol:"",icon:"cube",tag:"type"}];var l=new s.a(o),i=a("jB52"),d=a("Tmea"),u=a.n(d),c=a("j00k"),g=a("FkSe"),p=a("DZUU"),b=a("dsWN"),v=a("2ibD");const _=Object(r.a)("Refresh the page and try again."),h="disabled_and_unoverridable";var f={components:{GlToggle:c.a,GlLoadingIcon:g.a,GlTooltip:p.a,GlAlert:b.a},props:{updatePath:{type:String,required:!0},sharedRunnersAvailability:{type:String,required:!0},parentSharedRunnersAvailability:{type:String,required:!1,default:""}},data:()=>({isLoading:!1,enabled:!0,allowOverride:!1,error:null}),computed:{toggleDisabled(){return this.parentSharedRunnersAvailability===h||this.isLoading},enabledOrDisabledSetting(){return this.enabled?"enabled":h},disabledWithOverrideSetting(){return this.allowOverride?"disabled_with_override":h}},created(){"enabled"!==this.sharedRunnersAvailability&&(this.enabled=!1),"disabled_with_override"===this.sharedRunnersAvailability&&(this.allowOverride=!0)},methods:{generatePayload:e=>({shared_runners_setting:e}),enableOrDisable(){this.updateRunnerSettings(this.generatePayload(this.enabledOrDisabledSetting)),this.allowOverride=!1},override(){this.updateRunnerSettings(this.generatePayload(this.disabledWithOverrideSetting))},updateRunnerSettings:u()((function(e){var t=this;this.isLoading=!0,v.a.put(this.updatePath,e).then((function(){t.isLoading=!1})).catch((function(e){var a,n;const s=[(null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.error)||Object(r.a)("An error occurred while updating configuration."),_].join(" ");t.error=s}))}),1e3)}},m=a("tBpV"),y=Object(m.a)(f,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"sharedRunnersForm"},[e.error?a("gl-alert",{attrs:{variant:"danger",dismissible:!1}},[e._v(e._s(e.error))]):e._e(),e._v(" "),a("h4",{staticClass:"gl-display-flex gl-align-items-center"},[e._v("\n    "+e._s(e.__("Set up shared runner availability"))+"\n    "),e.isLoading?a("gl-loading-icon",{staticClass:"gl-ml-3",attrs:{inline:""}}):e._e()],1),e._v(" "),a("section",{staticClass:"gl-mt-5"},[a("gl-toggle",{attrs:{disabled:e.toggleDisabled,label:e.__("Enable shared runners for this group"),"data-testid":"enable-runners-toggle"},on:{change:e.enableOrDisable},model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}}),e._v(" "),a("span",{staticClass:"gl-text-gray-600"},[e._v("\n      "+e._s(e.__("Enable shared runners for all projects and subgroups in this group."))+"\n    ")])],1),e._v(" "),e.enabled?e._e():a("section",{staticClass:"gl-mt-5"},[a("gl-toggle",{attrs:{disabled:e.toggleDisabled,label:e.__("Allow projects and subgroups to override the group setting"),"data-testid":"override-runners-toggle"},on:{change:e.override},model:{value:e.allowOverride,callback:function(t){e.allowOverride=t},expression:"allowOverride"}}),e._v(" "),a("span",{staticClass:"gl-text-gray-600"},[e._v("\n      "+e._s(e.__("Allows projects or subgroups in this group to override the global setting."))+"\n    ")])],1),e._v(" "),e.toggleDisabled?a("gl-tooltip",{attrs:{target:function(){return e.$refs.sharedRunnersForm}}},[e._v("\n    "+e._s(e.__("Shared runners are disabled for the parent group"))+"\n  ")]):e._e()],1)}),[],!1,null,null,null).exports,S=a("kOYq"),k=a("6ld1"),O=a("bA+p"),R=a("r5uf");Object(R.b)(),Object(k.a)({page:S.a.ADMIN_RUNNERS,filteredSearchTokenKeys:l,anchor:S.a.GROUP_RUNNERS_ANCHOR,useDefaultState:!1}),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update-shared-runners-form";const t=document.getElementById(e);new i.default({el:t,render:e=>e(y,{props:t.dataset})})}(),Object(n.a)(),Object(O.a)()},MlCX:function(e,t,a){var n=a("aCzx"),r=a("x14d"),s=a("P/Kr"),o=n?n.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||r(e)||!!(o&&e&&e[o])}},OIxn:function(e,t,a){"use strict";var n=a("jB52"),r=a("1cpz"),s=a("30su"),o=a("4lAS"),l=a("XqDB"),i={components:{GlModal:r.a,GlSprintf:s.a,GlButton:o.a},directives:{GlModal:l.a},inject:{token:{default:null},revokePath:{default:""},buttonClass:{default:""}},computed:{modalId(){return"revoke-modal-".concat(this.token.id)}},methods:{cancelHandler(){this.$refs.modal.hide()}}},d=a("tBpV"),u=Object(d.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("gl-button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.modalId,expression:"modalId"}],staticClass:"float-right",class:e.buttonClass,attrs:{category:"primary",variant:"danger","data-testid":"revoke-button"}},[e._v(e._s(e.s__("DeployTokens|Revoke")))]),e._v(" "),a("gl-modal",{ref:"modal",attrs:{"modal-id":e.modalId},scopedSlots:e._u([{key:"modal-title",fn:function(){return[a("gl-sprintf",{attrs:{message:e.s__("DeployTokens|Revoke %{boldStart}"+e.token.name+"%{boldEnd}?")},scopedSlots:e._u([{key:"bold",fn:function(t){var n=t.content;return[a("b",[e._v(e._s(n))])]}}])})]},proxy:!0},{key:"modal-footer",fn:function(){return[a("gl-button",{attrs:{category:"secondary"},on:{click:e.cancelHandler}},[e._v(e._s(e.s__("Cancel")))]),e._v(" "),a("gl-button",{staticClass:"text-truncate",attrs:{category:"primary",variant:"danger",href:e.revokePath,"data-method":"put","data-testid":"primary-revoke-btn"}},[a("gl-sprintf",{attrs:{message:e.s__("DeployTokens|Revoke %{name}")},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.token.name))]},proxy:!0}])})],1)]},proxy:!0}])},[e._v(" "),a("gl-sprintf",{attrs:{message:e.s__("DeployTokens|You are about to revoke %{boldStart}"+e.token.name+"%{boldEnd}.")},scopedSlots:e._u([{key:"bold",fn:function(t){var n=t.content;return[a("b",[e._v(e._s(n))])]}}])}),e._v("\n    "+e._s(e.s__("DeployTokens|This action cannot be undone."))+"\n    ")],1)],1)}),[],!1,null,null,null).exports;t.a=function(){const e=document.querySelectorAll(".js-deploy-token-revoke-button");return!!e.length&&e.forEach((function(e){const{token:t,revokePath:a,buttonClass:r}=e.dataset;return new n.default({el:e,provide:{token:JSON.parse(t),revokePath:a,buttonClass:r},render:e=>e(u)})}))}},kOYq:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={MERGE_REQUESTS:"merge_requests",ISSUES:"issues",ADMIN_RUNNERS:"admin/runners",GROUP_RUNNERS_ANCHOR:"runners-settings"}}},[[74,1,0,6,2,7,9,17,26,41,81]]]);
//# sourceMappingURL=pages.groups.settings.ci_cd.show.184dddf9.chunk.js.map