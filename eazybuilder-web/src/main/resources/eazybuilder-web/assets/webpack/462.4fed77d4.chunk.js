(this.webpackJsonp=this.webpackJsonp||[]).push([[462],{"+23l":function(e,t,r){var n=r("iuDc"),i=r("eAmM"),o=r("uYOL"),a=Object.prototype.toString,s=i((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=a.call(t)),e[t]=r}),n(o));e.exports=s},"FK+C":function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"l",(function(){return c})),r.d(t,"h",(function(){return u})),r.d(t,"i",(function(){return l})),r.d(t,"m",(function(){return d})),r.d(t,"j",(function(){return p})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return h})),r.d(t,"k",(function(){return m})),r.d(t,"e",(function(){return g})),r.d(t,"n",(function(){return y})),r.d(t,"o",(function(){return v}));var n=r("+23l");const i="dismissal",o="issue",a="merge_request",s={ARCHIVE:"ARCHIVE",TRACE:"TRACE",METADATA:"METADATA"},c="sast",u="dast",l="dast_profiles",d="secret_detection",p="dependency_scanning",f="container_scanning",h="coverage_fuzzing",m="license_scanning",g="api_fuzzing",y={[c]:"SAST",[d]:"SECRET_DETECTION"},v=r.n(n)()(y)},MNn6:function(e,t){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"securityReportDownloadPaths"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reportTypes"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SecurityReportTypeEnum"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"headPipeline"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jobs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"securityReportTypes"},value:{kind:"Variable",name:{kind:"Name",value:"reportTypes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"artifacts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"downloadPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fileType"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:472}};r.loc.source={body:"query securityReportDownloadPaths(\n  $projectPath: ID!\n  $iid: String!\n  $reportTypes: [SecurityReportTypeEnum!]\n) {\n  project(fullPath: $projectPath) {\n    mergeRequest(iid: $iid) {\n      headPipeline {\n        id\n        jobs(securityReportTypes: $reportTypes) {\n          nodes {\n            name\n            artifacts {\n              nodes {\n                downloadPath\n                fileType\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function i(e,t){for(var r=0;r<e.definitions.length;r++){var n=e.definitions[r];if(n.name&&n.name.value==t)return n}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,r){if("FragmentSpread"===t.kind)r.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&r.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,r)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,r)})),t.definitions&&t.definitions.forEach((function(t){e(t,r)}))}(e,t),n[e.name.value]=t}})),e.exports=r,e.exports.securityReportDownloadPaths=function(e,t){var r={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var o=n[t]||new Set,a=new Set,s=new Set;for(o.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var n=i(e,t);n&&r.definitions.push(n)})),r}(r,"securityReportDownloadPaths")},Pjl5:function(e,t,r){var n=r("4cIi");e.exports=function(e,t,r,i){return n(e,(function(e,n,o){t(i,r(e),n,o)})),i}},T5fK:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"summaryCounts",(function(){return G})),r.d(n,"groupedSummaryText",(function(){return Q})),r.d(n,"summaryStatus",(function(){return z})),r.d(n,"areReportsLoading",(function(){return K})),r.d(n,"areAllReportsLoading",(function(){return J})),r.d(n,"allReportsHaveError",(function(){return Y})),r.d(n,"anyReportHasError",(function(){return W})),r.d(n,"anyReportHasIssues",(function(){return X}));var i={};r.r(i),r.d(i,"setDiffEndpoint",(function(){return Z})),r.d(i,"requestDiff",(function(){return ee})),r.d(i,"receiveDiffSuccess",(function(){return te})),r.d(i,"receiveDiffError",(function(){return re})),r.d(i,"fetchDiff",(function(){return ne}));var o={};r.r(o),r.d(o,"setDiffEndpoint",(function(){return ae})),r.d(o,"requestDiff",(function(){return se})),r.d(o,"receiveDiffSuccess",(function(){return ce})),r.d(o,"receiveDiffError",(function(){return ue})),r.d(o,"fetchDiff",(function(){return le}));r("QifN");var a=r("yi8e"),s=r("XRO8"),c=r("/lV4"),u=r("xSH3"),l=r("Zpbh"),d=r("sHIo"),p=r("4lAS"),f=r("s1D3"),h=r("MV2A"),m=r("A7K0"),g={components:{GlButton:p.a,GlIcon:f.a,GlLink:h.a,GlPopover:m.a},props:{helpPath:{type:String,required:!0},discoverProjectSecurityPath:{type:String,required:!1,default:""}},i18n:{securityReportsHelp:Object(c.e)("SecurityReports|Security reports help page link"),upgradeToManageVulnerabilities:Object(c.e)("SecurityReports|Upgrade to manage vulnerabilities"),upgradeToInteract:Object(c.e)("SecurityReports|Upgrade to interact, track and shift left with vulnerability management features in the UI.")}},y=r("tBpV"),v=Object(y.a)(g,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.discoverProjectSecurityPath?r("span",[r("gl-button",{ref:"discoverProjectSecurity",attrs:{icon:"question-o",category:"tertiary","aria-label":e.$options.i18n.upgradeToManageVulnerabilities}}),e._v(" "),r("gl-popover",{attrs:{target:function(){return e.$refs.discoverProjectSecurity.$el},title:e.$options.i18n.upgradeToManageVulnerabilities,placement:"top",triggers:"click blur"}},[e._v("\n    "+e._s(e.$options.i18n.upgradeToInteract)+"\n    "),r("gl-link",{staticClass:"gl-font-sm",attrs:{href:e.discoverProjectSecurityPath,target:"_blank"}},[e._v(e._s(e.__("Learn more")))])],1)],1):r("gl-link",{attrs:{target:"_blank",href:e.helpPath,"aria-label":e.$options.i18n.securityReportsHelp}},[r("gl-icon",{attrs:{name:"question"}})],1)}),[],!1,null,null,null).exports,b=r("Yyc1"),S=r("wP8z"),E={name:"SecurityReportDownloadDropdown",components:{GlDropdown:b.a,GlDropdownItem:S.a},props:{artifacts:{type:Array,required:!0},loading:{type:Boolean,required:!1,default:!1}},methods:{artifactText(e){let{name:t}=e;return Object(c.f)(Object(c.e)("SecurityReports|Download %{artifactName}"),{artifactName:t})}}},_=Object(y.a)(E,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("gl-dropdown",{attrs:{text:e.s__("SecurityReports|Download results"),loading:e.loading,icon:"download",right:""}},e._l(e.artifacts,(function(t){return r("gl-dropdown-item",{key:t.path,attrs:{href:t.path,download:""}},[e._v("\n    "+e._s(e.artifactText(t))+"\n  ")])})),1)}),[],!1,null,null,null).exports,D=r("30su");const k={critical:"text-danger-800",high:"text-danger-600",medium:"text-warning-400",low:"text-warning-200",info:"text-primary-400",unknown:"text-secondary-400"};var O={components:{GlSprintf:D.a},props:{message:{type:Object,required:!0}},computed:{shouldShowCountMessage(){return!this.message.status&&Boolean(this.message.countMessage)}},methods:{getSeverityClass:e=>k[e]},slotNames:["critical","high","other"],spacingClasses:{critical:"gl-pl-4",high:"gl-px-2",other:"gl-px-2"}},R=Object(y.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("gl-sprintf",{attrs:{message:e.message.message},scopedSlots:e._u([{key:"total",fn:function(t){var n=t.content;return[r("strong",[e._v(e._s(n))])]}}])}),e._v(" "),e.shouldShowCountMessage?r("span",{staticClass:"gl-font-sm"},[r("gl-sprintf",{attrs:{message:e.message.countMessage},scopedSlots:e._u([e._l(e.$options.slotNames,(function(t){return{key:t,fn:function(n){var i=n.content;return[r("span",{key:t},[e.message[t]>0?r("strong",{class:[e.getSeverityClass(t),e.$options.spacingClasses[t]]},[e._v("\n            "+e._s(i)+"\n          ")]):r("span",{class:e.$options.spacingClasses[t]},[e._v("\n            "+e._s(i)+"\n          ")])])]}}}))],null,!0)})],1):e._e()],1)}),[],!1,null,null,null).exports,j=r("FK+C"),P=r("MNn6"),w=r.n(P);r("orcL");const T=Object(c.e)("ciReport|%{reportType} is loading");Object(c.e)("ciReport|%{reportType}: Loading resulted in an error");r("jaBk");var I=r("2ibD"),C=r("QwBj"),F=r("hqF9");function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){const i=new F.a({resource:{axiosGet:e=>I.a.get(e.url,x({headers:{"Content-Type":"application/json"}},e.config))},data:{url:e,config:t},method:"axiosGet",successCallback:function(e){e.status===C.a.OK&&(r(e),i.stop())},errorCallback:n});i.makeRequest()}))};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const M=function(e,t,r){const n=[A(t)];return e.canReadVulnerabilityFeedback&&n.push(I.a.get(e.vulnerabilityFeedbackPath,{params:{category:r}})),Promise.all(n).then((function(e){var t;let[r,n]=e;return{diff:r.data,enrichData:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:[]}}))},H=function(e,t){const r=function(e){return V(V({},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((function(t){return t.project_fingerprint===e.project_fingerprint})).reduce((function(e,t){return t.feedback_type===j.a?V(V({},e),{},{isDismissed:!0,dismissalFeedback:t}):t.feedback_type===j.b&&t.issue_iid?V(V({},e),{},{hasIssue:!0,issue_feedback:t}):t.feedback_type===j.c&&t.merge_request_iid?V(V({},e),{},{hasMergeRequest:!0,merge_request_feedback:t}):e}),e)}(e,t)),{},{category:e.report_type,title:e.message||e.name})};return{added:e.added?e.added.map(r):[],fixed:e.fixed?e.fixed.map(r):[],existing:e.existing?e.existing.map(r):[]}},B=function(e){let{critical:t,high:r,other:n,total:i}=e;const o=Object(c.d)("%d Other","%d Others",n),a=Object(c.a)("%{criticalStart}%{critical} Critical%{criticalEnd} %{highStart}%{high} High%{highEnd} and %{otherStart}%{otherMessage}%{otherEnd}");return i?Object(c.f)(a,{critical:t,high:r,otherMessage:o}):""},U=function(e){let{reportType:t,status:r,total:n}=e;const i=Object(c.d)("vulnerability","vulnerabilities",n);let o;return o=r?Object(c.a)("%{reportType} %{status}"):n?Object(c.a)("%{reportType} detected %{totalStart}%{total}%{totalEnd} potential %{vulnMessage}"):Object(c.a)("%{reportType} detected %{totalStart}no%{totalEnd} vulnerabilities."),Object(c.f)(o,{reportType:t,status:r,total:n,vulnMessage:i})},G=function(e){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){let{severity:r}=t;return"critical"===r?e.critical+=1:"high"===r?e.high+=1:e.other+=1,e}),{critical:0,high:0,other:0})}(e.reportTypes.reduce((function(t,r){return t.push(...e[r].newIssues),t}),[]))},Q=function(e,t){const r=Object(c.e)("ciReport|Security scanning");let n="";if(t.areAllReportsLoading)return{message:Object(c.f)(T,{reportType:r})};if(t.allReportsHaveError)return{message:Object(c.e)("ciReport|Security scanning failed loading any results")};t.areReportsLoading&&t.anyReportHasError?n=Object(c.e)("ciReport|is loading, errors when loading results"):t.areReportsLoading&&!t.anyReportHasError?n=Object(c.e)("ciReport|is loading"):!t.areReportsLoading&&t.anyReportHasError&&(n=Object(c.e)("ciReport|: Loading resulted in an error"));const{critical:i,high:o,other:a}=t.summaryCounts;return function(){let{reportType:e="",status:t="",critical:r=0,high:n=0,other:i=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=r+n+i;return{countMessage:B({critical:r,high:n,other:i,total:o}),message:U({reportType:e,status:t,total:o}),critical:r,high:n,other:i,status:t,total:o}}({reportType:r,status:n,critical:i,high:o,other:a})},z=function(e,t){return t.areReportsLoading?l.e:t.anyReportHasError||t.anyReportHasIssues?l.a:l.l},K=function(e){return e.reportTypes.some((function(t){return e[t].isLoading}))},J=function(e){return e.reportTypes.every((function(t){return e[t].isLoading}))},Y=function(e){return e.reportTypes.every((function(t){return e[t].hasError}))},W=function(e){return e.reportTypes.some((function(t){return e[t].hasError}))},X=function(e){return e.reportTypes.some((function(t){return e[t].newIssues.length>0}))},Z=function(e,t){let{commit:r}=e;return r("SET_DIFF_ENDPOINT",t)},ee=function(e){let{commit:t}=e;return t("REQUEST_DIFF")},te=function(e,t){let{commit:r}=e;return r("RECEIVE_DIFF_SUCCESS",t)},re=function(e,t){let{commit:r}=e;return r("RECEIVE_DIFF_ERROR",t)},ne=function(e){let{state:t,rootState:r,dispatch:n}=e;return n("requestDiff"),M(r,t.paths.diffEndpoint,"sast").then((function(e){n("receiveDiffSuccess",e)})).catch((function(){n("receiveDiffError")}))};var ie=r("jB52"),oe={namespaced:!0,state:function(){return{paths:{head:null,base:null,diffEndpoint:null},isLoading:!1,hasError:!1,newIssues:[],resolvedIssues:[],allIssues:[],baseReportOutofDate:!1,hasBaseReport:!1}},mutations:{SET_DIFF_ENDPOINT(e,t){ie.default.set(e.paths,"diffEndpoint",t)},REQUEST_DIFF(e){e.isLoading=!0},RECEIVE_DIFF_SUCCESS(e,t){let{diff:r,enrichData:n}=t;const{added:i,fixed:o,existing:a}=H(r,n),s=r.base_report_out_of_date||!1,c=Boolean(r.base_report_created_at);e.isLoading=!1,e.newIssues=i,e.resolvedIssues=o,e.allIssues=a,e.baseReportOutofDate=s,e.hasBaseReport=c},RECEIVE_DIFF_ERROR(e){e.isLoading=!1,e.hasError=!0}},actions:i};const ae=function(e,t){let{commit:r}=e;return r("SET_DIFF_ENDPOINT",t)},se=function(e){let{commit:t}=e;return t("REQUEST_DIFF")},ce=function(e,t){let{commit:r}=e;return r("RECEIVE_DIFF_SUCCESS",t)},ue=function(e,t){let{commit:r}=e;return r("RECEIVE_DIFF_ERROR",t)},le=function(e){let{state:t,rootState:r,dispatch:n}=e;return n("requestDiff"),M(r,t.paths.diffEndpoint,"secret_detection").then((function(e){n("receiveDiffSuccess",e)})).catch((function(){n("receiveDiffError")}))};var de={namespaced:!0,state:function(){return{paths:{head:null,base:null,diffEndpoint:null},isLoading:!1,hasError:!1,newIssues:[],resolvedIssues:[],allIssues:[],baseReportOutofDate:!1,hasBaseReport:!1}},mutations:{SET_DIFF_ENDPOINT(e,t){e.paths.diffEndpoint=t},REQUEST_DIFF(e){e.isLoading=!0},RECEIVE_DIFF_SUCCESS(e,t){let{diff:r,enrichData:n}=t;const{added:i,fixed:o,existing:a}=H(r,n),s=r.base_report_out_of_date||!1,c=Boolean(r.base_report_created_at);e.isLoading=!1,e.newIssues=i,e.resolvedIssues=o,e.allIssues=a,e.baseReportOutofDate=s,e.hasBaseReport=c},RECEIVE_DIFF_ERROR(e){e.isLoading=!1,e.hasError=!0}},actions:o},pe=function(){return{reportTypes:["sast","secretDetection"]}},fe=r("8RpP"),he=r.n(fe);const me=function(e,t,r,n,i){t&&t.includes(r)&&e.push({reportType:r,name:n(r),path:i})},ge=function(e,t){return t.reduce((function(t,r){var n,i;return(null!==(n=null===(i=r.artifacts)||void 0===i?void 0:i.nodes)&&void 0!==n?n:[]).forEach((function(n){let{downloadPath:i,fileType:o}=n;me(t,e,j.o[o],(function(){return r.name}),i),me(t,e,j.d[o],(function(e){return"".concat(r.name," ").concat(he()(e))}),i)})),t}),[])};function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){be(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Se={store:function(){return new a.b.Store({modules:{sast:oe,secretDetection:de},getters:n,state:pe})},components:{ReportSection:u.a,HelpIcon:v,SecurityReportDownloadDropdown:_,SecuritySummary:R},mixins:[Object(d.a)()],props:{pipelineId:{type:Number,required:!0},projectId:{type:Number,required:!0},securityReportsDocsPath:{type:String,required:!0},discoverProjectSecurityPath:{type:String,required:!1,default:""},sastComparisonPath:{type:String,required:!1,default:""},secretScanningComparisonPath:{type:String,required:!1,default:""},targetProjectFullPath:{type:String,required:!1,default:""},mrIid:{type:Number,required:!1,default:0},canDiscoverProjectSecurity:{type:Boolean,required:!1,default:!1}},data:()=>({availableSecurityReports:[],canShowCounts:!1,status:l.a}),apollo:{reportArtifacts:{query:w.a,variables(){return{projectPath:this.targetProjectFullPath,iid:String(this.mrIid),reportTypes:this.$options.reportTypes.map((function(e){return j.n[e]}))}},update(e){return function(e,t){var r,n,i,o,a;const s=null!==(r=null===(n=t.project)||void 0===n?void 0:null===(i=n.mergeRequest)||void 0===i?void 0:null===(o=i.headPipeline)||void 0===o?void 0:null===(a=o.jobs)||void 0===a?void 0:a.nodes)&&void 0!==r?r:[];return ge(e,s)}(this.$options.reportTypes,e)},error(e){this.showError(e)},result(e){let{loading:t}=e;t||this.onCheckingAvailableSecurityReports(this.reportArtifacts.map((function(e){let{reportType:t}=e;return t})))}}},computed:ve(ve({},Object(a.d)(["groupedSummaryText","summaryStatus"])),{},{hasSecurityReports(){return this.availableSecurityReports.length>0},hasSastReports(){return this.availableSecurityReports.includes(j.l)},hasSecretDetectionReports(){return this.availableSecurityReports.includes(j.m)},isLoadingReportArtifacts(){return this.$apollo.queries.reportArtifacts.loading}}),methods:ve(ve(ve({},Object(a.c)("sast",{setSastDiffEndpoint:"setDiffEndpoint",fetchSastDiff:"fetchDiff"})),Object(a.c)("secretDetection",{setSecretDetectionDiffEndpoint:"setDiffEndpoint",fetchSecretDetectionDiff:"fetchDiff"})),{},{fetchCounts(){this.glFeatures.coreSecurityMrWidgetCounts&&(this.sastComparisonPath&&this.hasSastReports&&(this.setSastDiffEndpoint(this.sastComparisonPath),this.fetchSastDiff(),this.canShowCounts=!0),this.secretScanningComparisonPath&&this.hasSecretDetectionReports&&(this.setSecretDetectionDiffEndpoint(this.secretScanningComparisonPath),this.fetchSecretDetectionDiff(),this.canShowCounts=!0))},onCheckingAvailableSecurityReports(e){this.availableSecurityReports=e,this.fetchCounts()},showError(e){Object(s.b)({message:this.$options.i18n.apiError,captureError:!0,error:e})}}),reportTypes:[j.l,j.m],i18n:{apiError:Object(c.e)("SecurityReports|Failed to get security report information. Please reload the page or try again later."),scansHaveRun:Object(c.e)("SecurityReports|Security scans have run")},summarySlots:[l.h,l.g,l.f]},Ee=Object(y.a)(Se,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.canShowCounts?r("report-section",{staticClass:"mr-widget-border-top mr-report",attrs:{status:e.summaryStatus,"has-issues":!1,"data-testid":"security-mr-widget","track-action":"users_expanding_secure_security_report"},scopedSlots:e._u([e._l(e.$options.summarySlots,(function(t){return{key:t,fn:function(){return[r("span",{key:t},[r("security-summary",{attrs:{message:e.groupedSummaryText}}),e._v(" "),r("help-icon",{attrs:{"help-path":e.securityReportsDocsPath,"discover-project-security-path":e.discoverProjectSecurityPath}})],1)]},proxy:!0}})),{key:"action-buttons",fn:function(){return[r("security-report-download-dropdown",{attrs:{artifacts:e.reportArtifacts,loading:e.isLoadingReportArtifacts}})]},proxy:!0}],null,!0)}):e.hasSecurityReports?r("report-section",{staticClass:"mr-widget-border-top mr-report",attrs:{status:e.status,"has-issues":!1,"data-testid":"security-mr-widget","track-action":"users_expanding_secure_security_report"},scopedSlots:e._u([{key:"error",fn:function(){return[e._v("\n    "+e._s(e.$options.i18n.scansHaveRun)+"\n\n    "),r("help-icon",{attrs:{"help-path":e.securityReportsDocsPath,"discover-project-security-path":e.discoverProjectSecurityPath}})]},proxy:!0},{key:"action-buttons",fn:function(){return[r("security-report-download-dropdown",{attrs:{artifacts:e.reportArtifacts,loading:e.isLoadingReportArtifacts}})]},proxy:!0}])}):e._e()}),[],!1,null,null,null);t.default=Ee.exports},eAmM:function(e,t,r){var n=r("Pjl5");e.exports=function(e,t){return function(r,i){return n(r,e,t(i),{})}}}}]);
//# sourceMappingURL=462.4fed77d4.chunk.js.map