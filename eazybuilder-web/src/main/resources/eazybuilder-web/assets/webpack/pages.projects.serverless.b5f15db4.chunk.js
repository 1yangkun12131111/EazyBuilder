(this.webpackJsonp=this.webpackJsonp||[]).push([[384],{"/Dvr":function(t,e,n){"use strict";var r={components:{GlIcon:n("s1D3").a},props:{isGroupOpen:{type:Boolean,required:!0,default:!1}},computed:{iconClass(){return this.isGroupOpen?"angle-down":"angle-right"}}},i=n("tBpV"),s=Object(i.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"folder-caret gl-mr-2"},[e("gl-icon",{attrs:{size:10,name:this.iconClass,"use-deprecated-sizes":""}})],1)}),[],!1,null,null,null);e.a=s.exports},214:function(t,e,n){n("HVBj"),n("gjpc"),t.exports=n("im3v")},"5QKO":function(t,e,n){"use strict";var r=n("bOix");e.a={methods:{timeFormatted:t=>Object(r.r)().format(t),tooltipTitle:t=>Object(r.h)(t),durationTimeFormatted(t){const e=new Date(1e3*t);let n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getSeconds();return n<10&&(n="0".concat(n)),r<10&&(r="0".concat(r)),i<10&&(i="0".concat(i)),"".concat(n,":").concat(r,":").concat(i)}}}},A5dm:function(t,e,n){"use strict";var r=n("iQdY"),i=n("Pyw5"),s=n.n(i);const o={props:{text:{type:String,required:!0},position:{type:String,required:!1,default:r.a.END,validator:function(t){return Object.values(r.a).includes(t)}}},data:function(){return{POSITION:r.a}},computed:{middleIndex:function(){return Math.floor(this.text.length/2)},first:function(){return this.text.slice(0,this.middleIndex)},last:function(){return this.text.slice(this.middleIndex)}}};const a=s()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.position===t.POSITION.START?n("span",{staticClass:"gl-truncate",attrs:{title:t.text}},[n("span",{staticClass:"gl-truncate-start gl-text-overflow-ellipsis!"},[t._v("‎"+t._s(t.text)+"‎")])]):t.position===t.POSITION.MIDDLE?n("span",{staticClass:"gl-truncate",attrs:{title:t.text}},[n("span",{staticClass:"gl-truncate-end"},[t._v(t._s(t.first))]),n("span",{staticClass:"gl-truncate-start"},[t._v("‎"+t._s(t.last)+"‎")])]):n("span",{staticClass:"gl-truncate",attrs:{title:t.text}},[n("span",{staticClass:"gl-truncate-end"},[t._v(t._s(t.text))])])},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=a},"Fsq/":function(t,e,n){"use strict";var r=n("LLbv"),i=n("5QKO"),s=(n("bOix"),{directives:{GlTooltip:r.a},mixins:[i.a],props:{time:{type:[String,Number],required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}},computed:{timeAgo(){return this.timeFormatted(this.time)}}}),o=n("tBpV"),a=Object(o.a)(s,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:t.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:t.cssClass,attrs:{title:t.tooltipTitle(t.time),datetime:t.time}},[t._t("default",[t._v(t._s(t.timeAgo))],{timeAgo:t.timeAgo})],2)}),[],!1,null,null,null);e.a=a.exports},GVjJ:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return l}));n("EWC9"),n("gNBD"),n("orcL");var r=n("0AwG");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const a=function(t){const e=new FormData(t);return function(t){return t.reduce((function(t,e){let{name:n,value:r}=e;return Object.assign(t,{[n]:r})}),{})}(Array.from(e.keys()).map((function(t){let n=e.getAll(t);return{name:t,value:1===(n=n.filter((function(t){return t}))).length?n[0]:n}})))},l=function(t){if(!t)throw new TypeError("`mountEl` argument is required");return[...t.querySelectorAll("[name]")].reduce((function(t,e){const n=e.dataset.jsName;if(!n)return t;const i=Object(r.c)(n),{id:o,placeholder:a,name:l,value:c,type:u,checked:d}=e,p=s({name:l,id:o,value:c},a&&{placeholder:a});return["radio","checkbox"].includes(u)?s(s({},t),{},{[i]:[...t[i]||[],s(s({},p),{},{checked:d})]}):s(s({},t),{},{[i]:p})}),{})}},LLbv:function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));var r=n("0zRR"),i=n("EGUT"),s=n("qTlp"),o=n("NSGy"),a=n("TjC/"),l=n("t8l0"),c=n("EGlP"),u=n("BrvI"),d=n("Ddgg"),p=n("7bmO"),f=n("RhHz");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g="__BV_Tooltip__",b={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},y=/^html$/i,_=/^noninteractive$/i,O=/^nofade$/i,j=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,S=/^(window|viewport|scrollParent)$/i,C=/^d\d+$/i,T=/^ds\d+$/i,w=/^dh\d+$/i,x=/^o-?\d+$/i,P=/^v-.+$/i,E=/\s+/,D=function(t,e,n){if(c.g){var h=function(t,e){var n={title:void 0,trigger:"",placement:"top",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,id:null,html:!1,interactive:!0,disabled:!1,delay:Object(l.b)(r.Eb,"delay"),boundary:String(Object(l.b)(r.Eb,"boundary")),boundaryPadding:Object(d.c)(Object(l.b)(r.Eb,"boundaryPadding"),0),variant:Object(l.b)(r.Eb,"variant"),customClass:Object(l.b)(r.Eb,"customClass")};if(Object(u.l)(t.value)||Object(u.g)(t.value)?n.title=t.value:Object(u.e)(t.value)?n.title=t.value:Object(u.i)(t.value)&&(n=m(m({},n),t.value)),Object(u.m)(n.title)){var i=e.data||{};n.title=i.attrs&&!Object(u.n)(i.attrs.title)?i.attrs.title:void 0}Object(u.i)(n.delay)||(n.delay={show:Object(d.c)(n.delay,0),hide:Object(d.c)(n.delay,0)}),t.arg&&(n.container="#".concat(t.arg)),Object(p.i)(t.modifiers).forEach((function(t){if(y.test(t))n.html=!0;else if(_.test(t))n.interactive=!1;else if(O.test(t))n.animation=!1;else if(j.test(t))n.placement=t;else if(S.test(t))t="scrollparent"===t?"scrollParent":t,n.boundary=t;else if(C.test(t)){var e=Object(d.c)(t.slice(1),0);n.delay.show=e,n.delay.hide=e}else T.test(t)?n.delay.show=Object(d.c)(t.slice(2),0):w.test(t)?n.delay.hide=Object(d.c)(t.slice(2),0):x.test(t)?n.offset=Object(d.c)(t.slice(1),0):P.test(t)&&(n.variant=t.slice(2)||null)}));var o={};return Object(a.b)(n.trigger||"").filter(s.a).join(" ").trim().toLowerCase().split(E).forEach((function(t){b[t]&&(o[t]=!0)})),Object(p.i)(t.modifiers).forEach((function(t){t=t.toLowerCase(),b[t]&&(o[t]=!0)})),n.trigger=Object(p.i)(o).join(" "),"blur"===n.trigger&&(n.trigger="focus"),n.trigger||(n.trigger="hover focus"),n}(e,n);if(!t[g]){var v=n.context;t[g]=new f.a({parent:v,_scopeId:Object(i.a)(v,void 0)}),t[g].__bv_prev_data__={},t[g].$on("show",(function(){Object(u.e)(h.title)&&t[g].updateData({title:h.title(t)})}))}var D={title:h.title,triggers:h.trigger,placement:h.placement,fallbackPlacement:h.fallbackPlacement,variant:h.variant,customClass:h.customClass,container:h.container,boundary:h.boundary,delay:h.delay,offset:h.offset,noFade:!h.animation,id:h.id,interactive:h.interactive,disabled:h.disabled,html:h.html},A=t[g].__bv_prev_data__;if(t[g].__bv_prev_data__=D,!Object(o.a)(D,A)){var I={target:t};Object(p.i)(D).forEach((function(e){D[e]!==A[e]&&(I[e]="title"===e&&Object(u.e)(D[e])?D[e](t):D[e])})),t[g].updateData(I)}}},A={bind:function(t,e,n){D(t,e,n)},componentUpdated:function(t,e,n){n.context.$nextTick((function(){D(t,e,n)}))},unbind:function(t){!function(t){t[g]&&(t[g].$destroy(),t[g]=null),delete t[g]}(t)}}},NvjE:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var r=n("WkA6"),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0!==(t||[]).filter((function(t){var e,n;return t.name===r.b&&(null===(e=t[r.a])||void 0===e?void 0:null===(n=e.data)||void 0===n?void 0:n.length)})).length},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.name===r.b&&t.componentType===r.a}},YsYx:function(t,e,n){"use strict";var r=n("S8W2"),i=n.n(r),s=n("kPIO"),o=n("WkA6"),a=n("/CIc"),l=n("A5dm"),c=n("tu2K"),u=n("Pyw5"),d=n.n(u);function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const g={components:{GlChartSeriesLabel:c.a,GlTruncate:l.a},props:{chart:{type:Object,required:!0,validator:function(t){return Object.is(t,i.a.getInstanceByDom(t.getDom()))}},seriesInfo:{type:Array,required:!0,validator:function(t){return t.every((function(t){return t.type&&t.name&&t.color}))}},textStyle:{type:Object,required:!1,default:function(){return{}}},averageText:{type:String,required:!1,default:o.g},currentText:{type:String,required:!1,default:o.h},minText:{type:String,required:!1,default:o.l},maxText:{type:String,required:!1,default:o.k},layout:{type:String,required:!1,default:o.i,validator:function(t){return-1!==[o.i,o.j].indexOf(t)}}},data:function(){return{disabledSeries:{}}},computed:{fontStyle:function(){return{fontFamily:this.textStyle.fontFamily||"sans-serif",fontSize:"".concat(this.textStyle.fontSize||s.d,"px")}}},methods:{sanitizeSeriesData:function(t){var e;return null!==(e=null==t?void 0:t.filter((function(t){return!Number.isNaN(t)})))&&void 0!==e?e:[]},seriesAverage:function(t){var e=this.sanitizeSeriesData(t);return Object(a.b)(a.a.apply(void 0,m(e)))},seriesMax:function(t){var e=this.sanitizeSeriesData(t);return Object(a.b)(Math.max.apply(Math,m(e)))},seriesMin:function(t){var e=this.sanitizeSeriesData(t);return Object(a.b)(Math.min.apply(Math,m(e)))},seriesLast:function(t){var e=this.sanitizeSeriesData(t);return Object(a.b)(e[e.length-1])},seriesNameIsLong:function(t){return t.length>120},handleClick:function(t,e){this.chart.dispatchAction({type:"legendToggleSelect",name:t}),this.disabledSeries=h(h({},this.disabledSeries),{},p({},e,!this.disabledSeries[e]))},handleMouseEnter:function(t){this.chart.dispatchAction({type:"highlight",seriesName:t})},handleMouseLeave:function(t){this.chart.dispatchAction({type:"downplay",seriesName:t})},getColor:function(t,e){return this.disabledSeries[e]?"#bfbfbf":t}},legendLayoutTypes:{LEGEND_LAYOUT_INLINE:o.i,LEGEND_LAYOUT_TABLE:o.j}};const b=d()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.layout===t.$options.legendLayoutTypes.LEGEND_LAYOUT_INLINE?[n("div",{staticClass:"gl-legend-inline"},t._l(t.seriesInfo,(function(e,r){return n("div",{key:r,staticClass:"gl-legend-inline-series",class:{"text-muted":t.disabledSeries[r],"w-100":t.seriesNameIsLong(e.name)},style:t.fontStyle,attrs:{role:"button"},on:{click:function(n){return t.handleClick(e.name,r)},mouseenter:function(n){return t.handleMouseEnter(e.name)},mouseleave:function(n){return t.handleMouseLeave(e.name)}}},[n("gl-chart-series-label",{staticClass:"gl-legend-inline-series-label",class:{"w-75":t.seriesNameIsLong(e.name)},attrs:{color:t.getColor(e.color,r),type:e.type}},[n("gl-truncate",{staticClass:"gl-font-weight-bold",attrs:{text:e.name}})],1),t._v(" "),e.data&&e.data.length?n("span",{class:{"gl-white-space-nowrap":t.seriesNameIsLong(e.name)}},[t._v("\n          "+t._s(t.averageText)+": "+t._s(t.seriesAverage(e.data))+" · "+t._s(t.maxText)+":\n          "+t._s(t.seriesMax(e.data))+"\n        ")]):t._e()],1)})),0)]:t._e(),t._v(" "),t.layout===t.$options.legendLayoutTypes.LEGEND_LAYOUT_TABLE?[n("div",{staticClass:"gl-legend-tabular",style:t.fontStyle},[n("header",{staticClass:"gl-legend-tabular-header"},[n("div",{staticClass:"gl-legend-tabular-header-cell"},[t._v(t._s(t.minText))]),t._v(" "),n("div",{staticClass:"gl-legend-tabular-header-cell"},[t._v(t._s(t.maxText))]),t._v(" "),n("div",{staticClass:"gl-legend-tabular-header-cell"},[t._v(t._s(t.averageText))]),t._v(" "),n("div",{staticClass:"gl-legend-tabular-header-cell"},[t._v(t._s(t.currentText))])]),t._v(" "),n("section",{staticClass:"gl-legend-tabular-body"},t._l(t.seriesInfo,(function(e,r){return n("div",{key:r,staticClass:"gl-legend-tabular-row",class:{"text-muted":t.disabledSeries[r]},style:t.fontStyle,attrs:{role:"button"},on:{click:function(n){return t.handleClick(e.name,r)},mouseenter:function(n){return t.handleMouseEnter(e.name)},mouseleave:function(n){return t.handleMouseLeave(e.name)}}},[n("div",{staticClass:"gl-legend-tabular-title-cell"},[n("gl-chart-series-label",{style:t.fontStyle,attrs:{color:t.getColor(e.color,r),type:e.type}},[n("gl-truncate",{staticClass:"gl-font-weight-bold",attrs:{text:e.name}})],1)],1),t._v(" "),t.sanitizeSeriesData(e.data).length?[n("div",{staticClass:"gl-legend-tabular-details-cell"},[t._v(t._s(t.seriesMin(e.data)))]),t._v(" "),n("div",{staticClass:"gl-legend-tabular-details-cell"},[t._v(t._s(t.seriesMax(e.data)))]),t._v(" "),n("div",{staticClass:"gl-legend-tabular-details-cell"},[t._v(t._s(t.seriesAverage(e.data)))]),t._v(" "),n("div",{staticClass:"gl-legend-tabular-details-cell"},[t._v(t._s(t.seriesLast(e.data)))])]:[n("div",{staticClass:"gl-legend-tabular-details-cell"},[t._v("-")]),t._v(" "),n("div",{staticClass:"gl-legend-tabular-details-cell"},[t._v("-")]),t._v(" "),n("div",{staticClass:"gl-legend-tabular-details-cell"},[t._v("-")]),t._v(" "),n("div",{staticClass:"gl-legend-tabular-details-cell"},[t._v("-")])]],2)})),0)])]:t._e()],2)},staticRenderFns:[]},void 0,g,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=b},ZeWX:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n("QifN"),n("pBsb"),n("Ch9p"),n("+xeR"),n("orcL"),n("pETN");var r=n("EmJ/"),i=n.n(r),s=n("06tH"),o=n.n(s);var a=n("m/7A"),l=n("XRO8"),c=n("2ibD"),u=n("GVjJ"),d=n("3twG"),p=n("/lV4"),f=n("k/Fq");class h{constructor(){!function(){const t=i()("ul.clone-options-dropdown");if(t.length){const e=i()("#clone_url"),n=i()(".js-git-clone-holder .js-clone-dropdown-label"),r=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),s=n.text().trim();s.length>0&&i()("a:contains('".concat(s,"')"),t).addClass("is-active"),i()("a",t).on("click",(function(n){const s=i()(n.currentTarget),o=s.attr("href");if(o&&(o.startsWith("vscode://")||o.startsWith("xcode://")))return;n.preventDefault();const a=s.data("cloneType");i()(".is-active",t).removeClass("is-active"),i()('a[data-clone-type="'.concat(a,'"]')).each((function(){const t=i()(this),e=t.find(".dropdown-menu-inner-title").text(),n=t.closest(".js-git-clone-holder, .js-mobile-git-clone").find(".js-clone-dropdown-label");t.toggleClass("is-active"),n.text(e)})),r?r.dataset.clipboardText=o:e.val(o),i()(".js-git-empty .js-clone").text(o)}))}}(),document.querySelector(".js-project-refs-dropdown")&&(h.initRefSwitcher(),i()(".project-refs-select").on("change",(function(){return i()(this).parents("form").trigger("submit")}))),i()(".hide-no-ssh-message").on("click",(function(t){return o.a.set("hide_no_ssh_message","false"),i()(this).parents(".no-ssh-key-message").remove(),t.preventDefault()})),i()(".hide-no-password-message").on("click",(function(t){return o.a.set("hide_no_password_message","false"),i()(this).parents(".no-password-message").remove(),t.preventDefault()})),i()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(t){const e=i()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(e);return o.a.set(n,"false"),i()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),t.preventDefault()})),h.projectSelectDropdown()}static projectSelectDropdown(){Object(f.a)(),i()(".project-item-select").on("click",(function(t){return h.changeProject(i()(t.currentTarget).val())}))}static changeProject(t){return window.location=t}static initRefSwitcher(){const t=document.createElement("li"),e=document.createElement("a");return e.href="#",i()(".js-project-refs-dropdown").each((function(){const n=i()(this),r=n.data("selected"),s=n.data("fieldName"),o=Boolean(n.data("visit")),f=n.closest("form"),h=f.attr("action"),m=Object(d.q)(Object(u.b)(f[0]),h);return Object(a.a)(n,{data(t,e){c.a.get(n.data("refsUrl"),{params:{ref:n.data("ref"),search:t}}).then((function(t){let{data:n}=t;return e(n)})).catch((function(){return Object(l.c)(Object(p.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:n.data("inputFieldName"),fieldName:s,renderRow(n){const i=t.cloneNode(!1),a=e.cloneNode(!1);return n===r&&(a.className="is-active"),a.textContent=n,a.dataset.ref=n,n.length>0&&o&&(a.href=Object(d.q)({[s]:n},m)),i.appendChild(a),i},id:(t,e)=>e.attr("data-ref"),toggleLabel:(t,e)=>e.text().trim(),clicked(t){const{e:e}=t;if(e.preventDefault(),o){const t=new URL(e.target.href),r=window.location.href;if(r.includes("/-/")){const e=n.data("ref"),i=r.split(e)[1];if(null==i?void 0:i.startsWith("/")){const e=null==i?void 0:i.slice(1).split("#")[0];t.searchParams.set("path",e),t.hash=window.location.hash}}e.metaKey?window.open(t.href,"_blank"):window.location.href=t.href}}})}))}}},dsLq:function(t,e,n){"use strict";var r=n("4lAS"),i=n("Pyw5"),s=n.n(i);const o={components:{GlButton:r.a},props:{title:{type:String,required:!0},svgPath:{type:String,required:!1,default:null},svgHeight:{type:Number,required:!1,default:null},description:{type:String,required:!1,default:null},primaryButtonLink:{type:String,required:!1,default:null},primaryButtonText:{type:String,required:!1,default:null},secondaryButtonLink:{type:String,required:!1,default:null},secondaryButtonText:{type:String,required:!1,default:null},compact:{type:Boolean,required:!1,default:!1}},computed:{height:function(){return this.shouldPreventImageReflow?this.svgHeight:null},shouldPreventImageReflow:function(){return Boolean(this.svgHeight)},shouldRenderPrimaryButton:function(){return Boolean(this.primaryButtonLink&&this.primaryButtonText)},shouldRenderSecondaryButton:function(){return Boolean(this.secondaryButtonLink&&this.secondaryButtonText)}}};const a=s()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"row",class:{"empty-state text-center":!t.compact}},[n("div",{class:{"col-3 d-none d-sm-block":t.compact,"col-12":!t.compact}},[t.svgPath?n("div",{staticClass:"svg-250",class:{"svg-content":!t.compact}},[n("img",{staticClass:"gl-max-w-full",attrs:{src:t.svgPath,alt:"",height:t.height}})]):t._e()]),t._v(" "),n("div",{class:t.compact?"col-sm-9":"col-12"},[n("div",{staticClass:"text-content gl-mx-auto gl-my-0",class:{"gl-p-5":!t.compact}},[n("h1",{ref:"title",class:t.compact?"h5":"h4"},[t._v(t._s(t.title))]),t._v(" "),t.description||t.$scopedSlots.description?n("p",{ref:"description"},[t._t("description",[t._v("\n          "+t._s(t.description)+"\n        ")])],2):t._e(),t._v(" "),n("div",{staticClass:"gl-display-flex gl-flex-wrap",class:{"gl-justify-content-center":!t.compact}},[t._t("actions",[t.shouldRenderPrimaryButton?n("gl-button",{staticClass:"gl-mb-3",class:t.compact?"gl-mr-3":"gl-mx-2",attrs:{variant:"confirm",href:t.primaryButtonLink}},[t._v(t._s(t.primaryButtonText))]):t._e(),t._v(" "),t.shouldRenderSecondaryButton?n("gl-button",{staticClass:"gl-mb-3 gl-mr-3",class:{"gl-mx-2!":!t.compact},attrs:{href:t.secondaryButtonLink}},[t._v(t._s(t.secondaryButtonText)+"\n          ")]):t._e()])],2)])])])},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=a},gNBD:function(t,e,n){var r=n("ZfjD"),i=n("H81m"),s=n("b05b");r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){s(e,t,n)}),{AS_ENTRIES:!0}),e}})},gjpc:function(t,e,n){"use strict";n.r(e);var r=n("CX32");new(n("ZeWX").a),new r.a},im3v:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"requestFunctionsLoading",(function(){return it})),n.d(r,"receiveFunctionsSuccess",(function(){return st})),n.d(r,"receiveFunctionsPartial",(function(){return ot})),n.d(r,"receiveFunctionsTimeout",(function(){return at})),n.d(r,"receiveFunctionsNoDataSuccess",(function(){return lt})),n.d(r,"receiveFunctionsError",(function(){return ct})),n.d(r,"receiveMetricsSuccess",(function(){return ut})),n.d(r,"receiveMetricsNoPrometheus",(function(){return dt})),n.d(r,"receiveMetricsNoDataSuccess",(function(){return pt})),n.d(r,"receiveMetricsError",(function(){return ft})),n.d(r,"fetchFunctions",(function(){return ht})),n.d(r,"fetchMetrics",(function(){return mt}));var i={};n.r(i),n.d(i,"hasPrometheusMissingData",(function(){return vt})),n.d(i,"getFunctions",(function(){return gt}));var s=n("jB52"),o=(n("z4I3"),n("lx39")),a=n.n(o),l=n("yi8e"),c=(n("orcL"),n("mlng")),u=n("a+C/"),d=n.n(u),p=n("NmEs"),f=n("/lV4");n("EWC9");let h;var m={components:{GlAreaChart:c.a},inheritAttrs:!1,props:{graphData:{type:Object,required:!0,validator:function(t){return t.queries&&Array.isArray(t.queries)&&t.queries.filter((function(t){return!!Array.isArray(t.result)&&t.result.filter((function(t){return Array.isArray(t.values)})).length===t.result.length})).length===t.queries.length}},containerWidth:{type:Number,required:!0}},data(){return{tooltipPopoverTitle:"",tooltipPopoverContent:"",width:this.containerWidth}},computed:{chartData(){return this.graphData.queries.reduce((function(t,e){return t[e.unit]=e.result.reduce((function(t,e){return t.concat(e.values)}),[]),t}),{})},extractTimeData(){return this.chartData.requests.map((function(t){return t.time}))},generateSeries(){return{name:Object(f.a)("Invocations"),type:"line",data:this.chartData.requests.map((function(t){return[t.time,t.value]})),symbolSize:0}},getInterval(){const{result:t}=this.graphData.queries[0];if(0===t.length)return 1;const e=t[0].values.reduce((function(t,e){return e.value>t?e.value:t}),1);return e<5?e:5},chartOptions(){return{xAxis:{name:"time",type:"time",axisLabel:{formatter:function(t){return d()(t,"h:MM TT")}},data:this.extractTimeData,nameTextStyle:{padding:[18,0,0,0]}},yAxis:{name:this.yAxisLabel,nameTextStyle:{padding:[0,0,36,0]},splitNumber:this.getInterval},legend:{formatter:this.xAxisLabel},series:this.generateSeries}},xAxisLabel(){return this.graphData.queries.map((function(t){return t.label})).join(", ")},yAxisLabel(){const[t]=this.graphData.queries;return"".concat(this.graphData.y_label," (").concat(t.unit,")")}},watch:{containerWidth:"onResize"},beforeDestroy(){window.removeEventListener("resize",h)},created(){h=Object(p.j)(this.onResize),window.addEventListener("resize",h)},methods:{formatTooltipText(t){const[e]=t.seriesData;this.tooltipPopoverTitle=d()(t.value,"dd mmm yyyy, h:MMTT"),this.tooltipPopoverContent="".concat(this.yAxisLabel,": ").concat(e.value[1])},onResize(){const{width:t}=this.$refs.areaChart.$el.getBoundingClientRect();this.width=t}}},v=n("tBpV"),g=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"prometheus-graph"},[n("div",{staticClass:"prometheus-graph-header"},[n("h5",{ref:"graphTitle",staticClass:"prometheus-graph-title"},[t._v(t._s(t.graphData.title))]),t._v(" "),n("div",{ref:"graphWidgets",staticClass:"prometheus-graph-widgets"},[t._t("default")],2)]),t._v(" "),n("gl-area-chart",t._b({ref:"areaChart",attrs:{data:[],option:t.chartOptions,"format-tooltip-text":t.formatTooltipText,width:t.width,"include-legend-avg-max":!1},scopedSlots:t._u([{key:"tooltip-title",fn:function(){return[t._v(t._s(t.tooltipPopoverTitle))]},proxy:!0},{key:"tooltip-content",fn:function(){return[t._v(t._s(t.tooltipPopoverContent))]},proxy:!0}])},"gl-area-chart",t.$attrs,!1))],1)}),[],!1,null,null,null).exports,b=n("4lAS"),y=n("MV2A");function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S={components:{GlButton:b.a,GlLink:y.a},props:{missingData:{type:Boolean,required:!0}},computed:O(O({},Object(l.f)(["clustersPath","helpPath"])),{},{missingStateClass(){return this.missingData?"missing-prometheus-state":"empty-prometheus-state"},prometheusHelpPath(){return"".concat(this.helpPath,"#prometheus-support")},description(){return this.missingData?Object(f.e)("ServerlessDetails|Invocation metrics loading or not available at this time."):Object(f.e)("ServerlessDetails|Function invocation metrics require Prometheus to be installed first.")}})},C=Object(v.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row",class:t.missingStateClass},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-content"},[n("h4",{staticClass:"state-title text-left"},[t._v(t._s(t.s__("ServerlessDetails|Invocations")))]),t._v(" "),n("p",{staticClass:"state-description"},[t._v("\n        "+t._s(t.description)+"\n        "),n("gl-link",{attrs:{href:t.prometheusHelpPath}},[t._v(t._s(t.s__("ServerlessDetails|More information")))]),t._v(".\n      ")],1),t._v(" "),t.missingData?t._e():n("div",{staticClass:"text-left"},[n("gl-button",{attrs:{href:t.clustersPath,variant:"success",category:"primary"}},[t._v("\n          "+t._s(t.s__("ServerlessDetails|Install Prometheus"))+"\n        ")])],1)])])])}),[],!1,null,null,null).exports,T={props:{count:{type:Number,required:!0},color:{type:String,required:!1,default:"green"}},methods:{boxOffset:t=>20*(t-1)}},w=Object(v.a)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{width:t.boxOffset(t.count+1),height:20}},t._l(t.count,(function(e){return n("rect",{key:e,attrs:{width:"15",height:"15",rx:"5",ry:"5",fill:t.color,x:t.boxOffset(e),y:"0"}})})),0)}),[],!1,null,null,null).exports,x={components:{ClipboardButton:n("rK/1").a},props:{uri:{type:String,required:!0}}},P=Object(v.a)(x,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"clipboard-group"},[e("div",{staticClass:"gl-cursor-text label label-monospace monospace",attrs:{"data-testid":"url-text-field"}},[this._v("\n    "+this._s(this.uri)+"\n  ")]),this._v(" "),e("clipboard-button",{staticClass:"input-group-text js-clipboard-btn",attrs:{text:this.uri,title:this.s__("ServerlessURL|Copy URL")}})],1)}),[],!1,null,null,null).exports;function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I={components:{PodBox:w,Url:P,AreaChart:g,MissingPrometheus:C},props:{func:{type:Object,required:!0},hasPrometheus:{type:Boolean,required:!1,default:!1}},data:()=>({elWidth:0}),computed:D(D({name(){return this.func.name},description(){return a()(this.func.description)?this.func.description:""},funcUrl(){return this.func.url},podCount(){return Number(this.func.podcount)||0}},Object(l.f)(["graphData","hasPrometheusData"])),Object(l.d)(["hasPrometheusMissingData"])),created(){this.fetchMetrics({metricsPath:this.func.metricsUrl,hasPrometheus:this.hasPrometheus})},mounted(){this.elWidth=this.$el.clientWidth},methods:D({},Object(l.c)(["fetchMetrics"]))},N=Object(v.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"serverless-function-details"}},[n("h3",{staticClass:"serverless-function-name"},[t._v(t._s(t.name))]),t._v(" "),n("div",{staticClass:"gl-mb-3 serverless-function-description"},t._l(t.description.split("\n"),(function(e,r){return n("div",{key:r},[t._v(t._s(e))])})),0),t._v(" "),n("url",{attrs:{uri:t.funcUrl}}),t._v(" "),n("h4",[t._v(t._s(t.s__("ServerlessDetails|Kubernetes Pods")))]),t._v(" "),t.podCount>0?n("div",[n("p",[1==t.podCount?n("b",[t._v(t._s(t.podCount)+" "+t._s(t.s__("ServerlessDetails|pod in use")))]):n("b",[t._v(t._s(t.podCount)+" "+t._s(t.s__("ServerlessDetails|pods in use")))])]),t._v(" "),n("pod-box",{attrs:{count:t.podCount}}),t._v(" "),n("p",[t._v("\n      "+t._s(t.s__("ServerlessDetails|Number of Kubernetes pods in use over time based on necessity."))+"\n    ")])],1):n("div",[n("p",[t._v(t._s(t.s__("ServerlessDetails|No pods loaded at this time.")))])]),t._v(" "),t.hasPrometheusData?n("area-chart",{attrs:{"graph-data":t.graphData,"container-width":t.elWidth}}):t._e(),t._v(" "),!t.hasPrometheus||t.hasPrometheusMissingData?n("missing-prometheus",{attrs:{"missing-data":t.hasPrometheusMissingData}}):t._e()],1)}),[],!1,null,null,null).exports,L=n("FkSe"),k=n("R0j4"),q=n("dsLq"),R=n("30su");function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U={components:{GlEmptyState:q.a,GlLink:y.a,GlSprintf:R.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(l.f)(["clustersPath","emptyImagePath","helpPath"]))},B=Object(v.a)(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gl-empty-state",{attrs:{"svg-path":t.emptyImagePath,title:t.s__("Serverless|Getting started with serverless"),"primary-button-link":t.clustersPath,"primary-button-text":t.s__("Serverless|Install Knative")},scopedSlots:t._u([{key:"description",fn:function(){return[n("gl-sprintf",{attrs:{message:t.s__("Serverless|In order to start using functions as a service, you must first install Knative on your Kubernetes cluster. %{linkStart}More information%{linkEnd}")},scopedSlots:t._u([{key:"link",fn:function(e){var r=e.content;return[n("gl-link",{attrs:{href:t.helpPath}},[t._v(t._s(r))])]}}])})]},proxy:!0}])})}),[],!1,null,null,null).exports,$=n("/Dvr"),G=(n("pBsb"),n("3twG")),V={components:{Timeago:n("Fsq/").a,Url:P},props:{func:{type:Object,required:!0}},computed:{name(){return this.func.name},description(){if(!a()(this.func.description))return"";const t=this.func.description.split("\n");return t.length>1?t[1]:t[0]},detailUrl(){return this.func.detail_url},targetUrl(){return this.func.url},image(){return this.func.image},timestamp(){return this.func.created_at}},methods:{checkClass:t=>null===t.closest(".no-expand"),openDetails(t){this.checkClass(t.target)&&Object(G.D)(this.detailUrl)}}},z=Object(v.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"group-row",attrs:{id:t.name}},[n("div",{staticClass:"group-row-contents py-2",attrs:{role:"button"},on:{click:t.openDetails}},[n("p",{staticClass:"float-right text-right"},[n("span",[t._v(t._s(t.image))]),n("br"),t._v(" "),n("timeago",{attrs:{time:t.timestamp}})],1),t._v(" "),n("b",[t._v(t._s(t.name))]),t._v(" "),t._l(t.description.split("\n"),(function(e){return n("div",{key:e},[t._v(t._s(e))])})),t._v(" "),n("url",{staticClass:"gl-mt-3 no-expand",attrs:{uri:t.targetUrl}})],2)])}),[],!1,null,null,null).exports,H={components:{ItemCaret:$.a,FunctionRow:z},props:{env:{type:Array,required:!0},envName:{type:String,required:!0}},data:()=>({isOpen:!0}),computed:{envId(){return"*"===this.envName?"env-global":"env-".concat(this.envName)},isOpenClass(){return{"is-open":this.isOpen}}},methods:{toggleOpen(){this.isOpen=!this.isOpen}}};function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X={components:{EnvironmentRow:Object(v.a)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"group-row has-children",class:t.isOpenClass,attrs:{id:t.envId}},[n("div",{staticClass:"group-row-contents d-flex justify-content-end align-items-center py-2",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.toggleOpen(e)}}},[n("div",{staticClass:"folder-toggle-wrap d-flex align-items-center"},[n("item-caret",{attrs:{"is-group-open":t.isOpen}})],1),t._v(" "),n("div",{staticClass:"group-text flex-grow title namespace-title gl-ml-3"},[t._v("\n      "+t._s(t.envName)+"\n    ")])]),t._v(" "),t.isOpen?n("ul",{staticClass:"content-list group-list-tree"},t._l(t.env,(function(t,e){return n("function-row",{key:t.name,attrs:{index:e,func:t}})})),1):t._e()])}),[],!1,null,null,null).exports,EmptyState:B,GlLink:y.a,GlLoadingIcon:L.a},directives:{SafeHtml:k.a},computed:Y(Y(Y({},Object(l.f)(["installed","isLoading","hasFunctionData","helpPath","statusPath"])),Object(l.d)(["getFunctions"])),{},{checkingInstalled(){return"checking"===this.installed},isInstalled(){return!0===this.installed},noServerlessConfigFile:()=>Object(f.f)(Object(f.e)("Serverless|Your repository does not have a corresponding %{startTag}serverless.yml%{endTag} file."),{startTag:"<code>",endTag:"</code>"},!1),noGitlabYamlConfigured:()=>Object(f.f)(Object(f.e)("Serverless|Your %{startTag}.gitlab-ci.yml%{endTag} file is not properly configured."),{startTag:"<code>",endTag:"</code>"},!1),mismatchedServerlessFunctions:()=>Object(f.f)(Object(f.e)("Serverless|The functions listed in the %{startTag}serverless.yml%{endTag} file don't match the namespace of your cluster."),{startTag:"<code>",endTag:"</code>"},!1)}),created(){this.fetchFunctions({functionsPath:this.statusPath})},methods:Y({},Object(l.c)(["fetchFunctions"]))},Q=Object(v.a)(X,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"flex-grow",attrs:{id:"serverless-functions"}},[t.checkingInstalled?n("gl-loading-icon",{staticClass:"gl-mt-3 gl-mb-3",attrs:{size:"lg"}}):t.isInstalled?n("div",[t.hasFunctionData?n("div",[n("div",{staticClass:"groups-list-tree-container js-functions-wrapper"},[n("ul",{staticClass:"content-list group-list-tree"},t._l(t.getFunctions,(function(t,e){return n("environment-row",{key:e,attrs:{env:t,"env-name":e}})})),1)]),t._v(" "),t.isLoading?n("gl-loading-icon",{staticClass:"gl-mt-3 gl-mb-3 js-functions-loader",attrs:{size:"lg"}}):t._e()],1):n("div",{staticClass:"empty-state js-empty-state"},[n("div",{staticClass:"text-content"},[n("h4",{staticClass:"state-title text-center"},[t._v(t._s(t.s__("Serverless|No functions available")))]),t._v(" "),n("p",{staticClass:"state-description"},[t._v("\n          "+t._s(t.s__("Serverless|There is currently no function data available from Knative. This could be for a variety of reasons including:"))+"\n        ")]),t._v(" "),n("ul",[n("li",{directives:[{name:"safe-html",rawName:"v-safe-html",value:t.noServerlessConfigFile,expression:"noServerlessConfigFile"}]}),t._v(" "),n("li",{directives:[{name:"safe-html",rawName:"v-safe-html",value:t.noGitlabYamlConfigured,expression:"noGitlabYamlConfigured"}]}),t._v(" "),n("li",{directives:[{name:"safe-html",rawName:"v-safe-html",value:t.mismatchedServerlessFunctions,expression:"mismatchedServerlessFunctions"}]}),t._v(" "),n("li",[t._v(t._s(t.s__("Serverless|The deploy job has not finished.")))])]),t._v(" "),n("p",[t._v("\n          "+t._s(t.s__("Serverless|If you believe none of these apply, please check back later as the function data may be in the process of becoming available."))+"\n        ")]),t._v(" "),n("div",{staticClass:"text-center"},[n("gl-link",{staticClass:"btn btn-success",attrs:{href:t.helpPath}},[t._v(t._s(t.s__("Serverless|Learn more about Serverless")))])],1)])])]):n("empty-state")],1)}),[],!1,null,null,null).exports,J=n("XRO8"),Z=n("2ibD"),tt=n("QwBj");function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const it=function(t){let{commit:e}=t;return e("REQUEST_FUNCTIONS_LOADING")},st=function(t,e){let{commit:n}=t;return n("RECEIVE_FUNCTIONS_SUCCESS",e)},ot=function(t,e){let{commit:n}=t;return n("RECEIVE_FUNCTIONS_PARTIAL",e)},at=function(t,e){let{commit:n}=t;return n("RECEIVE_FUNCTIONS_TIMEOUT",e)},lt=function(t,e){let{commit:n}=t;return n("RECEIVE_FUNCTIONS_NODATA_SUCCESS",e)},ct=function(t,e){let{commit:n}=t;return n("RECEIVE_FUNCTIONS_ERROR",e)},ut=function(t,e){let{commit:n}=t;return n("RECEIVE_METRICS_SUCCESS",e)},dt=function(t){let{commit:e}=t;return e("RECEIVE_METRICS_NO_PROMETHEUS")},pt=function(t,e){let{commit:n}=t;return n("RECEIVE_METRICS_NODATA_SUCCESS",e)},ft=function(t,e){let{commit:n}=t;return n("RECEIVE_METRICS_ERROR",e)},ht=function(t,e){let{dispatch:n}=t,{functionsPath:r}=e,i=0;n("requestFunctionsLoading"),Object(p.d)((function(t,e){Z.a.get(r).then((function(r){var s;"checking"===r.data.knative_installed?(i+=1)<3?(null!==(s=r.data).functions&&s.functions.length&&n("receiveFunctionsPartial",s),t()):e("timeout"):e(r.data)})).catch(e)})).then((function(t){"timeout"===t?(n("receiveFunctionsTimeout"),Object(J.c)(Object(f.a)("Loading functions timed out. Please reload the page to try again."))):null!==t.functions&&t.functions.length?n("receiveFunctionsSuccess",t):n("receiveFunctionsNoDataSuccess",t)})).catch((function(t){n("receiveFunctionsError",t),Object(J.c)(t)}))},mt=function(t,e){let{dispatch:n}=t,{metricsPath:r,hasPrometheus:i}=e,s=0;i?Object(p.d)((function(t,e){Z.a.get(r).then((function(r){r.status===tt.a.NO_CONTENT?(s+=1)<3?t():(n("receiveMetricsNoDataSuccess"),e(null)):e(r.data)})).catch(e)})).then((function(t){if(null===t)return;const e=t.metrics,r=t.metrics.queries.map((function(t){return nt(nt({},t),{},{result:t.result.map((function(t){return nt(nt({},t),{},{values:t.values.map((function(t){let[e,n]=t;return{time:new Date(1e3*e).toISOString(),value:Number(n)}}))})}))})}));e.queries=r,n("receiveMetricsSuccess",e)})).catch((function(t){n("receiveMetricsError",t),Object(J.c)(t)})):n("receiveMetricsNoPrometheus")},vt=function(t){return t.hasPrometheus&&!t.hasPrometheusData},gt=function(t){return function(t){return t.reduce((function(t,e){return Object.assign(t,{[e.environment_scope]:(t[e.environment_scope]||[]).concat([e])})}),{})}(t.functions)};var bt={REQUEST_FUNCTIONS_LOADING(t){t.isLoading=!0},RECEIVE_FUNCTIONS_SUCCESS(t,e){t.functions=e.functions,t.installed=e.knative_installed,t.isLoading=!1,t.hasFunctionData=!0},RECEIVE_FUNCTIONS_PARTIAL(t,e){t.functions=e.functions,t.installed=!0,t.isLoading=!0,t.hasFunctionData=!0},RECEIVE_FUNCTIONS_TIMEOUT(t){t.isLoading=!1},RECEIVE_FUNCTIONS_NODATA_SUCCESS(t,e){t.isLoading=!1,t.installed=e.knative_installed,t.hasFunctionData=!1},RECEIVE_FUNCTIONS_ERROR(t,e){t.error=e,t.hasFunctionData=!1,t.isLoading=!1},RECEIVE_METRICS_SUCCESS(t,e){t.isLoading=!1,t.hasPrometheusData=!0,t.graphData=e},RECEIVE_METRICS_NODATA_SUCCESS(t){t.isLoading=!1,t.hasPrometheusData=!1},RECEIVE_METRICS_ERROR(t,e){t.hasPrometheusData=!1,t.error=e},RECEIVE_METRICS_NO_PROMETHEUS(t){t.hasPrometheusData=!1,t.hasPrometheus=!1}},yt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clustersPath:null,helpPath:null,emptyImagePath:null,statusPath:null};return{clustersPath:t.clustersPath,error:null,helpPath:t.helpPath,installed:"checking",isLoading:!0,functions:[],hasFunctionData:!0,statusPath:t.statusPath,hasPrometheus:!0,hasPrometheusData:!1,graphData:{},emptyImagePath:t.emptyImagePath}};s.default.use(l.b);const _t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new l.b.Store({actions:r,getters:i,mutations:bt,state:yt(t)})};var Ot=n("vb9m");Object(Ot.a)(),new class{constructor(){if(null!=document.querySelector(".js-serverless-function-details-page")){const t=document.querySelector(".js-serverless-function-details-page").dataset,e=_t(t),{serviceName:n,serviceDescription:r,serviceEnvironment:i,serviceUrl:o,serviceNamespace:a,servicePodcount:l,serviceMetricsUrl:c,prometheus:u}=t,d=document.querySelector("#js-serverless-function-details"),p={name:n,description:r,environment:i,url:o,namespace:a,podcount:l,metricsUrl:c};this.functionDetails=new s.default({el:d,store:e,render:t=>t(N,{props:{func:p,hasPrometheus:void 0!==u}})})}else{const t=document.querySelector(".js-serverless-functions-page").dataset,e=_t(t),n=document.querySelector("#js-serverless-functions");this.functions=new s.default({el:n,store:e,render:t=>t(Q)})}}destroy(){this.destroyed=!0,this.functions.$destroy(),this.functionDetails.$destroy()}}},mlng:function(t,e,n){"use strict";var r=n("2FGo"),i=n.n(r),s=n("kPIO"),o=n("WkA6"),a=n("hXLA"),l=n("NvjE"),c=n("Qog8"),u=n("93Ww"),d=n("J7jM"),p=n("Gx1T"),f=n("YsYx"),h=n("sCiu"),m=n("Pyw5"),v=n.n(m);function g(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const y={components:{Chart:p.a,ChartLegend:f.a,ChartTooltip:h.a,TooltipDefaultFormat:d.a},mixins:[u.a],inheritAttrs:!1,props:{data:{type:Array,required:!0},option:{type:Object,required:!1,default:function(){return{}}},thresholds:{type:Array,required:!1,default:function(){return[]}},annotations:{type:Array,required:!1,default:function(){return[]}},includeLegendAvgMax:{type:Boolean,required:!1,default:!0},formatAnnotationsTooltipText:{type:Function,required:!1,default:null},formatTooltipText:{type:Function,required:!1,default:null},legendAverageText:{type:String,required:!1,default:o.g},legendMaxText:{type:String,required:!1,default:o.k},legendMinText:{type:String,required:!1,default:o.l},legendCurrentText:{type:String,required:!1,default:o.h},legendLayout:{type:String,required:!1,default:o.i,validator:function(t){return-1!==[o.i,o.j].indexOf(t)}}},data:function(){return{chart:null,showDataTooltip:!1,dataTooltipTitle:"",dataTooltipContent:{},dataTooltipPosition:{left:"0",top:"0"},showAnnotationsTooltip:!1,annotationsTooltipTitle:"",annotationsTooltipContent:"",annotationsTooltipPosition:{left:"0",top:"0"},debouncedShowHideTooltip:Object(c.b)(this.showHideTooltip),selectedFormatTooltipText:this.formatTooltipText||this.defaultFormatTooltipText}},computed:{series:function(){var t=this,e=this.data.map((function(e,n){var r=Object(a.a)(n),o=function(t){return e[t]&&e[t].color?e[t].color:r};return i()({areaStyle:{opacity:s.c,color:o("areaStyle")},showSymbol:!1,lineStyle:{color:o("lineStyle")},itemStyle:{color:o("itemStyle")}},s.n,e,Object(s.j)(t.thresholds))}));return this.annotationSeries?[].concat(g(e),[this.annotationSeries]):e},annotationSeries:function(){return Object(s.f)(this.annotations)},options:function(){var t={xAxis:{axisPointer:{show:!0,label:{formatter:this.onLabelChange}}},yAxis:{axisTick:{show:!1}},legend:{show:!1}},e=i()({},s.b,t,this.option,Object(s.a)(this.option.dataZoom),this.toolboxAdjustments);return Object(s.p)(Object(s.o)(e,this.hasAnnotations),this.series)},hasAnnotations:function(){return 0!==this.annotations.length||Object(l.b)(this.option.series)},shouldShowAnnotationsTooltip:function(){return this.chart&&this.hasAnnotations},compiledOptions:function(){return this.chart?this.chart.getOption():null},legendStyle:function(){return{paddingLeft:"".concat(s.l.left,"px")}},seriesInfo:function(){var t=this;return this.compiledOptions.series.reduce((function(e,n,r){return"line"===n.type&&e.push({name:n.name,type:n.lineStyle.type,color:n.lineStyle.color||Object(a.a)(r),data:t.includeLegendAvgMax?n.data.map((function(t){return t[1]})):void 0}),e}),[])}},beforeDestroy:function(){this.chart.getDom().removeEventListener("mousemove",this.debouncedShowHideTooltip),this.chart.getDom().removeEventListener("mouseout",this.debouncedShowHideTooltip),this.chart.off("mouseout",this.hideAnnotationsTooltip),this.chart.off("mouseover",this.onChartMouseOver)},methods:{defaultFormatTooltipText:function(t){var e=Object(s.i)(t,this.options.yAxis.name),n=e.xLabels,r=e.tooltipContent;this.$set(this,"dataTooltipContent",r),this.dataTooltipTitle=n.join(", ")},defaultAnnotationTooltipText:function(t){var e;return{title:t.data.xAxis,content:null===(e=t.data.tooltipData)||void 0===e?void 0:e.content}},onCreated:function(t){t.getDom().addEventListener("mousemove",this.debouncedShowHideTooltip),t.getDom().addEventListener("mouseout",this.debouncedShowHideTooltip),this.hasAnnotations&&(t.on("mouseout",this.onChartDataPointMouseOut),t.on("mouseover",this.onChartDataPointMouseOver)),this.chart=t,this.$emit("created",t)},showHideTooltip:function(t){this.showDataTooltip=this.chart.containPixel("grid",[t.zrX,t.zrY]),this.dataTooltipPosition={left:"".concat(t.zrX+o.f,"px"),top:"".concat(t.zrY,"px")}},onChartDataPointMouseOut:function(){this.showAnnotationsTooltip=!1},onChartDataPointMouseOver:function(t){if(Object(l.a)(t)){var e=t.event,n=(this.formatAnnotationsTooltipText||this.defaultAnnotationTooltipText)(t),r=n.title,i=void 0===r?"":r,s=n.content,a=void 0===s?"":s;this.showAnnotationsTooltip=!0,this.annotationsTooltipTitle=i,this.annotationsTooltipContent=a,this.annotationsTooltipPosition={left:"".concat(e.event.zrX,"px"),top:"".concat(e.event.zrY+o.c,"px")}}},onLabelChange:function(t){this.selectedFormatTooltipText(t)}}};const _=v()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"position-relative"},[n("chart",t._g(t._b({attrs:{options:t.options},on:{created:t.onCreated}},"chart",t.$attrs,!1),t.$listeners)),t._v(" "),t.shouldShowAnnotationsTooltip?n("chart-tooltip",{ref:"annotationsTooltip",attrs:{id:"annotationsTooltip",show:t.showAnnotationsTooltip,chart:t.chart,top:t.annotationsTooltipPosition.top,left:t.annotationsTooltipPosition.left,placement:"bottom"}},[n("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.annotationsTooltipTitle))]),t._v(" "),n("div",[t._v(t._s(t.annotationsTooltipContent))])]):t._e(),t._v(" "),t.chart?n("chart-tooltip",{ref:"dataTooltip",staticClass:"gl-pointer-events-none",attrs:{id:"dataTooltip",show:t.showDataTooltip,chart:t.chart,top:t.dataTooltipPosition.top,left:t.dataTooltipPosition.left}},[t.formatTooltipText?[t._t("tooltip-title",null,{slot:"title"}),t._v(" "),t._t("tooltip-content")]:[n("div",{attrs:{slot:"title"},slot:"title"},[t._v("\n        "+t._s(t.dataTooltipTitle)+"\n        "),t.options.xAxis.name?[t._v("("+t._s(t.options.xAxis.name)+")")]:t._e()],2),t._v(" "),n("tooltip-default-format",{attrs:{"tooltip-content":t.dataTooltipContent}})]],2):t._e(),t._v(" "),t.compiledOptions?n("chart-legend",{style:t.legendStyle,attrs:{chart:t.chart,"series-info":t.seriesInfo,"text-style":t.compiledOptions.textStyle,"min-text":t.legendMinText,"max-text":t.legendMaxText,"average-text":t.legendAverageText,"current-text":t.legendCurrentText,layout:t.legendLayout}}):t._e()],1)},staticRenderFns:[]},void 0,y,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=_}},[[214,1,0,23,2,3,4,5,25,30]]]);
//# sourceMappingURL=pages.projects.serverless.b5f15db4.chunk.js.map