(this.webpackJsonp=this.webpackJsonp||[]).push([[74],{"2Dmn":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("NmEs"),r=n("/lV4");class o{constructor(t){let{container:e,valueSelector:n=".js-secret-value",placeholderSelector:i=".js-secret-value-placeholder"}=t;this.container=e,this.valueSelector=n,this.placeholderSelector=i}init(){if(this.revealButton=this.container.querySelector(".js-secret-value-reveal-button"),this.revealButton){const t=Object(i.K)(this.revealButton.dataset.secretRevealStatus);this.updateDom(t),this.revealButton.addEventListener("click",this.onRevealButtonClicked.bind(this))}}onRevealButtonClicked(){const t=Object(i.K)(this.revealButton.dataset.secretRevealStatus);this.updateDom(!t)}updateDom(t){const e=this.container.querySelectorAll(this.valueSelector);e.forEach((function(e){e.classList.toggle("hide",!t)})),this.container.querySelectorAll(this.placeholderSelector).forEach((function(e){e.classList.toggle("hide",t)})),this.revealButton.textContent=t?Object(r.d)("Hide value","Hide values",e.length):Object(r.d)("Reveal value","Reveal values",e.length),this.revealButton.dataset.secretRevealStatus=t}}},"4wRe":function(t,e,n){"use strict";var i=n("HVP3"),r=n("SGKy"),o=n("OQy4"),a=n("Pyw5"),s=n.n(a),c=i.a.options.model;const l={components:{BFormRadioGroup:i.a,GlFormRadio:o.a},mixins:[r.a],inheritAttrs:!1,model:c};const u=s()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form-radio-group",t._g(t._b({staticClass:"gl-form-checkbox-group",attrs:{stacked:""},on:{input:function(e){return t.$emit("input",e)},change:function(e){return t.$emit("change",e)}}},"b-form-radio-group",t.$attrs,!1),t.$listeners),[t._t("first"),t._v(" "),t._l(t.formOptions,(function(e,i){return n("gl-form-radio",{key:i,attrs:{value:e.value,disabled:e.disabled}},[e.html?n("span",{domProps:{innerHTML:t._s(e.html)}}):n("span",[t._v(t._s(e.text))])])})),t._v(" "),t._t("default")],2)},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=u},"5PBi":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n("jaBk");var i=n("EmJ/"),r=n.n(i),o=n("XRO8"),a=n("NmEs"),s=n("/lV4");function c(t,e){t.classList.toggle("is-checked",e)}function l(t,e,n){const i=Object(a.K)(e.value);c(t,!i),t.setAttribute("disabled",!0),t.classList.toggle("is-loading",!0),Promise.resolve(n(!i,t)).then((function(){e.setAttribute("value",!i)})).catch((function(){c(t,i)})).then((function(){t.removeAttribute("disabled"),t.classList.toggle("is-loading",!1),r()(e).trigger("trigger-change")})).catch((function(){Object(o.c)(Object(s.a)("Something went wrong when toggling the button"))}))}function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t.querySelectorAll(".js-project-feature-toggle").forEach((function(t){const n=t.querySelector(".js-project-feature-toggle-input");c(t,Object(a.K)(n.value)),t.addEventListener("click",l.bind(null,t,n,e))}))}},DXSV:function(t,e,n){"use strict";e.a={props:{id:{type:String}},data:function(){return{localId_:null}},computed:{safeId:function(){var t=this.id||this.localId_;return function(e){return t?(e=String(e||"").replace(/\s+/g,"_"))?t+"_"+e:t:null}}},mounted:function(){var t=this;this.$nextTick((function(){t.localId_="__BVID__".concat(t._uid)}))}}},GVjJ:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return c}));n("EWC9"),n("gNBD"),n("orcL");var i=n("0AwG");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const s=function(t){const e=new FormData(t);return function(t){return t.reduce((function(t,e){let{name:n,value:i}=e;return Object.assign(t,{[n]:i})}),{})}(Array.from(e.keys()).map((function(t){let n=e.getAll(t);return{name:t,value:1===(n=n.filter((function(t){return t}))).length?n[0]:n}})))},c=function(t){if(!t)throw new TypeError("`mountEl` argument is required");return[...t.querySelectorAll("[name]")].reduce((function(t,e){const n=e.dataset.jsName;if(!n)return t;const r=Object(i.c)(n),{id:a,placeholder:s,name:c,value:l,type:u,checked:d}=e,h=o({name:c,id:a,value:l},s&&{placeholder:s});return["radio","checkbox"].includes(u)?o(o({},t),{},{[r]:[...t[r]||[],o(o({},h),{},{checked:d})]}):o(o({},t),{},{[r]:h})}),{})}},HVP3:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n("0zRR"),r=n("/Szx"),o=n("DXSV"),a=n("Vxxt"),s=n("SGKy"),c=n("6nFr"),l=n("NSGy"),u=n("EQ0+"),d=n("rPnh"),h=n("MUaa"),p=n("nq4Y"),f={mixins:[u.a],model:{prop:"checked",event:"input"},props:{validated:{type:Boolean,default:!1},ariaInvalid:{type:[Boolean,String],default:!1},stacked:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},buttons:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"}},computed:{inline:function(){return!this.stacked},groupName:function(){return this.name||this.safeId()},groupClasses:function(){return this.buttons?["btn-group-toggle",this.inline?"btn-group":"btn-group-vertical",this.size?"btn-group-".concat(this.size):"",this.validated?"was-validated":""]:[this.validated?"was-validated":""]},computedAriaInvalid:function(){var t=this.ariaInvalid;return!0===t||"true"===t||""===t?"true":!1===this.computedState?"true":null}},watch:{checked:function(t){Object(l.a)(t,this.localChecked)||(this.localChecked=t)},localChecked:function(t,e){Object(l.a)(t,e)||this.$emit("input",t)}},render:function(t){var e=this,n=this.formOptions.map((function(n,i){var r="BV_option_".concat(i);return t(e.isRadioGroup?p.a:h.a,{props:{id:e.safeId(r),value:n.value,disabled:n.disabled||!1},key:r},[t("span",{domProps:Object(d.a)(n.html,n.text)})])}));return t("div",{class:[this.groupClasses,"bv-no-focus-ring"],attrs:{id:this.safeId(),role:this.isRadioGroup?"radiogroup":"group",tabindex:"-1","aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},[this.normalizeSlot(c.e),n,this.normalizeSlot()])}},m=n("Tu1i"),b=n("QlUp"),v=r.a.extend({name:i.E,mixins:[o.a,a.a,f,s.a,m.a,b.a],provide:function(){return{bvRadioGroup:this}},props:{checked:{default:null}},data:function(){return{localChecked:this.checked}},computed:{isRadioGroup:function(){return!0}}})},MUaa:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("0zRR"),r=n("/Szx"),o=n("NSGy"),a=function(t,e){for(var n=0;n<t.length;n++)if(Object(o.a)(t[n],e))return n;return-1},s=n("BrvI"),c=n("Vxxt"),l=n("lOuV"),u=n("Tu1i"),d=n("QlUp"),h=n("DXSV"),p=r.a.extend({name:i.x,mixins:[l.a,h.a,c.a,u.a,d.a],inject:{bvGroup:{from:"bvCheckGroup",default:!1}},props:{value:{default:!0},uncheckedValue:{default:!1},indeterminate:{type:Boolean,default:!1},switch:{type:Boolean,default:!1},checked:{default:null}},computed:{isChecked:function(){var t=this.value,e=this.computedLocalChecked;return Object(s.a)(e)?a(e,t)>-1:Object(o.a)(e,t)},isRadio:function(){return!1},isCheck:function(){return!0}},watch:{computedLocalChecked:function(t,e){if(!Object(o.a)(t,e)){this.$emit("input",t);var n=this.$refs.input;n&&this.$emit("update:indeterminate",n.indeterminate)}},indeterminate:function(t){this.setIndeterminate(t)}},mounted:function(){this.setIndeterminate(this.indeterminate)},methods:{handleChange:function(t){var e=t.target,n=e.checked,i=e.indeterminate,r=this.value,o=this.uncheckedValue,c=this.computedLocalChecked;if(Object(s.a)(c)){var l=a(c,r);n&&l<0?c=c.concat(r):!n&&l>-1&&(c=c.slice(0,l).concat(c.slice(l+1)))}else c=n?r:o;this.computedLocalChecked=c,this.$emit("change",c),this.isGroup&&this.bvGroup.$emit("change",c),this.$emit("update:indeterminate",i)},setIndeterminate:function(t){Object(s.a)(this.computedLocalChecked)&&(t=!1);var e=this.$refs.input;e&&(e.indeterminate=t,this.$emit("update:indeterminate",t))}}})},OQy4:function(t,e,n){"use strict";var i=n("nq4Y"),r=n("Pyw5"),o=n.n(r),a=i.a.options.model;const s={name:"GlFormRadio",components:{BFormRadio:i.a},inheritAttrs:!1,model:a};const c=o()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form-radio",t._g(t._b({staticClass:"gl-form-radio",on:{input:function(e){return t.$emit("input",e)},change:function(e){return t.$emit("change",e)}}},"b-form-radio",t.$attrs,!1),t.$listeners),[t._t("default"),t._v(" "),t.$scopedSlots.help?n("p",{staticClass:"help-text"},[t._t("help")],2):t._e()],2)},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=c},QlUp:function(t,e,n){"use strict";var i=n("BrvI");e.a={props:{state:{type:Boolean,default:null}},computed:{computedState:function(){return Object(i.b)(this.state)?this.state:null},stateClass:function(){var t=this.computedState;return!0===t?"is-valid":!1===t?"is-invalid":null}}}},SGKy:function(t,e,n){"use strict";var i=n("A7+L"),r=n("rPnh"),o=n("BrvI"),a=n("7bmO"),s=n("kI/X");e.a={props:{options:{type:[Array,Object],default:function(){return[]}},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},htmlField:{type:String,default:"html"},disabledField:{type:String,default:"disabled"}},computed:{formOptions:function(){return this.normalizeOptions(this.options)}},methods:{normalizeOption:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(o.i)(t)){var n=Object(i.a)(t,this.valueField),a=Object(i.a)(t,this.textField);return{value:Object(o.m)(n)?e||a:n,text:Object(r.b)(String(Object(o.m)(a)?e:a)),html:Object(i.a)(t,this.htmlField),disabled:Boolean(Object(i.a)(t,this.disabledField))}}return{value:e||t,text:Object(r.b)(String(t)),disabled:!1}},normalizeOptions:function(t){var e=this;return Object(o.a)(t)?t.map((function(t){return e.normalizeOption(t)})):Object(o.i)(t)?(Object(s.a)('Setting prop "options" to an object is deprecated. Use the array format instead.',this.$options.name),Object(a.i)(t).map((function(n){return e.normalizeOption(t[n]||{},n)}))):[]}}}},SaZh:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("G3fq"),r=n.n(i),o=n("m/7A");class a{constructor(t){this.defaultToggleLabel=t.defaultToggleLabel,this.fieldName=t.fieldName,this.onSelect=t.onSelect||function(){},this.getDataOption=t.getData,this.getDataRemote=Boolean(t.filterRemote),this.createNewItemFromValueOption=t.createNewItemFromValue,this.$dropdown=t.$dropdown,this.$dropdownContainer=this.$dropdown.parent(),this.$dropdownFooter=this.$dropdownContainer.find(".dropdown-footer"),this.$createButton=this.$dropdownContainer.find(".js-dropdown-create-new-item"),this.buildDropdown(),this.bindEvents(),this.toggleFooter(!0)}buildDropdown(){var t=this;Object(o.a)(this.$dropdown,{data:this.getData.bind(this),filterable:!0,filterRemote:this.getDataRemote,search:{fields:["text"]},selectable:!0,toggleLabel(t){return t&&"id"in t?r()(t.title):this.defaultToggleLabel},fieldName:this.fieldName,text:t=>r()(t.text),id:t=>r()(t.id),onFilter:this.toggleCreateNewButton.bind(this),clicked:function(e){e.e.preventDefault(),t.onSelect()}})}clearDropdown(){this.$dropdownContainer.find(".dropdown-content").html(""),this.$dropdownContainer.find(".dropdown-input-field").val("")}bindEvents(){this.$createButton.on("click",this.onClickCreateWildcard.bind(this))}onClickCreateWildcard(t){t.preventDefault(),this.refreshData(),this.$dropdown.data("deprecatedJQueryDropdown").selectRowAtIndex()}refreshData(){this.$dropdown.data("deprecatedJQueryDropdown").remote.execute()}getData(t,e){var n=this;this.getDataOption(t,(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const i=n.selectedItem&&t.some((function(t){return t.id===n.selectedItem.id}));let r=t;i||(r=t.concat(n.selectedItem||[])),e(r)}))}createNewItemFromValue(t){return this.createNewItemFromValueOption?this.createNewItemFromValueOption(t):{title:t,id:t,text:t}}toggleCreateNewButton(t){t&&(this.selectedItem=this.createNewItemFromValue(t),this.$dropdownContainer.find(".js-dropdown-create-new-item code").text(t)),this.toggleFooter(!t)}toggleFooter(t){this.$dropdownFooter.toggleClass("hidden",t)}}},Tu1i:function(t,e,n){"use strict";var i=n("t8l0");e.a={props:{size:{type:String,default:function(){return Object(i.b)("formControls","size")}}},computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]},sizeBtnClass:function(){return[this.size?"btn-".concat(this.size):null]}}}},Vxxt:function(t,e,n){"use strict";var i=n("o/E4");e.a={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1},form:{type:String},autofocus:{type:Boolean,default:!1}},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{handleAutofocus:function(){var t=this;this.$nextTick((function(){Object(i.B)((function(){var e=t.$el;t.autofocus&&Object(i.u)(e)&&(Object(i.v)(e,"input, textarea, select")||(e=Object(i.C)("input, textarea, select",e)),Object(i.d)(e))}))}))}}}},ZeWX:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n("QifN"),n("pBsb"),n("Ch9p"),n("+xeR"),n("orcL"),n("pETN");var i=n("EmJ/"),r=n.n(i),o=n("06tH"),a=n.n(o);var s=n("m/7A"),c=n("XRO8"),l=n("2ibD"),u=n("GVjJ"),d=n("3twG"),h=n("/lV4"),p=n("k/Fq");class f{constructor(){!function(){const t=r()("ul.clone-options-dropdown");if(t.length){const e=r()("#clone_url"),n=r()(".js-git-clone-holder .js-clone-dropdown-label"),i=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),o=n.text().trim();o.length>0&&r()("a:contains('".concat(o,"')"),t).addClass("is-active"),r()("a",t).on("click",(function(n){const o=r()(n.currentTarget),a=o.attr("href");if(a&&(a.startsWith("vscode://")||a.startsWith("xcode://")))return;n.preventDefault();const s=o.data("cloneType");r()(".is-active",t).removeClass("is-active"),r()('a[data-clone-type="'.concat(s,'"]')).each((function(){const t=r()(this),e=t.find(".dropdown-menu-inner-title").text(),n=t.closest(".js-git-clone-holder, .js-mobile-git-clone").find(".js-clone-dropdown-label");t.toggleClass("is-active"),n.text(e)})),i?i.dataset.clipboardText=a:e.val(a),r()(".js-git-empty .js-clone").text(a)}))}}(),document.querySelector(".js-project-refs-dropdown")&&(f.initRefSwitcher(),r()(".project-refs-select").on("change",(function(){return r()(this).parents("form").trigger("submit")}))),r()(".hide-no-ssh-message").on("click",(function(t){return a.a.set("hide_no_ssh_message","false"),r()(this).parents(".no-ssh-key-message").remove(),t.preventDefault()})),r()(".hide-no-password-message").on("click",(function(t){return a.a.set("hide_no_password_message","false"),r()(this).parents(".no-password-message").remove(),t.preventDefault()})),r()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(t){const e=r()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(e);return a.a.set(n,"false"),r()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),t.preventDefault()})),f.projectSelectDropdown()}static projectSelectDropdown(){Object(p.a)(),r()(".project-item-select").on("click",(function(t){return f.changeProject(r()(t.currentTarget).val())}))}static changeProject(t){return window.location=t}static initRefSwitcher(){const t=document.createElement("li"),e=document.createElement("a");return e.href="#",r()(".js-project-refs-dropdown").each((function(){const n=r()(this),i=n.data("selected"),o=n.data("fieldName"),a=Boolean(n.data("visit")),p=n.closest("form"),f=p.attr("action"),m=Object(d.q)(Object(u.b)(p[0]),f);return Object(s.a)(n,{data(t,e){l.a.get(n.data("refsUrl"),{params:{ref:n.data("ref"),search:t}}).then((function(t){let{data:n}=t;return e(n)})).catch((function(){return Object(c.c)(Object(h.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:n.data("inputFieldName"),fieldName:o,renderRow(n){const r=t.cloneNode(!1),s=e.cloneNode(!1);return n===i&&(s.className="is-active"),s.textContent=n,s.dataset.ref=n,n.length>0&&a&&(s.href=Object(d.q)({[o]:n},m)),r.appendChild(s),r},id:(t,e)=>e.attr("data-ref"),toggleLabel:(t,e)=>e.text().trim(),clicked(t){const{e:e}=t;if(e.preventDefault(),a){const t=new URL(e.target.href),i=window.location.href;if(i.includes("/-/")){const e=n.data("ref"),r=i.split(e)[1];if(null==r?void 0:r.startsWith("/")){const e=null==r?void 0:r.slice(1).split("#")[0];t.searchParams.set("path",e),t.hash=window.location.hash}}e.metaKey?window.open(t.href,"_blank"):window.location.href=t.href}}})}))}}},gNBD:function(t,e,n){var i=n("ZfjD"),r=n("H81m"),o=n("b05b");i({target:"Object",stat:!0},{fromEntries:function(t){var e={};return r(t,(function(t,n){o(e,t,n)}),{AS_ENTRIES:!0}),e}})},gjpc:function(t,e,n){"use strict";n.r(e);var i=n("CX32");new(n("ZeWX").a),new i.a},iI3z:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var i=n("m/7A");const r={name:"UTC",offset:0},o={$inputEl:null,$dropdownEl:null,onSelectTimezone:null,displayFormat:function(t){return t.name}},a=function(t){return"[UTC ".concat(function(t){const e=parseInt(t,10);return Number.isNaN(e)||0===e?"0":"".concat(t>0?"+":"-"," ").concat(Math.abs(t/3600))}(t.offset),"] ").concat(t.name)},s=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t&&t.length&&e&&e.length&&t.find((function(t){return t.identifier===e}))||null};class c{constructor(){let{$dropdownEl:t,$inputEl:e,onSelectTimezone:n,displayFormat:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.$dropdown=t,this.$dropdownToggle=this.$dropdown.find(".dropdown-toggle-text"),this.$input=e,this.timezoneData=this.$dropdown.data("data"),this.onSelectTimezone=n,this.displayFormat=i||o.displayFormat,this.initialTimezone=s(this.timezoneData,this.$input.val())||r,this.initDefaultTimezone(),this.initDropdown()}initDropdown(){var t=this;Object(i.a)(this.$dropdown,{data:this.timezoneData,filterable:!0,selectable:!0,toggleLabel:this.displayFormat,search:{fields:["name"]},clicked:function(e){return t.updateInputValue(e)},text:function(t){return a(t)}}),this.setDropdownToggle(this.displayFormat(this.initialTimezone))}initDefaultTimezone(){this.$input.val()||this.$input.val(r.name)}setDropdownToggle(t){this.$dropdownToggle.text(t)}updateInputValue(t){let{selectedObj:e,e:n}=t;n.preventDefault(),this.$input.val(e.identifier),this.onSelectTimezone&&this.onSelectTimezone({selectedObj:e,e:n})}}},"k/Fq":function(t,e,n){"use strict";n("jaBk");var i=n("EmJ/"),r=n.n(i),o=n("qPgm"),a=n("qnJZ"),s=n("/lV4"),c=(n("pBsb"),n("n7CP"));class l{constructor(t){this.projectSelectInput=r()(t),this.newItemBtn=r()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}bindEvents(){var t=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(e){return t.openDropdown(e)})),this.newItemBtn.on("click",(function(e){t.getProjectFromLocalStorage()||(e.preventDefault(),t.openDropdown(e))})),this.projectSelectInput.on("change",(function(){return t.selectProject()}))}initLocalStorage(){c.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}openDropdown(t){n.e(443).then(n.t.bind(null,"p9g0",7)).then((function(){Object(a.a)(gon.select2_css_path).then((function(){r()(t.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))})).catch((function(){}))}selectProject(){const t=JSON.parse(this.projectSelectInput.val()),e={url:"".concat(t.url,"/").concat(this.projectSelectInput.data("relativePath")),name:t.name};this.setNewItemBtnAttributes(e),this.setProjectInLocalStorage(e)}setBtnTextFromLocalStorage(){const t=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(t)}setNewItemBtnAttributes(t){t?(this.newItemBtn.attr("href",t.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(t.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}getProjectFromLocalStorage(){const t=localStorage.getItem(this.localStorageKey);return JSON.parse(t)}setProjectInLocalStorage(t){const e=JSON.stringify(t);localStorage.setItem(this.localStorageKey,e)}deriveTextVariants(){const t=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:t,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}const u=function(){Object(a.a)(gon.select2_css_path).then((function(){r()(".ajax-project-select").each((function(t,e){var n=this;let i;const a=r()(e).data("simpleFilter")||!1,c=r()(e).data("select2");return this.groupId=r()(e).data("groupId"),this.userId=r()(e).data("userId"),this.includeGroups=r()(e).data("includeGroups"),this.allProjects=r()(e).data("allProjects")||!1,this.orderBy=r()(e).data("orderBy")||"id",this.withIssuesEnabled=r()(e).data("withIssuesEnabled"),this.withMergeRequestsEnabled=r()(e).data("withMergeRequestsEnabled"),this.withShared=void 0===r()(e).data("withShared")||r()(e).data("withShared"),this.includeProjectsInSubgroups=r()(e).data("includeProjectsInSubgroups")||!1,this.allowClear=r()(e).data("allowClear")||!1,i=Object(s.e)("ProjectSelect|Search for project"),this.includeGroups&&(i+=Object(s.e)("ProjectSelect| or group")),r()(e).select2({placeholder:i,minimumInputLength:0,query:function(t){let e;const i=function(e){const n={results:e};return t.callback(n)};return e=n.includeGroups?function(e){return o.a.groups(t.term,{},(function(t){const n=t.concat(e);return i(n)}))}:i,n.groupId?o.a.groupProjects(n.groupId,t.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups,order_by:"similarity",simple:!0},e):n.userId?o.a.userProjects(n.userId,t.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},e):o.a.projects(t.term,{order_by:n.orderBy,with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,membership:!n.allProjects},e)},id:t=>a?t.id:JSON.stringify({name:t.name,url:t.web_url}),text:t=>t.name_with_namespace||t.name,initSelection:(t,e)=>o.a.project(t.val()).then((function(t){let{data:n}=t;return e(n)})),allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),c||a?e:new l(e)}))})).catch((function(){}))};e.a=function(){r()(".ajax-project-select").length&&n.e(443).then(n.t.bind(null,"p9g0",7)).then(u).catch((function(){}))}},lOuV:function(t,e,n){"use strict";var i=n("NSGy"),r=n("o/E4"),o=n("P/DV"),a=n("EQ0+");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={mixins:[o.a,a.a],inheritAttrs:!1,model:{prop:"checked",event:"input"},props:{value:{},checked:{},inline:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},button:{type:Boolean,default:!1},buttonVariant:{type:String},ariaLabel:{type:String},ariaLabelledby:{type:String}},data:function(){return{localChecked:this.isGroup?this.bvGroup.checked:this.checked,hasFocus:!1}},computed:{computedLocalChecked:{get:function(){return this.isGroup?this.bvGroup.localChecked:this.localChecked},set:function(t){this.isGroup?this.bvGroup.localChecked=t:this.localChecked=t}},isGroup:function(){return Boolean(this.bvGroup)},isBtnMode:function(){return this.isGroup?this.bvGroup.buttons:this.button},isPlain:function(){return!this.isBtnMode&&(this.isGroup?this.bvGroup.plain:this.plain)},isCustom:function(){return!this.isBtnMode&&!this.isPlain},isSwitch:function(){return!(this.isBtnMode||this.isRadio||this.isPlain)&&(this.isGroup?this.bvGroup.switches:this.switch)},isInline:function(){return this.isGroup?this.bvGroup.inline:this.inline},isDisabled:function(){return this.isGroup&&this.bvGroup.disabled||this.disabled},isRequired:function(){return this.getName&&(this.isGroup?this.bvGroup.required:this.required)},getName:function(){return(this.isGroup?this.bvGroup.groupName:this.name)||null},getForm:function(){return(this.isGroup?this.bvGroup.form:this.form)||null},getSize:function(){return(this.isGroup?this.bvGroup.size:this.size)||""},getState:function(){return this.isGroup?this.bvGroup.computedState:this.computedState},getButtonVariant:function(){return this.buttonVariant?this.buttonVariant:this.isGroup&&this.bvGroup.buttonVariant?this.bvGroup.buttonVariant:"secondary"},buttonClasses:function(){var t;return["btn","btn-".concat(this.getButtonVariant),(t={},l(t,"btn-".concat(this.getSize),this.getSize),l(t,"disabled",this.isDisabled),l(t,"active",this.isChecked),l(t,"focus",this.hasFocus),t)]},computedAttrs:function(){return c(c({},this.bvAttrs),{},{id:this.safeId(),type:this.isRadio?"radio":"checkbox",name:this.getName,form:this.getForm,disabled:this.isDisabled,required:this.isRequired,"aria-required":this.isRequired||null,"aria-label":this.ariaLabel||null,"aria-labelledby":this.ariaLabelledby||null})}},watch:{checked:function(t){Object(i.a)(t,this.computedLocalChecked)||(this.computedLocalChecked=t)}},methods:{handleFocus:function(t){t.target&&("focus"===t.type?this.hasFocus=!0:"blur"===t.type&&(this.hasFocus=!1))},focus:function(){this.isDisabled||Object(r.d)(this.$refs.input)},blur:function(){this.isDisabled||Object(r.c)(this.$refs.input)}},render:function(t){var e=this.normalizeSlot(),n={change:this.handleChange};this.isBtnMode&&(n.focus=n.blur=this.handleFocus);var i=t("input",{ref:"input",key:"input",on:n,class:{"form-check-input":this.isPlain,"custom-control-input":this.isCustom,"is-valid":!0===this.getState&&!this.isBtnMode,"is-invalid":!1===this.getState&&!this.isBtnMode,"position-static":this.isPlain&&!e},directives:[{name:"model",rawName:"v-model",value:this.computedLocalChecked,expression:"computedLocalChecked"}],attrs:this.computedAttrs,domProps:{value:this.value,checked:this.isChecked}});if(this.isBtnMode){var r=t("label",{class:this.buttonClasses},[i,e]);return this.isGroup||(r=t("div",{class:["btn-group-toggle","d-inline-block"]},[r])),r}var o=t();return this.isPlain&&!e||(o=t("label",{class:{"form-check-label":this.isPlain,"custom-control-label":this.isCustom},attrs:{for:this.safeId()}},e)),t("div",{class:l({"form-check":this.isPlain,"form-check-inline":this.isPlain&&this.isInline,"custom-control":this.isCustom,"custom-control-inline":this.isCustom&&this.isInline,"custom-checkbox":this.isCustom&&this.isCheck&&!this.isSwitch,"custom-switch":this.isSwitch,"custom-radio":this.isCustom&&this.isRadio},"b-custom-control-".concat(this.getSize),Boolean(this.getSize&&!this.isBtnMode))},[i,o])}}},nq4Y:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("0zRR"),r=n("/Szx"),o=n("DXSV"),a=n("Vxxt"),s=n("QlUp"),c=n("Tu1i"),l=n("lOuV"),u=n("NSGy"),d=r.a.extend({name:i.D,mixins:[o.a,l.a,a.a,c.a,s.a],inject:{bvGroup:{from:"bvRadioGroup",default:!1}},props:{checked:{default:null}},computed:{isChecked:function(){return Object(u.a)(this.value,this.computedLocalChecked)},isRadio:function(){return!0},isCheck:function(){return!1}},watch:{computedLocalChecked:function(){this.$emit("input",this.computedLocalChecked)}},methods:{handleChange:function(t){var e=t.target.checked,n=this.value;this.computedLocalChecked=n,this.$emit("change",e?n:null),this.isGroup&&this.bvGroup.$emit("change",e?n:null)}}})},oX8m:function(t,e,n){"use strict";var i=n("EmJ/"),r=n.n(i),o=n("jB52"),a=(n("Ag57"),n("GzNv"),n("++os"),n("orcL"),n("2Dmn")),s=n("SaZh"),c=n("NmEs"),l=n("/lV4"),u=n("5PBi");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const f=Object(l.e)("CiVariable|All environments");function m(t){return{title:"*"===t?f:t,id:t,text:"*"===t?Object(l.e)("CiVariable|* (All environments)"):t}}class b{constructor(t){let{container:e,formField:n,maskableRegex:i}=t;this.$container=r()(e),this.formField=n,this.maskableRegex=new RegExp(i),this.environmentDropdownMap=new WeakMap,this.inputMap={id:{selector:".js-ci-variable-input-id",default:""},variable_type:{selector:".js-ci-variable-input-variable-type",default:"env_var"},key:{selector:".js-ci-variable-input-key",default:""},secret_value:{selector:".js-ci-variable-input-value",default:""},protected:{selector:".js-ci-variable-input-protected",default:r()(".js-ci-variable-input-protected").attr("data-default")},masked:{selector:".js-ci-variable-input-masked",default:r()(".js-ci-variable-input-masked").attr("data-default")},environment_scope:{selector:'input[name="'.concat(this.formField,'[variables_attributes][][environment_scope]"]'),default:"*"},_destroy:{selector:".js-ci-variable-input-destroy",default:""}},this.secretValues=new a.a({container:this.$container[0],valueSelector:".js-row:not(:last-child) .js-secret-value",placeholderSelector:".js-row:not(:last-child) .js-secret-value-placeholder"})}init(){this.bindEvents(),this.secretValues.init()}bindEvents(){var t=this;this.$container.find(".js-row").each((function(e,n){t.initRow(n)})),this.$container.on("click",".js-row-remove-button",(function(e){e.preventDefault(),t.removeRow(r()(e.currentTarget).closest(".js-row"))}));const e=Object.keys(this.inputMap).map((function(e){return t.inputMap[e].selector})).join(",");this.$container.on("blur",e,(function(e){const n=r()(e.currentTarget).closest(".js-row");n.is(":not(:last-child)")&&!t.checkIfRowTouched(n)&&t.removeRow(n)})),this.$container.on("input trigger-change",e,(function(e){const n=t.$container.find(".js-row").last();t.checkIfRowTouched(n)&&t.insertRow(n),t.validateMaskability(r()(e.currentTarget).closest(".js-row"))}))}initRow(t){var e=this;const n=r()(t);Object(u.a)(n[0]),n.find(this.inputMap.secret_value.selector).css("height","");const i=n.find(".js-variable-environment-toggle");if(i.length){const t=new s.a({$dropdown:i,defaultToggleLabel:f,fieldName:"".concat(this.formField,"[variables_attributes][][environment_scope]"),getData:function(t,n){return n(e.getEnvironmentValues())},createNewItemFromValue:m,onSelect:function(){e.refreshDropdownData(),n.find(e.inputMap.environment_scope.selector).trigger("trigger-change")}});t.clearDropdown(),this.environmentDropdownMap.set(n[0],t)}}insertRow(t){var e=this;const n=t.clone();n.removeAttr("data-is-persisted"),Object.keys(this.inputMap).forEach((function(t){const i=e.inputMap[t];n.find(i.selector).val(i.default)})),n.find(".dropdown-menu.show").each((function(t,e){e.classList.remove("show")})),this.initRow(n),t.after(n)}removeRow(t){const e=r()(t);Object(c.K)(e.attr("data-is-persisted"))?(e.hide(),e.find(this.inputMap._destroy.selector).val(!0)):e.remove(),this.refreshDropdownData()}checkIfRowTouched(t){var e=this;return Object.keys(this.inputMap).some((function(n){if(["protected","masked"].includes(n))return!1;const i=e.inputMap[n],r=t.find(i.selector);return r.length&&r.val()!==i.default}))}validateMaskability(t){const e=t.find(this.inputMap.secret_value.selector).val(),n=this.maskableRegex.test(e)||""===e,i="true"===t.find(this.inputMap.masked.selector).val();t.find(this.inputMap.secret_value.selector).toggleClass("gl-field-error-outline",i&&!n),t.find(".js-secret-value-placeholder").toggleClass("gl-field-error-outline",i&&!n),t.find(".masking-validation-error").toggle(i&&!n)}toggleEnableRow(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$container.find(this.inputMap.key.selector).attr("disabled",!t),this.$container.find(".js-row-remove-button").attr("disabled",!t)}hideValues(){this.secretValues.updateDom(!1)}getAllData(){var t=this;return this.$container.find(".js-row").toArray().slice(0,-1).map((function(e){const n={};return Object.keys(t.inputMap).forEach((function(i){const o=t.inputMap[i],a=r()(e).find(o.selector);a.length&&(n[i]=a.val())})),n}))}getEnvironmentValues(){const t=this.$container.find(this.inputMap.environment_scope.selector).toArray().reduce((function(t,e){return h(h({},t),{},{[e.value]:e.value})}),{});return Object.keys(t).map(m)}refreshDropdownData(){var t=this;this.$container.find(".js-row").each((function(e,n){const i=t.environmentDropdownMap.get(n);i&&i.refreshData()}))}}var v=n("59b1"),g=n("0KyK"),w=n("OQy4"),j=n("4wRe"),y=n("MV2A"),O=n("30su"),S=n("bOix");var k={components:{GlFormRadio:w.a,GlFormRadioGroup:j.a,GlLink:y.a,GlSprintf:O.a},props:{initialCronInterval:{type:String,required:!1,default:""}},data(){return{isEditingCustom:!1,randomHour:this.generateRandomHour(),randomWeekDayIndex:this.generateRandomWeekDayIndex(),randomDay:this.generateRandomDay(),inputNameAttribute:"schedule[cron]",radioValue:this.initialCronInterval?"custom":"everyDay",cronInterval:this.initialCronInterval,cronSyntaxUrl:"https://en.wikipedia.org/wiki/Cron"}},computed:{cronIntervalPresets(){return{everyDay:"0 ".concat(this.randomHour," * * *"),everyWeek:"0 ".concat(this.randomHour," * * ").concat(this.randomWeekDayIndex),everyMonth:"0 ".concat(this.randomHour," ").concat(this.randomDay," * *")}},formattedTime(){return this.randomHour>12?"".concat(this.randomHour-12,":00pm"):12===this.randomHour?"12:00pm":"".concat(this.randomHour,":00am")},radioOptions(){return[{value:"everyDay",text:Object(l.f)(Object(l.e)("Every day (at %{time})"),{time:this.formattedTime})},{value:"everyWeek",text:Object(l.f)(Object(l.e)("Every week (%{weekday} at %{time})"),{weekday:this.weekday,time:this.formattedTime})},{value:"everyMonth",text:Object(l.f)(Object(l.e)("Every month (Day %{day} at %{time})"),{day:this.randomDay,time:this.formattedTime})},{value:"custom",text:Object(l.e)("PipelineScheduleIntervalPattern|Custom (%{linkStart}Cron syntax%{linkEnd})"),link:this.cronSyntaxUrl}]},weekday(){return Object(S.s)()[this.randomWeekDayIndex]}},watch:{cronInterval(){this.$nextTick((function(){gl.pipelineScheduleFieldErrors.updateFormValidityState()}))},radioValue:{immediate:!0,handler(t){"custom"!==t&&(this.cronInterval=this.cronIntervalPresets[t])}}},methods:{onCustomInput(){this.radioValue="custom"},generateRandomHour:()=>Math.floor(23*Math.random()),generateRandomWeekDayIndex:()=>Math.floor(6*Math.random()),generateRandomDay:()=>Math.floor(28*Math.random())}},I=n("tBpV"),x=Object(I.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("gl-form-radio-group",{attrs:{name:t.inputNameAttribute},model:{value:t.radioValue,callback:function(e){t.radioValue=e},expression:"radioValue"}},t._l(t.radioOptions,(function(e){return n("gl-form-radio",{key:e.value,attrs:{value:e.value,"data-testid":e.value}},[e.link?n("gl-sprintf",{attrs:{message:e.text},scopedSlots:t._u([{key:"link",fn:function(i){var r=i.content;return[n("gl-link",{staticClass:"gl-font-sm",attrs:{href:e.link,target:"_blank"}},[t._v("\n            "+t._s(r)+"\n          ")])]}}],null,!0)}):[t._v(t._s(e.text))]],2)})),1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.cronInterval,expression:"cronInterval"}],staticClass:"form-control inline cron-interval-input gl-form-input",attrs:{id:"schedule_cron",placeholder:t.__("Define a custom pattern with cron syntax"),name:t.inputNameAttribute,type:"text",required:"true"},domProps:{value:t.cronInterval},on:{input:[function(e){e.target.composing||(t.cronInterval=e.target.value)},t.onCustomInput]}})],1)}),[],!1,null,null,null).exports,D=n("m/7A");class _{constructor(){this.$dropdown=r()(".js-target-branch-dropdown"),this.$dropdownToggle=this.$dropdown.find(".dropdown-toggle-text"),this.$input=r()("#schedule_ref"),this.initDefaultBranch(),this.initDropdown()}initDropdown(){var t=this;Object(D.a)(this.$dropdown,{data:this.formatBranchesList(),filterable:!0,selectable:!0,toggleLabel:function(t){return t.name},search:{fields:["name"]},clicked:function(e){return t.updateInputValue(e)},text:function(t){return t.name}}),this.setDropdownToggle()}formatBranchesList(){return this.$dropdown.data("data").map((function(t){return{name:t}}))}setDropdownToggle(){const t=this.$input.val();this.$dropdownToggle.text(t)}initDefaultBranch(){const t=this.$input.val(),e=this.$dropdown.data("defaultBranch");t||this.$input.val(e)}updateInputValue(t){let{selectedObj:e,e:n}=t;n.preventDefault(),this.$input.val(e.name),gl.pipelineScheduleFieldErrors.updateFormValidityState()}}var C=n("iI3z");o.default.use(g.a);e.a=function(){!function(){var t;const e=document.getElementById("interval-pattern-input"),n=null==e?void 0:null===(t=e.dataset)||void 0===t?void 0:t.initialInterval;new o.default({el:e,components:{intervalPatternInput:x},render:t=>t("interval-pattern-input",{props:{initialCronInterval:n}})})}();const t=document.getElementById("new-pipeline-schedule-form");gl.timezoneDropdown=new C.a({$dropdownEl:r()(".js-timezone-dropdown"),$inputEl:r()("#schedule_cron_timezone"),onSelectTimezone:function(){gl.pipelineScheduleFieldErrors.updateFormValidityState()}}),gl.targetBranchDropdown=new _,gl.pipelineScheduleFieldErrors=new v.a(t),function(t){let{container:e,formField:n="variables"}=t;const i=r()(e),o=new b({container:i,formField:n});o.init(),i.closest("form").on("submit trigger-submit",(function(){const t=i.find(".js-row").last();o.checkIfRowTouched(t)||(t.find("input, textarea").attr("name",""),t.find("select").attr("name",""))}))}({container:r()(".js-ci-variable-list-section"),formField:"schedule"})}},rPnh:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var i=n("zlPX"),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(i.f,"")},o=function(t,e){return t?{innerHTML:t}:e?{textContent:e}:{}}}}]);
//# sourceMappingURL=commons-pages.projects.pipeline_schedules.create-pages.projects.pipeline_schedules.edit-pages.projec-0b7d8e11.da67fea8.chunk.js.map