(this.webpackJsonp=this.webpackJsonp||[]).push([[51],{"+Rzp":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getDashboardValidationWarnings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"environmentName"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dashboardPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"environments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"environmentName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metricsDashboard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"path"},value:{kind:"Variable",name:{kind:"Name",value:"dashboardPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaValidationWarnings"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:357}};t.loc.source={body:"query getDashboardValidationWarnings(\n  $projectPath: ID!\n  $environmentName: String\n  $dashboardPath: String!\n) {\n  project(fullPath: $projectPath) {\n    id\n    environments(name: $environmentName) {\n      nodes {\n        name\n        metricsDashboard(path: $dashboardPath) {\n          path\n          schemaValidationWarnings\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var r=e.definitions[t];if(r.name&&r.name.value==n)return r}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var r=n.type;"NamedType"===r.kind&&t.add(r.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=t,e.exports.getDashboardValidationWarnings=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,o=new Set,c=new Set;for(i.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(n){var r=a(e,n);r&&t.definitions.push(r)})),t}(t,"getDashboardValidationWarnings")},"7ASz":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getEnvironments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"states"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"environments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"Variable",name:{kind:"Name",value:"states"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"environments"},name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:254}};t.loc.source={body:"query getEnvironments($projectPath: ID!, $search: String, $states: [String!]) {\n  project(fullPath: $projectPath) {\n    id\n    data: environments(search: $search, states: $states) {\n      environments: nodes {\n        name\n        id\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var r=e.definitions[t];if(r.name&&r.name.value==n)return r}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var r=n.type;"NamedType"===r.kind&&t.add(r.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=t,e.exports.getEnvironments=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,o=new Set,c=new Set;for(i.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(n){var r=a(e,n);r&&t.definitions.push(r)})),t}(t,"getEnvironments")},"930T":function(e,n,t){"use strict";t.r(n),t.d(n,"monitoringDashboard",(function(){return Nn})),t.d(n,"createStore",(function(){return Tn}));var r={};t.r(r),t.d(r,"setGettingStartedEmptyState",(function(){return be})),t.d(r,"setInitialState",(function(){return ge})),t.d(r,"setTimeRange",(function(){return Se})),t.d(r,"filterEnvironments",(function(){return _e})),t.d(r,"setShowErrorBanner",(function(){return Oe})),t.d(r,"setExpandedPanel",(function(){return ye})),t.d(r,"clearExpandedPanel",(function(){return De})),t.d(r,"setCurrentDashboard",(function(){return Ne})),t.d(r,"fetchData",(function(){return Te})),t.d(r,"fetchDashboard",(function(){return Ae})),t.d(r,"requestMetricsDashboard",(function(){return ke})),t.d(r,"receiveMetricsDashboardSuccess",(function(){return Re})),t.d(r,"receiveMetricsDashboardFailure",(function(){return Pe})),t.d(r,"fetchDashboardData",(function(){return Ie})),t.d(r,"fetchPrometheusMetric",(function(){return je})),t.d(r,"fetchDeploymentsData",(function(){return we})),t.d(r,"receiveDeploymentsDataSuccess",(function(){return Ve})),t.d(r,"receiveDeploymentsDataFailure",(function(){return Ce})),t.d(r,"fetchEnvironmentsData",(function(){return Le})),t.d(r,"requestEnvironmentsData",(function(){return Ue})),t.d(r,"receiveEnvironmentsDataSuccess",(function(){return Fe})),t.d(r,"receiveEnvironmentsDataFailure",(function(){return Me})),t.d(r,"fetchAnnotations",(function(){return Be})),t.d(r,"receiveAnnotationsSuccess",(function(){return Ge})),t.d(r,"receiveAnnotationsFailure",(function(){return We})),t.d(r,"fetchDashboardValidationWarnings",(function(){return xe})),t.d(r,"receiveDashboardValidationWarningsSuccess",(function(){return He})),t.d(r,"receiveDashboardValidationWarningsFailure",(function(){return Qe})),t.d(r,"toggleStarredValue",(function(){return $e})),t.d(r,"setPanelGroupMetrics",(function(){return qe})),t.d(r,"duplicateSystemDashboard",(function(){return Ye})),t.d(r,"updateVariablesAndFetchData",(function(){return ze})),t.d(r,"fetchVariableMetricLabelValues",(function(){return Je})),t.d(r,"setPanelPreviewTimeRange",(function(){return Ze})),t.d(r,"fetchPanelPreview",(function(){return Ke})),t.d(r,"fetchPanelPreviewMetrics",(function(){return Xe}));var a={};t.r(a),t.d(a,"selectedDashboard",(function(){return en})),t.d(a,"getMetricStates",(function(){return nn})),t.d(a,"metricsWithData",(function(){return tn})),t.d(a,"metricsSavedToDb",(function(){return rn})),t.d(a,"filteredEnvironments",(function(){return an})),t.d(a,"linksWithMetadata",(function(){return on})),t.d(a,"getCustomVariablesParams",(function(){return cn})),t.d(a,"fullDashboardPath",(function(){return sn}));var i=t("jB52"),o=t("yi8e"),c=(t("jaBk"),t("orcL"),t("cT/n")),s=t("XRO8"),u=t("2ibD"),l=t("BR6W"),d=t("NmEs"),m=t("/lV4"),f=t("R9PN"),v=t("4ZIW");var p=function(e){let{label:n,value:t}=e;return v.a.event(document.body.dataset.page,"dashboard_fetch",{label:n,property:"count",value:t})},E=t("kcAi"),h=t.n(E),b=t("+Rzp"),g=t.n(b),S=t("7ASz"),_=t.n(S),O=t("QwBj");function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const N=function(e){return Object(d.d)((function(n,t){e().then((function(e){e.status===O.a.NO_CONTENT?n():t(e)})).catch((function(e){return u.a.isCancel(e)?void 0:t(e)}))}),f.f)},T=function(e,n,t){return N((function(){return u.a.get(e,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){D(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({params:n},t))})).then((function(e){return e.data})).then((function(e){return e.data})).catch((function(e){const{response:n={}}=e;if(n.status===O.a.BAD_REQUEST||n.status===O.a.UNPROCESSABLE_ENTITY||n.status===O.a.SERVICE_UNAVAILABLE){const{data:e}=n;if("error"===(null==e?void 0:e.status)&&(null==e?void 0:e.error))throw new Error(e.error)}throw e}))};t("S26F"),t("pBsb"),t("Ch9p");var A=t("FxFN"),k=t("5v28"),R=t("GuZl"),P=t("0AwG"),I=t("gnBj"),j=t("3twG"),w=(t("EWC9"),t("dHQd"),t("yoDG"),t("tWNI"),t("8d6S"),t("VwWG"),t("IYHS"),t("MViX"),t("GDOA"),t("a0mT"),t("ta8/"),t("IKCR"),t("nmTw"),t("W2kU"),t("58fc"),t("Rhav"),t("eppl"),t("lx39")),V=t.n(w),C=t("1aG2");function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function U(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){F(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function F(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const M=function(e){return{type:f.h.text,label:null,value:e}},B=function(e){return{type:f.h.text,label:e.label,value:e.options.default_value}},G=function(e){let{default:n=!1,text:t,value:r=null}=e;return{default:n,text:t||r,value:r}},W=function(e){var n,t;const r=(null!==(n=null==e?void 0:null===(t=e.options)||void 0===t?void 0:t.values)&&void 0!==n?n:[]).map(G),a=r.find((function(e){return!0===e.default}))||r[0];return{type:f.h.custom,label:e.label,options:{values:r},value:(null==a?void 0:a.value)||null}},x=function(e){return{text:e,value:e}},H=function(e){const n=(e||[]).map(x);return{type:f.h.custom,label:null,value:n[0].value||null,options:{values:n.map(G)}}},Q=function(e){let{label:n,options:t={}}=e;return{type:f.h.metric_label_values,label:n,value:null,options:{prometheusEndpointPath:t.prometheus_endpoint_path||"",label:t.label||null,values:[]}}},$=function(e){return V()(e)?M:(n=e,Array.isArray(n)?H:e.type===f.h.text?B:e.type===f.h.custom?W:e.type===f.h.metric_label_values?Q:function(){return null});var n},q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).reduce((function(e,n){let[t,r]=n;const a=$(r)(r);return a&&e.push(U(U({},a),{},{name:t,label:a.label||t})),e}),[])},Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const n=Object(C.m)();return e.forEach((function(e){const{name:t}=e;Object.prototype.hasOwnProperty.call(n,t)&&Object.assign(e,{value:n[t]})})),e};function z(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function J(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?J(Object(t),!0).forEach((function(n){K(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function K(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const X=Object(k.default)({},{fetchPolicy:k.fetchPolicies.NO_CACHE}),ee=function(e){let{metric_id:n,id:t}=e;return"".concat(n||f.b,"_").concat(t)},ne=function(e){return(e||"").replace(/^\/+/,"")},te=function(e){return e?e.map((function(e){return Z(Z({},e),{},{startingAt:new Date(e.startingAt),endingAt:e.endingAt?new Date(e.endingAt):null})})):[]},re=function(e){return e.map((function(e){let{label:n,id:t,metric_id:r,query_range:a,prometheus_endpoint_path:i}=e,o=z(e,["label","id","metric_id","query_range","prometheus_endpoint_path"]);return Z({label:n,queryRange:a,prometheusEndpointPath:i,metricId:ee({metric_id:r,id:t}),loading:!1,result:null,state:null},o)}))},ae=function(){let{url:e=null,title:n="",type:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{title:n||String(e),type:t,url:e&&Object(j.o)(e)?String(e):"#"}},ie=function(e){let{id:n=null,title:t="",type:r,x_axis:a={},x_label:i,y_label:o,y_axis:c={},field:s,metrics:u=[],links:l=[],min_value:d,max_value:m,split:f,thresholds:v,format:p}=e;const E=function(e){let{name:n=""}=e;return{name:n}}(Z({name:i},a)),h=function(e){let{name:n="",format:t=I.a.engineering,precision:r=2}=e;return{name:n,format:I.a[t]||I.a.engineering,precision:r}}(Z({name:o},c));return{id:n,title:t,type:r,xLabel:E.name,y_label:h.name,yAxis:h,xAxis:E,field:s,minValue:d,maxValue:m,split:f,thresholds:v,format:p,links:l.map(ae),metrics:re(u)}},oe=function(e,n){let{group:t="",panels:r=[]}=e;return{key:"".concat(Object(P.n)(t||"default"),"-").concat(n),group:t,panels:r.map(ie)}},ce=function(e,n){return n===f.u.GRAFANA?function(e){const n=Object(l.c)(e);if(n===R.e.fixed)return{from:new Date(e.start).getTime(),to:new Date(e.end).getTime()};if(n===R.e.rolling){const{seconds:n}=e.duration;return{from:"now-".concat(n,"s"),to:"now"}}return e}(e):Object(l.g)(e)},se=function(e){return new Date(1e3*e).toISOString()},ue=function(e){let[n,t]=e;return[se(n),Number(t)]},le=function(e){let[n,t]=e;return[se(n),t]},de=function(e){const{resultType:n,result:t}=e;return"vector"===n?function(e){return e.map((function(e){let{metric:n,value:t}=e;const r=ue(t);return{metric:n,value:r,values:[r]}}))}(t):"scalar"===n?function(e){return[{metric:{},value:ue(e),values:[ue(e)]}]}(t):"string"===n?function(e){return[{metric:{},value:le(e),values:[le(e)]}]}(t):function(e){return e.map((function(e){let{metric:n,values:t}=e;const r=t.map(ue);return{metric:n,value:r[r.length-1],values:r}}))}(t)};function me(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function fe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?me(Object(t),!0).forEach((function(n){ve(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ve(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const pe=u.a.CancelToken;let Ee;function he(e){const{start:n,end:t}=Object(l.a)(e),r=(new Date(t)-new Date(n))/1e3;return{start_time:n,end_time:t,step:Math.max(60,Math.ceil(r/600))}}const be=function(e){let{commit:n}=e;n("SET_GETTING_STARTED_EMPTY_STATE")},ge=function(e,n){let{commit:t}=e;t("SET_INITIAL_STATE",n)},Se=function(e,n){let{commit:t}=e;t("SET_TIME_RANGE",n)},_e=function(e,n){let{commit:t,dispatch:r}=e;t("SET_ENVIRONMENTS_FILTER",n),r("fetchEnvironmentsData")},Oe=function(e,n){let{commit:t}=e;t("SET_SHOW_ERROR_BANNER",n)},ye=function(e,n){let{commit:t}=e,{group:r,panel:a}=n;t("SET_EXPANDED_PANEL",{group:r,panel:a})},De=function(e){let{commit:n}=e;n("SET_EXPANDED_PANEL",{group:null,panel:null})},Ne=function(e,n){let{commit:t}=e,{currentDashboard:r}=n;t("SET_CURRENT_DASHBOARD",r)},Te=function(e){let{dispatch:n}=e;n("fetchEnvironmentsData"),n("fetchDashboard"),n("fetchAnnotations")},Ae=function(e){let{state:n,commit:t,dispatch:r,getters:a}=e;r("requestMetricsDashboard");const i={};return a.fullDashboardPath&&(i.dashboard=a.fullDashboardPath),function(e,n){return N((function(){return u.a.get(e,{params:n})})).then((function(e){return e.data}))}(n.dashboardEndpoint,i).then((function(e){r("receiveMetricsDashboardSuccess",{response:e}),r("fetchDashboardValidationWarnings")})).catch((function(e){var a,i,o;if(c.a(e),t("SET_ALL_DASHBOARDS",null!==(a=null===(i=e.response)||void 0===i?void 0:null===(o=i.data)||void 0===o?void 0:o.all_dashboards)&&void 0!==a?a:[]),r("receiveMetricsDashboardFailure",e),n.showErrorBanner)if(e.response.data&&e.response.data.message){const{message:n}=e.response.data;Object(s.c)(Object(m.f)(Object(m.e)("Metrics|There was an error while retrieving metrics. %{message}"),{message:n},!1))}else Object(s.c)(Object(m.e)("Metrics|There was an error while retrieving metrics"))}))},ke=function(e){let{commit:n}=e;n("REQUEST_METRICS_DASHBOARD")},Re=function(e,n){let{commit:t,dispatch:r}=e,{response:a}=n;const{all_dashboards:i,dashboard:o,metrics_data:c}=a;return t("SET_ALL_DASHBOARDS",i),t("RECEIVE_METRICS_DASHBOARD_SUCCESS",o),t("SET_ENDPOINTS",Object(d.h)(c)),r("fetchDashboardData")},Pe=function(e,n){let{commit:t}=e;t("RECEIVE_METRICS_DASHBOARD_FAILURE",n)},Ie=function(e){let{state:n,dispatch:t,getters:r}=e;if(t("fetchDeploymentsData"),!n.timeRange)return Object(s.c)(Object(m.e)("Metrics|Invalid time range, please verify."),"warning"),Promise.reject();const a=he(n.timeRange);t("fetchVariableMetricLabelValues",{defaultQueryParams:a});const i=[];return n.dashboard.panelGroups.forEach((function(e){e.panels.forEach((function(e){e.metrics.forEach((function(e){i.push(t("fetchPrometheusMetric",{metric:e,defaultQueryParams:a}))}))}))})),Promise.all(i).then((function(){const e=""===r.fullDashboardPath?"default":"custom";p({label:"".concat(e,"_metrics_dashboard"),value:r.metricsWithData().length})})).catch((function(){Object(s.c)(Object(m.e)("Metrics|There was an error while retrieving metrics"),"warning")}))},je=function(e,n){let{commit:t,state:r,getters:a}=e,{metric:i,defaultQueryParams:o}=n,s=fe({},o);return i.step&&(s.step=i.step),r.variables.length>0&&(s=fe(fe({},s),a.getCustomVariablesParams)),t("REQUEST_METRIC_RESULT",{metricId:i.metricId}),T(i.prometheusEndpointPath,s).then((function(e){t("RECEIVE_METRIC_RESULT_SUCCESS",{metricId:i.metricId,data:e})})).catch((function(e){throw c.a(e),t("RECEIVE_METRIC_RESULT_FAILURE",{metricId:i.metricId,error:e}),e}))},we=function(e){let{state:n,dispatch:t}=e;return n.deploymentsEndpoint?u.a.get(n.deploymentsEndpoint).then((function(e){return e.data})).then((function(e){e&&e.deployments||Object(s.c)(Object(m.e)("Metrics|Unexpected deployment data response from prometheus endpoint")),t("receiveDeploymentsDataSuccess",e.deployments)})).catch((function(e){c.a(e),t("receiveDeploymentsDataFailure"),Object(s.c)(Object(m.e)("Metrics|There was an error getting deployment information."))})):Promise.resolve([])},Ve=function(e,n){let{commit:t}=e;t("RECEIVE_DEPLOYMENTS_DATA_SUCCESS",n)},Ce=function(e){let{commit:n}=e;n("RECEIVE_DEPLOYMENTS_DATA_FAILURE")},Le=function(e){let{state:n,dispatch:t}=e;return t("requestEnvironmentsData"),X.mutate({mutation:_.a,variables:{projectPath:ne(n.projectPath),search:n.environmentsSearchTerm,states:[f.a]}}).then((function(e){var t,r,a;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return(e||[]).map((function(e){const t=Object(A.e)(e.id);return Z(Z({},e),{},{id:t,metrics_path:"".concat(n,"/environments/").concat(t,"/metrics")})}))}(null===(t=e.data)||void 0===t?void 0:null===(r=t.project)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.environments,n.projectPath)})).then((function(e){e||Object(s.c)(Object(m.e)("Metrics|There was an error fetching the environments data, please try again")),t("receiveEnvironmentsDataSuccess",e)})).catch((function(e){c.a(e),t("receiveEnvironmentsDataFailure"),Object(s.c)(Object(m.e)("Metrics|There was an error getting environments information."))}))},Ue=function(e){let{commit:n}=e;n("REQUEST_ENVIRONMENTS_DATA")},Fe=function(e,n){let{commit:t}=e;t("RECEIVE_ENVIRONMENTS_DATA_SUCCESS",n)},Me=function(e){let{commit:n}=e;n("RECEIVE_ENVIRONMENTS_DATA_FAILURE")},Be=function(e){let{state:n,dispatch:t,getters:r}=e;const{start:a}=Object(l.a)(n.timeRange),i=r.fullDashboardPath||f.e;return X.mutate({mutation:h.a,variables:{projectPath:ne(n.projectPath),environmentName:n.currentEnvironmentName,dashboardPath:i,startingFrom:a}}).then((function(e){var n,t,r,a,i;return null===(n=e.data)||void 0===n?void 0:null===(t=n.project)||void 0===t?void 0:null===(r=t.environments)||void 0===r?void 0:null===(a=r.nodes)||void 0===a?void 0:null===(i=a[0].metricsDashboard)||void 0===i?void 0:i.annotations.nodes})).then(te).then((function(e){e||Object(s.c)(Object(m.e)("Metrics|There was an error fetching annotations. Please try again.")),t("receiveAnnotationsSuccess",e)})).catch((function(e){c.a(e),t("receiveAnnotationsFailure"),Object(s.c)(Object(m.e)("Metrics|There was an error getting annotations information."))}))},Ge=function(e,n){let{commit:t}=e;return t("RECEIVE_ANNOTATIONS_SUCCESS",n)},We=function(e){let{commit:n}=e;return n("RECEIVE_ANNOTATIONS_FAILURE")},xe=function(e){let{state:n,dispatch:t,getters:r}=e;const a=r.fullDashboardPath||f.e;return X.mutate({mutation:g.a,variables:{projectPath:ne(n.projectPath),environmentName:n.currentEnvironmentName,dashboardPath:a}}).then((function(e){var n,t,r,a,i;return null===(n=e.data)||void 0===n?void 0:null===(t=n.project)||void 0===t?void 0:null===(r=t.environments)||void 0===r?void 0:null===(a=r.nodes)||void 0===a?void 0:null===(i=a[0])||void 0===i?void 0:i.metricsDashboard})).then((function(){let{schemaValidationWarnings:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e&&0!==e.length;t("receiveDashboardValidationWarningsSuccess",n||!1)})).catch((function(e){c.a(e),t("receiveDashboardValidationWarningsFailure"),Object(s.c)(Object(m.e)("Metrics|There was an error getting dashboard validation warnings information."))}))},He=function(e,n){let{commit:t}=e;return t("RECEIVE_DASHBOARD_VALIDATION_WARNINGS_SUCCESS",n)},Qe=function(e){let{commit:n}=e;return n("RECEIVE_DASHBOARD_VALIDATION_WARNINGS_FAILURE")},$e=function(e){let{commit:n,state:t,getters:r}=e;const{selectedDashboard:a}=r;if(t.isUpdatingStarredValue)return;if(!a)return;const i=a.starred?"DELETE":"POST",o=a.user_starred_path,c=!a.starred;n("REQUEST_DASHBOARD_STARRING"),Object(u.a)({url:o,method:i}).then((function(){n("RECEIVE_DASHBOARD_STARRING_SUCCESS",{selectedDashboard:a,newStarredValue:c})})).catch((function(){n("RECEIVE_DASHBOARD_STARRING_FAILURE")}))},qe=function(e,n){let{commit:t}=e;t("SET_PANEL_GROUP_METRICS",n)},Ye=function(e,n){let{state:t}=e;const r={dashboard:n.dashboard,file_name:n.fileName,branch:n.branch,commit_message:n.commitMessage};return u.a.post(t.dashboardsEndpoint,r).then((function(e){return e.data})).then((function(e){return e.dashboard})).catch((function(e){c.a(e);const{response:n}=e;throw n&&n.data&&n.data.error?Object(m.f)(Object(m.e)("Metrics|There was an error creating the dashboard. %{error}"),{error:n.data.error}):Object(m.e)("Metrics|There was an error creating the dashboard.")}))},ze=function(e,n){let{commit:t,dispatch:r}=e;return t("UPDATE_VARIABLE_VALUE",n),r("fetchDashboardData")},Je=function(e,n){let{state:t,commit:r}=e,{defaultQueryParams:a}=n;const{start_time:i,end_time:o}=a,c=[];return t.variables.forEach((function(e){if(e.type===f.h.metric_label_values){const{prometheusEndpointPath:n,label:t}=e.options,a=T(n,{start_time:i,end_time:o}).then((function(n){r("UPDATE_VARIABLE_METRIC_LABEL_VALUES",{variable:e,label:t,data:n})})).catch((function(){Object(s.c)(Object(m.f)(Object(m.e)('Metrics|There was an error getting options for variable "%{name}".'),{name:e.name}))}));c.push(a)}})),Promise.all(c)},Ze=function(e,n){let{commit:t}=e;t("SET_PANEL_PREVIEW_TIME_RANGE",n)},Ke=function(e,n){let{state:t,commit:r,dispatch:a}=e;return n?(r("SET_PANEL_PREVIEW_IS_SHOWN",!0),r("REQUEST_PANEL_PREVIEW",n),u.a.post(t.panelPreviewEndpoint,{panel_yaml:n}).then((function(e){let{data:n}=e;r("RECEIVE_PANEL_PREVIEW_SUCCESS",n),a("fetchPanelPreviewMetrics")})).catch((function(e){r("RECEIVE_PANEL_PREVIEW_FAILURE",function(e){var n,t;const r=null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message;return null!=r?r:e.message}(e))}))):null},Xe=function(e){let{state:n,commit:t}=e;Ee&&Ee.cancel(),Ee=pe.source();const r=he(n.panelPreviewTimeRange);n.panelPreviewGraphData.metrics.forEach((function(e,n){t("REQUEST_PANEL_PREVIEW_METRIC_RESULT",{index:n});const a=fe({},r);return e.step&&(a.step=e.step),T(e.prometheusEndpointPath,a,{cancelToken:Ee.token}).then((function(e){t("RECEIVE_PANEL_PREVIEW_METRIC_RESULT_SUCCESS",{index:n,data:e})})).catch((function(e){throw c.a(e),t("RECEIVE_PANEL_PREVIEW_METRIC_RESULT_FAILURE",{index:n,error:e}),e}))}))};t("QifN"),t("+xeR");const en=function(e,n){const{allDashboards:t}=e;return t.find((function(e){return e.path===n.fullDashboardPath}))||t.find((function(e){return e.default}))||null},nn=function(e){return function(n){let t=e.dashboard.panelGroups;n&&(t=t.filter((function(e){return e.key===n})));const r=t.reduce((function(e,n){return n.panels.forEach((function(n){n.metrics.forEach((function(n){n.state&&e.push(n.state)}))})),e}),[]);return Array.from(new Set(r)).sort()}},tn=function(e){return function(n){let t=e.dashboard.panelGroups;n&&(t=t.filter((function(e){return e.key===n})));const r=[];return t.forEach((function(e){e.panels.forEach((function(e){r.push(...function(e){return e.metrics.filter((function(e){return e.metricId&&e.result})).map((function(e){return e.metricId}))}(e))}))})),r}},rn=function(e){const n=[];return e.dashboard.panelGroups.forEach((function(e){let{panels:t}=e;t.forEach((function(e){let{metrics:t}=e;const r=t.filter((function(e){let{metricId:n}=e;return!n.startsWith(f.b)})).map((function(e){let{metricId:n}=e;return n}));n.push(...r)}))})),n},an=function(e){return e.environments.filter((function(n){return n.name.toLowerCase().includes((e.environmentsSearchTerm||"").trim().toLowerCase())}))},on=function(e){var n;const t={timeRange:e.timeRange};return null===(n=e.links)||void 0===n?void 0:n.map(function(e){return function(n){let t=Z({},n);return e.timeRange&&(t=Z(Z({},t),{},{url:Object(j.q)(ce(e.timeRange,n.type),n.url)})),t}}(t))},cn=function(e){return e.variables.reduce((function(e,n){const{name:t,value:r}=n;return null!==r&&(e[function(e){return"variables[".concat(e,"]")}(t)]=r),e}),{})},sn=function(e){return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const t=e||"";let r="".concat(n,"/").concat(t);return t?(t.startsWith(n)||t.startsWith(f.d))&&(r=t):r="",r}(e.currentDashboard,e.customDashboardBasePath)};var un=t("2Z+u"),ln=t.n(un);function dn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function mn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?dn(Object(t),!0).forEach((function(n){fn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function fn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const vn=function(e,n){let t=null;return n.panelGroups.forEach((function(n){n.panels.forEach((function(n){n.metrics.forEach((function(n){n.metricId===e&&(t=n)}))}))})),t},pn=function(e){if(!e)return f.v.UNKNOWN_ERROR;if(e.message===d.a)return f.v.TIMEOUT;const{response:n}=e;return n&&n.status===O.a.SERVICE_UNAVAILABLE?f.v.CONNECTION_FAILED:n&&n.status===O.a.BAD_REQUEST?f.v.BAD_QUERY:f.v.UNKNOWN_ERROR},En=function(e){var n;if(null==e?void 0:null===(n=e.result)||void 0===n?void 0:n.length){const n=de(e);return{state:f.v.OK,result:Object.freeze(n)}}return{state:f.v.NO_DATA,result:null}};var hn={REQUEST_METRICS_DASHBOARD(e){e.emptyState=f.m.LOADING},RECEIVE_METRICS_DASHBOARD_SUCCESS(e,n){const{dashboard:t,panelGroups:r,variables:a,links:i}=function(e){let{dashboard:n="",templating:t={},links:r=[],panel_groups:a=[]}=e;return{dashboard:n,variables:Y(q(t.variables)),links:r.map(ae),panelGroups:a.map(oe)}}(n);e.dashboard={dashboard:t,panelGroups:r},e.variables=a,e.links=i,e.dashboard.panelGroups.length?e.emptyState=null:e.emptyState=f.m.NO_DATA},RECEIVE_METRICS_DASHBOARD_FAILURE(e,n){e.emptyState=n?f.m.UNABLE_TO_CONNECT:f.m.NO_DATA},REQUEST_DASHBOARD_STARRING(e){e.isUpdatingStarredValue=!0},RECEIVE_DASHBOARD_STARRING_SUCCESS(e,n){let{selectedDashboard:t,newStarredValue:r}=n;const a=e.allDashboards.findIndex((function(e){return e===t}));e.isUpdatingStarredValue=!1,i.default.set(e.allDashboards,a,mn(mn({},t),{},{starred:r}))},RECEIVE_DASHBOARD_STARRING_FAILURE(e){e.isUpdatingStarredValue=!1},SET_CURRENT_DASHBOARD(e,n){e.currentDashboard=n},RECEIVE_DEPLOYMENTS_DATA_SUCCESS(e,n){e.deploymentData=n},RECEIVE_DEPLOYMENTS_DATA_FAILURE(e){e.deploymentData=[]},REQUEST_ENVIRONMENTS_DATA(e){e.environmentsLoading=!0},RECEIVE_ENVIRONMENTS_DATA_SUCCESS(e,n){e.environmentsLoading=!1,e.environments=n},RECEIVE_ENVIRONMENTS_DATA_FAILURE(e){e.environmentsLoading=!1,e.environments=[]},RECEIVE_ANNOTATIONS_SUCCESS(e,n){e.annotations=n},RECEIVE_ANNOTATIONS_FAILURE(e){e.annotations=[]},RECEIVE_DASHBOARD_VALIDATION_WARNINGS_SUCCESS(e,n){e.hasDashboardValidationWarnings=n},RECEIVE_DASHBOARD_VALIDATION_WARNINGS_FAILURE(e){e.hasDashboardValidationWarnings=!1},REQUEST_METRIC_RESULT(e,n){let{metricId:t}=n;const r=vn(t,e.dashboard);r.loading=!0,r.result||(r.state=f.v.LOADING)},RECEIVE_METRIC_RESULT_SUCCESS(e,n){let{metricId:t,data:r}=n;const a=vn(t,e.dashboard),i=En(r);a.loading=!1,a.state=i.state,a.result=i.result},RECEIVE_METRIC_RESULT_FAILURE(e,n){let{metricId:t,error:r}=n;const a=vn(t,e.dashboard);a.state=pn(r),a.loading=!1,a.result=null},SET_INITIAL_STATE(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(e,ln()(n,f.p))},SET_ENDPOINTS(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(e,ln()(n,f.n))},SET_TIME_RANGE(e,n){e.timeRange=n},SET_GETTING_STARTED_EMPTY_STATE(e){e.emptyState=f.m.GETTING_STARTED},SET_ALL_DASHBOARDS(e,n){e.allDashboards=n||[]},SET_SHOW_ERROR_BANNER(e,n){e.showErrorBanner=n},SET_PANEL_GROUP_METRICS(e,n){e.dashboard.panelGroups.find((function(e){return n.key===e.key})).panels=n.panels},SET_ENVIRONMENTS_FILTER(e,n){e.environmentsSearchTerm=n},SET_EXPANDED_PANEL(e,n){let{group:t,panel:r}=n;e.expandedPanel.group=t,e.expandedPanel.panel=r},UPDATE_VARIABLE_VALUE(e,n){let{name:t,value:r}=n;const a=e.variables.find((function(e){return e.name===t}));a&&Object.assign(a,{value:r})},UPDATE_VARIABLE_METRIC_LABEL_VALUES(e,n){let{variable:t,label:r,data:a=[]}=n;const i=function(e){let{label:n,data:t=[]}=e;return[...t.reduce((function(e,t){return t[n]&&e.add(t[n]),e}),new Set)].map(x)}({label:r,data:a});Object.assign(t.options,{values:i})},REQUEST_PANEL_PREVIEW(e,n){e.panelPreviewIsLoading=!0,e.panelPreviewYml=n,e.panelPreviewGraphData=null,e.panelPreviewError=null},RECEIVE_PANEL_PREVIEW_SUCCESS(e,n){e.panelPreviewIsLoading=!1,e.panelPreviewGraphData=ie(n),e.panelPreviewError=null},RECEIVE_PANEL_PREVIEW_FAILURE(e,n){e.panelPreviewIsLoading=!1,e.panelPreviewGraphData=null,e.panelPreviewError=n},REQUEST_PANEL_PREVIEW_METRIC_RESULT(e,n){let{index:t}=n;const r=e.panelPreviewGraphData.metrics[t];r.loading=!0,r.result||(r.state=f.v.LOADING)},RECEIVE_PANEL_PREVIEW_METRIC_RESULT_SUCCESS(e,n){let{index:t,data:r}=n;const a=e.panelPreviewGraphData.metrics[t],i=En(r);a.loading=!1,a.state=i.state,a.result=i.result},RECEIVE_PANEL_PREVIEW_METRIC_RESULT_FAILURE(e,n){let{index:t,error:r}=n;const a=e.panelPreviewGraphData.metrics[t];a.loading=!1,a.state=pn(r),a.result=null},SET_PANEL_PREVIEW_TIME_RANGE(e,n){e.panelPreviewTimeRange=n},SET_PANEL_PREVIEW_IS_SHOWN(e,n){e.panelPreviewIsShown=n}},bn=t("kRJI"),gn=t("5c3i"),Sn=t("DJiL"),_n=function(){return{deploymentsEndpoint:null,dashboardEndpoint:bn.a,dashboardsEndpoint:bn.a,panelPreviewEndpoint:bn.a,timeRange:null,currentDashboard:null,hasDashboardValidationWarnings:!1,emptyState:f.m.GETTING_STARTED,showErrorBanner:!0,isUpdatingStarredValue:!1,dashboard:{panelGroups:[]},expandedPanel:{group:null,panel:null},allDashboards:[],variables:[],links:[],panelPreviewYml:"",panelPreviewIsLoading:!1,panelPreviewGraphData:null,panelPreviewError:null,panelPreviewTimeRange:gn.c,panelPreviewIsShown:!1,dashboardTimezone:Sn.c.LOCAL,annotations:[],deploymentData:[],environments:[],environmentsSearchTerm:"",environmentsLoading:!1,currentEnvironmentName:null,externalDashboardUrl:"",projectPath:null,operationsSettingsPath:"",logsPath:bn.a,addDashboardDocumentationPath:"",customDashboardBasePath:"",canAccessOperationsSettings:!1}};function On(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function yn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?On(Object(t),!0).forEach((function(n){Dn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):On(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Dn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}i.default.use(o.b);const Nn={namespaced:!0,actions:r,getters:a,mutations:hn,state:_n},Tn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new o.b.Store({modules:{monitoringDashboard:yn(yn({},Nn),{},{state:yn(yn({},_n()),e)})}})}},DJiL:function(e,n,t){"use strict";t.d(n,"c",(function(){return i})),t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return c}));var r=t("a+C/"),a=t.n(r);const i={LOCAL:"LOCAL",UTC:"UTC"},o={shortTime:"h:MM TT",shortDateTime:"m/d h:MM TT",default:"dd mmm yyyy, h:MMTT (Z)"},c=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:t=o.default,timezone:r=i.LOCAL}=n,c=r===i.UTC;return a()(e,t,c)}},gnBj:function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"b",(function(){return f})),t.d(n,"c",(function(){return v}));var r=t("oIb9"),a=t("/lV4");t("orcL");function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}const o=function(e,n){let{maxCharLength:t,valueFactor:r=1}=n,o=i(n,["maxCharLength","valueFactor"]);const c=Object(a.b)(e*r,o);return void 0!==t&&c.length>t?e.toExponential(2):c},c=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return 0===n?new RangeError("unitFactor cannot have the value 0."):function(t,r){if(null===t)return"";if(t===Number.NEGATIVE_INFINITY||t===Number.POSITIVE_INFINITY||Number.isNaN(t))return t.toLocaleString(void 0);let a=t,i=0;const c=e.length;for(;Math.abs(a)>=n;)if(a/=n,(i+=1)>=c)return"NA";const s=e[i];return"".concat(o(a,{maximumFractionDigits:r,minimumFractionDigits:r})).concat(s)}},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"decimal",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(t,r,a){return"".concat(o(t,{maxCharLength:a,valueFactor:n,style:e,maximumFractionDigits:r,minimumFractionDigits:r}))}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(t,r,a){const i=void 0!==a?a-e.length:void 0;return"".concat(o(t,{maxCharLength:i,valueFactor:n,maximumFractionDigits:r,minimumFractionDigits:r})).concat(e)}},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const t=["y","z","a","f","p","n","µ","m"],r=["k","M","G","T","P","E","Z","Y"],a=[...t,"",...r],i=a.slice(t.length+n).map((function(n){return"".concat(n).concat(e)}));if(!i.length)throw new RangeError("The unit cannot be converted, please try a different scale");return c(i)},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const t=["Ki","Mi","Gi","Ti","Pi","Ei","Zi","Yi"],r=["",...t],a=r.slice(n).map((function(n){return"".concat(n).concat(e)}));if(!a.length)throw new RangeError("The unit cannot be converted, please try a different scale");return c(a,1024)},m={number:"number",percent:"percent",percentHundred:"percentHundred",seconds:"seconds",milliseconds:"milliseconds",decimalBytes:"decimalBytes",kilobytes:"kilobytes",megabytes:"megabytes",gigabytes:"gigabytes",terabytes:"terabytes",petabytes:"petabytes",bytes:"bytes",kibibytes:"kibibytes",mebibytes:"mebibytes",gibibytes:"gibibytes",tebibytes:"tebibytes",pebibytes:"pebibytes",engineering:"engineering"},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.engineering;if(e===m.number)return s();if(e===m.percent)return s("percent");if(e===m.percentHundred)return s("percent",.01);if(e===m.seconds)return u(Object(a.e)("Units|s"));if(e===m.milliseconds)return u(Object(a.e)("Units|ms"));if(e===m.decimalBytes)return l("B");if(e===m.kilobytes)return l("B",1);if(e===m.megabytes)return l("B",2);if(e===m.gigabytes)return l("B",3);if(e===m.terabytes)return l("B",4);if(e===m.petabytes)return l("B",5);if(e===m.bytes)return d("B");if(e===m.kibibytes)return d("B",1);if(e===m.mebibytes)return d("B",2);if(e===m.gibibytes)return d("B",3);if(e===m.tebibytes)return d("B",4);if(e===m.pebibytes)return d("B",5);if(e===m.engineering)return r.a;throw TypeError("".concat(e," is not a valid number format"))},v=f(m.number);f(m.percent),f(m.percentHundred),f(m.seconds),f(m.milliseconds),f(m.decimalBytes),f(m.kilobytes),f(m.megabytes),f(m.gigabytes),f(m.terabytes),f(m.petabytes),f(m.bytes),f(m.kibibytes),f(m.mebibytes),f(m.gibibytes),f(m.tebibytes),f(m.pebibytes),f()},kRJI:function(e,n,t){"use strict";n.a="https://invalid"},kcAi:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAnnotations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"environmentName"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dashboardPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"startingFrom"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Time"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"environments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"environmentName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metricsDashboard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"path"},value:{kind:"Variable",name:{kind:"Name",value:"dashboardPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"annotations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"from"},value:{kind:"Variable",name:{kind:"Name",value:"startingFrom"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startingAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endingAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panelId"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:529}};t.loc.source={body:"query getAnnotations(\n  $projectPath: ID!\n  $environmentName: String\n  $dashboardPath: String!\n  $startingFrom: Time!\n) {\n  project(fullPath: $projectPath) {\n    id\n    environments(name: $environmentName) {\n      nodes {\n        id\n        name\n        metricsDashboard(path: $dashboardPath) {\n          annotations(from: $startingFrom) {\n            nodes {\n              id\n              description\n              startingAt\n              endingAt\n              panelId\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var r=e.definitions[t];if(r.name&&r.name.value==n)return r}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var r=n.type;"NamedType"===r.kind&&t.add(r.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=t,e.exports.getAnnotations=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,o=new Set,c=new Set;for(i.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(n){var r=a(e,n);r&&t.definitions.push(r)})),t}(t,"getAnnotations")}}]);
//# sourceMappingURL=51.e9cfe154.chunk.js.map