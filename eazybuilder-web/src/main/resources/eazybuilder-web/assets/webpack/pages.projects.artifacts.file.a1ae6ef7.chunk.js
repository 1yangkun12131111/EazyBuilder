(this.webpackJsonp=this.webpackJsonp||[]).push([[281],{"0ch9":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"u",(function(){return o})),n.d(t,"t",(function(){return c})),n.d(t,"s",(function(){return a})),n.d(t,"v",(function(){return s})),n.d(t,"w",(function(){return l})),n.d(t,"F",(function(){return u})),n.d(t,"G",(function(){return d})),n.d(t,"I",(function(){return h})),n.d(t,"H",(function(){return f})),n.d(t,"y",(function(){return p})),n.d(t,"x",(function(){return b})),n.d(t,"C",(function(){return w})),n.d(t,"B",(function(){return m})),n.d(t,"A",(function(){return g})),n.d(t,"z",(function(){return j})),n.d(t,"E",(function(){return v})),n.d(t,"D",(function(){return y})),n.d(t,"O",(function(){return S})),n.d(t,"N",(function(){return _})),n.d(t,"K",(function(){return B})),n.d(t,"M",(function(){return I})),n.d(t,"J",(function(){return O})),n.d(t,"P",(function(){return k})),n.d(t,"L",(function(){return P})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return x})),n.d(t,"e",(function(){return D})),n.d(t,"a",(function(){return q})),n.d(t,"g",(function(){return L})),n.d(t,"f",(function(){return V})),n.d(t,"l",(function(){return A})),n.d(t,"k",(function(){return N})),n.d(t,"m",(function(){return C})),n.d(t,"o",(function(){return F})),n.d(t,"n",(function(){return H})),n.d(t,"j",(function(){return J})),n.d(t,"r",(function(){return R})),n.d(t,"q",(function(){return M})),n.d(t,"p",(function(){return W}));const r="mark",i="measure",o="snippet-view-app-start",c="snippet-edit-app-start",a="snippet-blobs-content-finished",s="snippet-blobs-content",l="webide-app-start",u="webide-file-clicked",d="webide-file-finished",h="webide-init-editor-start",f="webide-init-editor-finish",p="webide-getBranchData-start",b="webide-getBranchData-finish",w="webide-getFileData-start",m="webide-getFileData-finish",g="webide-getFiles-start",j="webide-getFiles-finish",v="webide-getProjectData-start",y="webide-getProjectData-finish",S="webide-file-loading-after-interaction",_="WebIDE: Project data",B="WebIDE: Branch data",I="WebIDE: File data",O="WebIDE: Before Vue app",k="WebIDE: Repo Editor",P="WebIDE: Fetch Files",E="mr-diffs-mark-file-tree-start",T="mr-diffs-mark-file-tree-end",x="mr-diffs-mark-diff-files-start",D="mr-diffs-mark-first-diff-file-shown",q="mr-diffs-mark-diff-files-end",L="mr-diffs-measure-file-tree-done",V="mr-diffs-measure-diff-files-done",A="pipelines-detail-links-mark-calculate-start",N="pipelines-detail-links-mark-calculate-end",C="Pipelines Detail Graph: Links Calculation",F="pipeline_graph_link_calculation_duration_seconds",H="pipeline_graph_links_total",J="pipeline_graph_links_per_job_ratio",R="blobviewer-load-viewer-start",M="blobviewer-load-viewer-finish",W="Repository File Viewer: loading the content"},110:function(e,t,n){n("HVBj"),n("gjpc"),e.exports=n("Tga0")},GVjJ:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));n("EWC9"),n("gNBD"),n("orcL");var r=n("0AwG");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=function(e){const t=new FormData(e);return function(e){return e.reduce((function(e,t){let{name:n,value:r}=t;return Object.assign(e,{[n]:r})}),{})}(Array.from(t.keys()).map((function(e){let n=t.getAll(e);return{name:e,value:1===(n=n.filter((function(e){return e}))).length?n[0]:n}})))},s=function(e){if(!e)throw new TypeError("`mountEl` argument is required");return[...e.querySelectorAll("[name]")].reduce((function(e,t){const n=t.dataset.jsName;if(!n)return e;const i=Object(r.c)(n),{id:c,placeholder:a,name:s,value:l,type:u,checked:d}=t,h=o({name:s,id:c,value:l},a&&{placeholder:a});return["radio","checkbox"].includes(u)?o(o({},e),{},{[i]:[...e[i]||[],o(o({},h),{},{checked:d})]}):o(o({},e),{},{[i]:h})}),{})}},J7NB:function(e,t,n){"use strict";var r=n("7xOh");t.a=Object(r.a)()},"MA/v":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));n("jaBk");var r=n("EmJ/"),i=n.n(r),o=(n("EJYk"),n("/lV4")),c=n("0ch9"),a=n("lnTC"),s=n("nc9B"),l=n("XRO8"),u=n("2ibD"),d=n("NmEs"),h=n("J7NB");const f=function(e,t){e&&t&&function(e){switch(e){case"balsamiq":return Promise.all([n.e(77),n.e(96),n.e(131),n.e(427),n.e(149)]).then(n.bind(null,"Q2/m"));case"notebook":return Promise.all([n.e(135),n.e(437),n.e(167)]).then(n.bind(null,"k9KH"));case"openapi":return Promise.all([n.e(439),n.e(169)]).then(n.bind(null,"NoLt"));case"pdf":return Promise.all([n.e(77),n.e(96),n.e(132),n.e(440),n.e(418)]).then(n.bind(null,"5EiH"));case"sketch":return Promise.all([n.e(77),n.e(96),n.e(131),n.e(444),n.e(423)]).then(n.bind(null,"vm94"));case"stl":return Promise.all([n.e(445),n.e(425)]).then(n.bind(null,"p/rF"));default:return Promise.resolve()}}(t).then((function(t){return null==t?void 0:t.default(e)})).catch((function(e){throw Object(l.c)(Object(o.a)("Error loading file viewer.")),e}))};class p{constructor(){var e;const t=document.querySelector('.blob-viewer[data-type="rich"]'),n=null==t?void 0:null===(e=t.dataset)||void 0===e?void 0:e.richType;p.initAuxiliaryViewer(),f(t,n),this.initMainViewers()}static initAuxiliaryViewer(){const e=document.querySelector('.blob-viewer[data-type="auxiliary"]');e&&p.loadViewer(e)}initMainViewers(){this.$fileHolder=i()(".file-holder"),this.$fileHolder.length&&(this.switcher=document.querySelector(".js-blob-viewer-switcher"),this.switcherBtns=document.querySelectorAll(".js-blob-viewer-switch-btn"),this.copySourceBtn=document.querySelector(".js-copy-blob-source-btn"),this.copySourceBtnTooltip=document.querySelector(".js-copy-blob-source-btn-tooltip"),this.simpleViewer=this.$fileHolder[0].querySelector('.blob-viewer[data-type="simple"]'),this.richViewer=this.$fileHolder[0].querySelector('.blob-viewer[data-type="rich"]'),this.initBindings(),this.switchToInitialViewer())}switchToInitialViewer(){let e=this.$fileHolder[0].querySelector(".blob-viewer:not(.hidden)").getAttribute("data-type");this.switcher&&0===window.location.hash.indexOf("#L")&&(e="simple"),this.switchToViewer(e)}initBindings(){var e=this;this.switcherBtns.length&&Array.from(this.switcherBtns).forEach((function(t){t.addEventListener("click",e.switchViewHandler.bind(e))})),this.copySourceBtn&&this.copySourceBtn.addEventListener("click",(function(){return e.copySourceBtn.classList.contains("disabled")?e.copySourceBtn.blur():e.switchToViewer("simple")}))}switchViewHandler(e){const t=e.currentTarget;e.preventDefault(),this.switchToViewer(t.getAttribute("data-viewer"))}toggleCopyButtonState(){this.copySourceBtn&&(this.simpleViewer.getAttribute("data-loaded")?(this.copySourceBtnTooltip.setAttribute("title",Object(o.a)("Copy file contents")),this.copySourceBtn.classList.remove("disabled")):this.activeViewer===this.simpleViewer?(this.copySourceBtnTooltip.setAttribute("title",Object(o.a)("Wait for the file to load to copy its contents")),this.copySourceBtn.classList.add("disabled")):(this.copySourceBtnTooltip.setAttribute("title",Object(o.a)("Switch to the source to copy the file contents")),this.copySourceBtn.classList.add("disabled")),Object(s.c)(i()(this.copySourceBtnTooltip)))}switchToViewer(e){var t=this;Object(a.a)({mark:c.r});const n=this.$fileHolder[0].querySelector(".blob-viewer[data-type='".concat(e,"']"));if(this.activeViewer===n)return;const r=document.querySelector(".js-blob-viewer-switch-btn.selected"),s=document.querySelector(".js-blob-viewer-switch-btn[data-viewer='".concat(e,"']")),u=this.$fileHolder[0].querySelector(".blob-viewer:not([data-type='".concat(e,"'])"));r&&r.classList.remove("selected"),s&&(s.classList.add("selected"),s.blur()),u&&u.classList.add("hidden"),n.classList.remove("hidden"),this.activeViewer=n,this.toggleCopyButtonState(),p.loadViewer(n).then((function(e){i()(e).renderGFM(),t.$fileHolder.trigger("highlight:line"),Object(d.t)(),t.toggleCopyButtonState(),Object(a.a)({mark:c.q,measures:[{name:c.p,start:c.r}]})})).catch((function(){return new l.c(Object(o.a)("Error loading viewer"))}))}static loadViewer(e){const t=e,n=t.getAttribute("data-url");return!n||t.getAttribute("data-loaded")||t.getAttribute("data-loading")?Promise.resolve(t):(t.setAttribute("data-loading","true"),u.a.get(n).then((function(e){let{data:n}=e;return t.innerHTML=n.html,t.setAttribute("data-loaded","true"),h.a.$emit("showBlobInteractionZones",t.dataset.path),t})))}}},Tga0:function(e,t,n){"use strict";n.r(t);var r=n("CX32"),i=n("MA/v");document.addEventListener("DOMContentLoaded",(function(){new r.a,new i.a}))},ZeWX:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("QifN"),n("pBsb"),n("Ch9p"),n("+xeR"),n("orcL"),n("pETN");var r=n("EmJ/"),i=n.n(r),o=n("06tH"),c=n.n(o);var a=n("m/7A"),s=n("XRO8"),l=n("2ibD"),u=n("GVjJ"),d=n("3twG"),h=n("/lV4"),f=n("k/Fq");class p{constructor(){!function(){const e=i()("ul.clone-options-dropdown");if(e.length){const t=i()("#clone_url"),n=i()(".js-git-clone-holder .js-clone-dropdown-label"),r=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),o=n.text().trim();o.length>0&&i()("a:contains('".concat(o,"')"),e).addClass("is-active"),i()("a",e).on("click",(function(n){const o=i()(n.currentTarget),c=o.attr("href");if(c&&(c.startsWith("vscode://")||c.startsWith("xcode://")))return;n.preventDefault();const a=o.data("cloneType");i()(".is-active",e).removeClass("is-active"),i()('a[data-clone-type="'.concat(a,'"]')).each((function(){const e=i()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".js-git-clone-holder, .js-mobile-git-clone").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)})),r?r.dataset.clipboardText=c:t.val(c),i()(".js-git-empty .js-clone").text(c)}))}}(),document.querySelector(".js-project-refs-dropdown")&&(p.initRefSwitcher(),i()(".project-refs-select").on("change",(function(){return i()(this).parents("form").trigger("submit")}))),i()(".hide-no-ssh-message").on("click",(function(e){return c.a.set("hide_no_ssh_message","false"),i()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()})),i()(".hide-no-password-message").on("click",(function(e){return c.a.set("hide_no_password_message","false"),i()(this).parents(".no-password-message").remove(),e.preventDefault()})),i()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(e){const t=i()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return c.a.set(n,"false"),i()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()})),p.projectSelectDropdown()}static projectSelectDropdown(){Object(f.a)(),i()(".project-item-select").on("click",(function(e){return p.changeProject(i()(e.currentTarget).val())}))}static changeProject(e){return window.location=e}static initRefSwitcher(){const e=document.createElement("li"),t=document.createElement("a");return t.href="#",i()(".js-project-refs-dropdown").each((function(){const n=i()(this),r=n.data("selected"),o=n.data("fieldName"),c=Boolean(n.data("visit")),f=n.closest("form"),p=f.attr("action"),b=Object(d.q)(Object(u.b)(f[0]),p);return Object(a.a)(n,{data(e,t){l.a.get(n.data("refsUrl"),{params:{ref:n.data("ref"),search:e}}).then((function(e){let{data:n}=e;return t(n)})).catch((function(){return Object(s.c)(Object(h.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:n.data("inputFieldName"),fieldName:o,renderRow(n){const i=e.cloneNode(!1),a=t.cloneNode(!1);return n===r&&(a.className="is-active"),a.textContent=n,a.dataset.ref=n,n.length>0&&c&&(a.href=Object(d.q)({[o]:n},b)),i.appendChild(a),i},id:(e,t)=>t.attr("data-ref"),toggleLabel:(e,t)=>t.text().trim(),clicked(e){const{e:t}=e;if(t.preventDefault(),c){const e=new URL(t.target.href),r=window.location.href;if(r.includes("/-/")){const t=n.data("ref"),i=r.split(t)[1];if(null==i?void 0:i.startsWith("/")){const t=null==i?void 0:i.slice(1).split("#")[0];e.searchParams.set("path",t),e.hash=window.location.hash}}t.metaKey?window.open(e.href,"_blank"):window.location.href=e.href}}})}))}}},gNBD:function(e,t,n){var r=n("ZfjD"),i=n("H81m"),o=n("b05b");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},gjpc:function(e,t,n){"use strict";n.r(t);var r=n("CX32");new(n("ZeWX").a),new r.a},"k/Fq":function(e,t,n){"use strict";n("jaBk");var r=n("EmJ/"),i=n.n(r),o=n("qPgm"),c=n("qnJZ"),a=n("/lV4"),s=(n("pBsb"),n("n7CP"));class l{constructor(e){this.projectSelectInput=i()(e),this.newItemBtn=i()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}bindEvents(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}initLocalStorage(){s.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}openDropdown(e){n.e(443).then(n.t.bind(null,"p9g0",7)).then((function(){Object(c.a)(gon.select2_css_path).then((function(){i()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))})).catch((function(){}))}selectProject(){const e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}setBtnTextFromLocalStorage(){const e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}setNewItemBtnAttributes(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}getProjectFromLocalStorage(){const e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}setProjectInLocalStorage(e){const t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}deriveTextVariants(){const e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}const u=function(){Object(c.a)(gon.select2_css_path).then((function(){i()(".ajax-project-select").each((function(e,t){var n=this;let r;const c=i()(t).data("simpleFilter")||!1,s=i()(t).data("select2");return this.groupId=i()(t).data("groupId"),this.userId=i()(t).data("userId"),this.includeGroups=i()(t).data("includeGroups"),this.allProjects=i()(t).data("allProjects")||!1,this.orderBy=i()(t).data("orderBy")||"id",this.withIssuesEnabled=i()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=i()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===i()(t).data("withShared")||i()(t).data("withShared"),this.includeProjectsInSubgroups=i()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=i()(t).data("allowClear")||!1,r=Object(a.e)("ProjectSelect|Search for project"),this.includeGroups&&(r+=Object(a.e)("ProjectSelect| or group")),i()(t).select2({placeholder:r,minimumInputLength:0,query:function(e){let t;const r=function(t){const n={results:t};return e.callback(n)};return t=n.includeGroups?function(t){return o.a.groups(e.term,{},(function(e){const n=e.concat(t);return r(n)}))}:r,n.groupId?o.a.groupProjects(n.groupId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups,order_by:"similarity",simple:!0},t):n.userId?o.a.userProjects(n.userId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},t):o.a.projects(e.term,{order_by:n.orderBy,with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,membership:!n.allProjects},t)},id:e=>c?e.id:JSON.stringify({name:e.name,url:e.web_url}),text:e=>e.name_with_namespace||e.name,initSelection:(e,t)=>o.a.project(e.val()).then((function(e){let{data:n}=e;return t(n)})),allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),s||c?t:new l(t)}))})).catch((function(){}))};t.a=function(){i()(".ajax-project-select").length&&n.e(443).then(n.t.bind(null,"p9g0",7)).then(u).catch((function(){}))}},lnTC:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=function(){let{mark:e,measures:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.requestAnimationFrame((function(){e&&!performance.getEntriesByName(e).length&&performance.mark(e),t.forEach((function(e){performance.measure(e.name,e.start,e.end)}))}))}}},[[110,1,0,2,3,4,5]]]);
//# sourceMappingURL=pages.projects.artifacts.file.a1ae6ef7.chunk.js.map