(this.webpackJsonp=this.webpackJsonp||[]).push([[315],{141:function(t,e,r){r("HVBj"),r("gjpc"),t.exports=r("L4HO")},GTbw:function(t,e,r){"use strict";r.d(e,"a",(function(){return O}));var n=r("0zRR"),i=r("/Szx"),s=r("TjC/"),a=r("o/E4"),o=r("QXXq"),l=r("Vxxt"),u=r("ZKBa"),c=r("Tu1i"),p=r("QlUp"),f=r("Qo4I"),h=r("xy9X"),d=r("DXSV"),b=r("H1r6");function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"],O=i.a.extend({name:n.B,mixins:[b.a,d.a,l.a,c.a,p.a,f.a,u.a,h.a],props:{type:{type:String,default:"text",validator:function(t){return Object(s.a)(y,t)}},noWheel:{type:Boolean,default:!1},min:{type:[String,Number]},max:{type:[String,Number]},step:{type:[String,Number]},list:{type:String}},computed:{localType:function(){return Object(s.a)(y,this.type)?this.type:"text"},computedAttrs:function(){var t=this.localType,e=this.disabled,r=this.placeholder,n=this.required,i=this.min,s=this.max,a=this.step;return{id:this.safeId(),name:this.name||null,form:this.form||null,type:t,disabled:e,placeholder:r,required:n,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,min:i,max:s,step:a,list:"password"!==t?this.list:null,"aria-required":n?"true":null,"aria-invalid":this.computedAriaInvalid}},computedListeners:function(){return g(g({},this.bvListeners),{},{input:this.onInput,change:this.onChange,blur:this.onBlur})}},watch:{noWheel:function(t){this.setWheelStopper(t)}},mounted:function(){this.setWheelStopper(this.noWheel)},deactivated:function(){this.setWheelStopper(!1)},activated:function(){this.setWheelStopper(this.noWheel)},beforeDestroy:function(){this.setWheelStopper(!1)},methods:{setWheelStopper:function(t){var e=this.$el;Object(o.c)(t,e,"focus",this.onWheelFocus),Object(o.c)(t,e,"blur",this.onWheelBlur),t||Object(o.a)(document,"wheel",this.stopWheel)},onWheelFocus:function(){Object(o.b)(document,"wheel",this.stopWheel)},onWheelBlur:function(){Object(o.a)(document,"wheel",this.stopWheel)},stopWheel:function(t){Object(o.d)(t,{propagation:!1}),Object(a.c)(this.$el)}},render:function(t){return t("input",{ref:"input",class:this.computedClass,attrs:this.computedAttrs,domProps:{value:this.localValue},on:this.computedListeners})}})},L4HO:function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"dismissErrorAlert",(function(){return j})),r.d(n,"createUserList",(function(){return w}));var i=r("jB52"),s=r("yi8e"),a=r("dsWN"),o=r("/lV4"),l=r("oSQg");function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f={components:{GlAlert:a.a,UserListForm:l.a},inject:["userListsDocsPath","featureFlagsPath"],translations:{pageTitle:Object(o.e)("UserLists|New list"),createButtonLabel:Object(o.e)("UserLists|Create")},computed:c(c({},Object(s.f)(["userList","errorMessage"])),{},{isError(){return Array.isArray(this.errorMessage)&&this.errorMessage.length>0}}),methods:c({},Object(s.c)(["createUserList","dismissErrorAlert"]))},h=r("tBpV"),d=Object(h.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isError?r("gl-alert",{attrs:{variant:"danger"},on:{dismiss:t.dismissErrorAlert}},[r("ul",{staticClass:"gl-mb-0"},t._l(t.errorMessage,(function(e,n){return r("li",{key:n},[t._v("\n        "+t._s(e)+"\n      ")])})),0)]):t._e(),t._v(" "),r("h3",{staticClass:"gl-font-weight-bold gl-pb-5 gl-border-b-solid gl-border-gray-100 gl-border-1"},[t._v("\n    "+t._s(t.$options.translations.pageTitle)+"\n  ")]),t._v(" "),r("user-list-form",{attrs:{"cancel-path":t.featureFlagsPath,"save-button-label":t.$options.translations.createButtonLabel,"user-lists-docs-path":t.userListsDocsPath,"user-list":t.userList},on:{submit:t.createUserList}})],1)}),[],!1,null,null,null).exports,b=r("qPgm"),m=r("3twG"),g=r("pCsX");function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const j=function(t){let{commit:e}=t;return e("DISMISS_ERROR_ALERT")},w=function(t,e){let{commit:r,state:n}=t;return b.a.createFeatureFlagUserList(n.projectId,y(y({},n.userList),e)).then((function(t){let{data:e}=t;return Object(m.t)(e.path)})).catch((function(t){return r("RECEIVE_CREATE_USER_LIST_ERROR",Object(g.a)(t))}))};var P={RECEIVE_CREATE_USER_LIST_ERROR(t,e){t.errorMessage=e},DISMISS_ERROR_ALERT(t){t.errorMessage=""}},S=function(t){let{projectId:e=""}=t;return{projectId:e,userList:{name:"",user_xids:""},errorMessage:[]}};i.default.use(s.b);const L=document.getElementById("js-new-user-list"),{userListsDocsPath:V,featureFlagsPath:$}=L.dataset;var _;new i.default({el:L,store:(_=L.dataset,new s.b.Store({actions:n,mutations:P,state:S(_)})),provide:{userListsDocsPath:V,featureFlagsPath:$},render:t=>t(d)})},PrLL:function(t,e,r){"use strict";var n=r("GTbw"),i=r("XBTk"),s=r("Pyw5"),a=r.n(s);function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c={prop:"value",event:"input"};const p={components:{BFormInput:n.a},inheritAttrs:!1,model:c,props:{size:{type:String,required:!1,default:null,validator:function(t){return Object.values(i.o).includes(t)}}},computed:{cssClasses:function(){return o({},"gl-form-input-".concat(this.size),null!==this.size)},listeners:function(){var t=this;return u(u({},this.$listeners),{},{input:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.$emit.apply(t,["update"].concat(r))},update:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.$emit.apply(t,[c.event].concat(r))}})}}};const f=a()({render:function(){var t=this.$createElement;return(this._self._c||t)("b-form-input",this._g(this._b({staticClass:"gl-form-input",class:this.cssClasses},"b-form-input",this.$attrs,!1),this.listeners))},staticRenderFns:[]},void 0,p,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=f},QlUp:function(t,e,r){"use strict";var n=r("BrvI");e.a={props:{state:{type:Boolean,default:null}},computed:{computedState:function(){return Object(n.b)(this.state)?this.state:null},stateClass:function(){var t=this.computedState;return!0===t?"is-valid":!1===t?"is-invalid":null}}}},Qo4I:function(t,e,r){"use strict";var n=r("o/E4"),i=r("QXXq"),s=r("BrvI"),a=r("9aS3"),o=r("Ddgg"),l=r("bvam");e.a={model:{prop:"value",event:"update"},props:{value:{type:[String,Number],default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String},placeholder:{type:String},formatter:{type:Function},lazyFormatter:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},number:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},debounce:{type:[Number,String],default:0}},data:function(){return{localValue:Object(l.e)(this.value),vModelValue:this.value}},computed:{computedClass:function(){return[{"custom-range":"range"===this.type,"form-control-plaintext":this.plaintext&&"range"!==this.type&&"color"!==this.type,"form-control":!this.plaintext&&"range"!==this.type||"color"===this.type},this.sizeFormClass,this.stateClass]},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null},computedDebounce:function(){return Object(a.b)(Object(o.c)(this.debounce,0),0)},hasFormatter:function(){return Object(s.e)(this.formatter)}},watch:{value:function(t){var e=Object(l.e)(t);e!==this.localValue&&t!==this.vModelValue&&(this.clearDebounce(),this.localValue=e,this.vModelValue=t)}},created:function(){this.$_inputDebounceTimer=null},mounted:function(){this.$on("hook:beforeDestroy",this.clearDebounce);var t=this.value,e=Object(l.e)(t);e!==this.localValue&&t!==this.vModelValue&&(this.localValue=e,this.vModelValue=t)},methods:{clearDebounce:function(){clearTimeout(this.$_inputDebounceTimer),this.$_inputDebounceTimer=null},formatValue:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=Object(l.e)(t),!this.hasFormatter||this.lazyFormatter&&!r||(t=this.formatter(t,e)),t},modifyValue:function(t){return this.trim&&(t=t.trim()),this.number&&(t=Object(o.b)(t,t)),t},updateValue:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.lazy;if(!n||r){this.clearDebounce();var i=function(){if((t=e.modifyValue(t))!==e.vModelValue)e.vModelValue=t,e.$emit("update",t);else if(e.hasFormatter){var r=e.$refs.input;r&&t!==r.value&&(r.value=t)}},s=this.computedDebounce;s>0&&!n&&!r?this.$_inputDebounceTimer=setTimeout(i,s):i()}},onInput:function(t){if(!t.target.composing){var e=t.target.value,r=this.formatValue(e,t);!1===r||t.defaultPrevented?Object(i.d)(t,{propagation:!1}):(this.localValue=r,this.updateValue(r),this.$emit("input",r))}},onChange:function(t){var e=t.target.value,r=this.formatValue(e,t);!1===r||t.defaultPrevented?Object(i.d)(t,{propagation:!1}):(this.localValue=r,this.updateValue(r,!0),this.$emit("change",r))},onBlur:function(t){var e=t.target.value,r=this.formatValue(e,t,!0);!1!==r&&(this.localValue=Object(l.e)(this.modifyValue(r)),this.updateValue(r,!0)),this.$emit("blur",t)},focus:function(){this.disabled||Object(n.d)(this.$el)},blur:function(){this.disabled||Object(n.c)(this.$el)}}}},Tu1i:function(t,e,r){"use strict";var n=r("t8l0");e.a={props:{size:{type:String,default:function(){return Object(n.b)("formControls","size")}}},computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]},sizeBtnClass:function(){return[this.size?"btn-".concat(this.size):null]}}}},Vxxt:function(t,e,r){"use strict";var n=r("o/E4");e.a={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1},form:{type:String},autofocus:{type:Boolean,default:!1}},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{handleAutofocus:function(){var t=this;this.$nextTick((function(){Object(n.B)((function(){var e=t.$el;t.autofocus&&Object(n.u)(e)&&(Object(n.v)(e,"input, textarea, select")||(e=Object(n.C)("input, textarea, select",e)),Object(n.d)(e))}))}))}}}},ZKBa:function(t,e,r){"use strict";e.a={computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(t){this.$refs.input.selectionStart=t}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(t){this.$refs.input.selectionEnd=t}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(t){this.$refs.input.selectionDirection=t}}},methods:{select:function(){var t;(t=this.$refs.input).select.apply(t,arguments)},setSelectionRange:function(){var t;(t=this.$refs.input).setSelectionRange.apply(t,arguments)},setRangeText:function(){var t;(t=this.$refs.input).setRangeText.apply(t,arguments)}}}},oSQg:function(t,e,r){"use strict";var n=r("4lAS"),i=r("l5WF"),s=r("PrLL"),a=r("MV2A"),o=r("30su"),l=r("/lV4");function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f={components:{GlButton:n.a,GlFormGroup:i.a,GlFormInput:s.a,GlLink:a.a,GlSprintf:o.a},props:{cancelPath:{type:String,required:!0},saveButtonLabel:{type:String,required:!0},userListsDocsPath:{type:String,required:!0},userList:{type:Object,required:!0}},classes:{actionContainer:["gl-py-5","gl-display-flex","gl-justify-content-space-between","gl-px-4","gl-border-t-solid","gl-border-gray-100","gl-border-1","gl-bg-gray-10"]},translations:{formLabel:Object(l.e)("UserLists|Feature flag user list"),formSubtitle:Object(l.e)("UserLists|Lists allow you to define a set of users to be used with feature flags. %{linkStart}Read more about feature flag lists.%{linkEnd}"),nameLabel:Object(l.e)("UserLists|Name"),cancelButtonLabel:Object(l.e)("UserLists|Cancel")},data(){return{name:this.userList.name}},methods:{submit(){this.$emit("submit",c(c({},this.userList),{},{name:this.name}))}}},h=r("tBpV"),d=Object(h.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"gl-display-flex gl-mt-7"},[r("div",{staticClass:"gl-flex-basis-0 gl-mr-7"},[r("h4",{staticClass:"gl-min-width-fit-content gl-white-space-nowrap"},[t._v("\n        "+t._s(t.$options.translations.formLabel)+"\n      ")]),t._v(" "),r("gl-sprintf",{staticClass:"gl-text-gray-500",attrs:{message:t.$options.translations.formSubtitle},scopedSlots:t._u([{key:"link",fn:function(e){var n=e.content;return[r("gl-link",{attrs:{href:t.userListsDocsPath,"data-testid":"user-list-docs-link"}},[t._v("\n            "+t._s(n)+"\n          ")])]}}])})],1),t._v(" "),r("div",{staticClass:"gl-flex-fill-1 gl-ml-7"},[r("gl-form-group",{staticClass:"gl-mb-7",attrs:{"label-for":"user-list-name",label:t.$options.translations.nameLabel}},[r("gl-form-input",{attrs:{id:"user-list-name","data-testid":"user-list-name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),r("div",{class:t.$options.classes.actionContainer},[r("gl-button",{attrs:{variant:"success","data-testid":"save-user-list"},on:{click:t.submit}},[t._v("\n          "+t._s(t.saveButtonLabel)+"\n        ")]),t._v(" "),r("gl-button",{attrs:{href:t.cancelPath,"data-testid":"user-list-cancel"}},[t._v("\n          "+t._s(t.$options.translations.cancelButtonLabel)+"\n        ")])],1)],1)])])}),[],!1,null,null,null);e.a=d.exports},xy9X:function(t,e,r){"use strict";e.a={computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var t;return(t=this.$refs.input).setCustomValidity.apply(t,arguments)},checkValidity:function(){var t;return(t=this.$refs.input).checkValidity.apply(t,arguments)},reportValidity:function(){var t;return(t=this.$refs.input).reportValidity.apply(t,arguments)}}}}},[[141,1,0,2,3,4,5,95]]]);
//# sourceMappingURL=pages.projects.feature_flags_user_lists.new.10738db6.chunk.js.map