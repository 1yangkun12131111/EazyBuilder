(this.webpackJsonp=this.webpackJsonp||[]).push([[189],{18:function(t,e,s){s("HVBj"),s("iooJ"),t.exports=s("MX+O")},"Ge+5":function(t,e,s){"use strict";var i=s("4lAS"),r=s("Pyw5"),n=s.n(r);const c={name:"CloseButton",components:{GlButton:i.a},props:{label:{type:String,required:!1,default:"Close"}}};const o=n()({render:function(){var t=this.$createElement;return(this._self._c||t)("gl-button",this._g(this._b({attrs:{category:"tertiary",size:"small",icon:"close","aria-label":this.label}},"gl-button",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=o},"MX+O":function(t,e,s){"use strict";s.r(e);var i=s("sx5x");Object(i.a)()},dsWN:function(t,e,s){"use strict";var i=s("XBTk"),r=s("Ge+5"),n=s("4lAS"),c=s("s1D3"),o=s("Pyw5"),a=s.n(o);function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const f={components:{GlIcon:c.a,CloseButton:r.a,GlButton:n.a},props:{title:{type:String,required:!1,default:""},dismissible:{type:Boolean,required:!1,default:!0},dismissLabel:{type:String,required:!1,default:"Dismiss"},variant:{type:String,required:!1,default:i.c.info,validator:function(t){return Object.keys(i.c).includes(t)}},primaryButtonLink:{type:String,required:!1,default:""},primaryButtonText:{type:String,required:!1,default:""},secondaryButtonLink:{type:String,required:!1,default:""},secondaryButtonText:{type:String,required:!1,default:""},contained:{type:Boolean,required:!1,default:!1},sticky:{type:Boolean,required:!1,default:!1}},computed:{iconName:function(){return i.b[this.variant]},shouldRenderActions:function(){return Boolean(this.$slots.actions||this.actionButtons.length)},actionButtons:function(){return[{text:this.primaryButtonText,attrs:{href:this.primaryButtonLink,variant:"confirm",category:i.u.primary},listeners:{click:this.primaryButtonClicked}},{text:this.secondaryButtonText,attrs:{href:this.secondaryButtonLink,variant:"default",category:i.u.secondary},listeners:{click:this.secondaryButtonClicked}}].reduce((function(t,e){if(!e.text)return t;var s=d({},e.attrs);return s.href||delete s.href,t.push(d(d({},e),{},{attrs:s})),t}),[])},variantClass:function(){return"gl-alert-".concat(this.variant)}},methods:{primaryButtonClicked:function(t){this.$emit("primaryAction",t)},secondaryButtonClicked:function(t){this.$emit("secondaryAction",t)},onDismiss:function(){this.$emit("dismiss")}}};const p=a()({render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["gl-alert",{"gl-alert-max-content":t.contained},{"gl-alert-sticky":t.sticky},{"gl-alert-not-dismissible":!t.dismissible},t.variantClass]},[s("div",{staticClass:"gl-alert-container"},[s("gl-icon",{class:{"gl-alert-icon":!0,"gl-alert-icon-no-title":!t.title},attrs:{name:t.iconName}}),t._v(" "),t.dismissible?s("close-button",{ref:"dismiss",staticClass:"gl-dismiss-btn",attrs:{label:t.dismissLabel},on:{click:t.onDismiss}}):t._e(),t._v(" "),s("div",{staticClass:"gl-alert-content",attrs:{role:"alert"}},[t.title?s("h4",{staticClass:"gl-alert-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),s("div",{staticClass:"gl-alert-body"},[t._t("default")],2),t._v(" "),t.shouldRenderActions?s("div",{staticClass:"gl-alert-actions"},[t._t("actions",t._l(t.actionButtons,(function(e,i){return s("gl-button",t._g(t._b({key:i,staticClass:"gl-alert-action"},"gl-button",e.attrs,!1),e.listeners),[t._v("\n            "+t._s(e.text)+"\n          ")])})))],2):t._e()])],1)])},staticRenderFns:[]},void 0,f,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=p},iooJ:function(t,e,s){"use strict";s.r(e);var i={};s.r(i),s.d(i,"requestStatistics",(function(){return O})),s.d(i,"fetchStatistics",(function(){return S})),s.d(i,"receiveStatisticsSuccess",(function(){return h})),s.d(i,"receiveStatisticsError",(function(){return j}));var r={};s.r(r),s.d(r,"getStatistics",(function(){return _}));var n=s("jB52"),c=s("FkSe"),o=s("yi8e"),a=s("/lV4");var l={forks:Object(a.e)("AdminStatistics|Forks"),issues:Object(a.e)("AdminStatistics|Issues"),mergeRequests:Object(a.e)("AdminStatistics|Merge requests"),notes:Object(a.e)("AdminStatistics|Notes"),snippets:Object(a.e)("AdminStatistics|Snippets"),sshKeys:Object(a.e)("AdminStatistics|SSH Keys"),milestones:Object(a.e)("AdminStatistics|Milestones"),activeUsers:Object(a.e)("AdminStatistics|Active Users")};function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){f(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function f(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var p={components:{GlLoadingIcon:c.a},data:()=>({statisticsLabels:l}),computed:d(d({},Object(o.f)(["isLoading","statistics"])),Object(o.d)(["getStatistics"])),mounted(){this.fetchStatistics()},methods:d({},Object(o.c)(["fetchStatistics"]))},b=s("tBpV"),m=Object(b.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gl-card"},[s("div",{staticClass:"gl-card-body"},[s("h4",[t._v(t._s(t.__("Statistics")))]),t._v(" "),t.isLoading?s("gl-loading-icon",{staticClass:"my-3",attrs:{size:"md"}}):t._l(t.getStatistics(t.statisticsLabels),(function(e){return s("p",{key:e.key,staticClass:"js-stats"},[t._v("\n        "+t._s(e.label)+"\n        "),s("span",{staticClass:"light float-right"},[t._v(t._s(e.value))])])}))],2)])}),[],!1,null,null,null).exports,g=s("qPgm"),y=s("XRO8"),v=s("NmEs");const O=function(t){let{commit:e}=t;return e("REQUEST_STATISTICS")},S=function(t){let{dispatch:e}=t;e("requestStatistics"),g.a.adminStatistics().then((function(t){let{data:s}=t;e("receiveStatisticsSuccess",Object(v.h)(s,{deep:!0}))})).catch((function(t){return e("receiveStatisticsError",t)}))},h=function(t,e){let{commit:s}=t;return s("RECEIVE_STATISTICS_SUCCESS",e)},j=function(t,e){let{commit:s}=t;s("RECEIVE_STATISTICS_ERROR",e),Object(y.c)(Object(a.e)("AdminDashboard|Error loading the statistics. Please try again"))},_=function(t){return function(e){return Object.keys(e).map((function(s){return{key:s,label:e[s],value:t.statistics&&t.statistics[s]?t.statistics[s]:null}}))}};var C={REQUEST_STATISTICS(t){t.isLoading=!0},RECEIVE_STATISTICS_SUCCESS(t,e){t.isLoading=!1,t.error=null,t.statistics=e},RECEIVE_STATISTICS_ERROR(t,e){t.isLoading=!1,t.error=e}};n.default.use(o.b);var E=function(){return new o.b.Store({actions:i,getters:r,mutations:C,state:{error:null,isLoading:!1,statistics:null}})};s("orcL");var P={components:{GlAlert:s("dsWN").a},props:{html:{type:String,required:!1,default:""}},data:()=>({isDismissed:!1}),methods:{dismiss(){this.isDismissed=!0}}},k=Object(b.a)(P,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isDismissed?t._e():s("gl-alert",t._g(t._b({on:{dismiss:t.dismiss}},"gl-alert",t.$attrs,!1),t.$listeners),[s("div",{domProps:{innerHTML:t._s(t.html)}})])}),[],!1,null,null,null).exports;function w(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function B(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?w(Object(s),!0).forEach((function(e){T(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function T(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const A=function(t){const e={html:t.innerHTML},s=B(B({},t.dataset),{},{dismissible:Object(v.K)(t.dataset.dismissible)});return new n.default({el:t,render:t=>t(k,{props:e,attrs:s})})};var D=s("EmJ/"),I=s.n(D),q=s("3twG");[...document.querySelectorAll(".js-vue-alert")].map(A);const L=document.getElementById("js-admin-statistics-container");I()("input#user_force_random_password").on("change",(function(){const t=I()("#user_password, #user_password_confirmation");I()(this).attr("checked")?t.val("").prop("disabled",!0):t.prop("disabled",!1)})),I()("body").on("click",".js-toggle-colors-link",(function(t){t.preventDefault(),I()(".js-toggle-colors-container").toggleClass("hide")})),I()("li.project_member, li.group_member").on("ajax:success",q.u),function(t){if(!t)return!1;const e=E();new n.default({el:t,store:e,components:{StatisticsPanelApp:m},render:t=>t(m)})}(L)}},[[18,1,0,2,15,80]]]);
//# sourceMappingURL=pages.admin.impersonation_tokens.42134431.chunk.js.map