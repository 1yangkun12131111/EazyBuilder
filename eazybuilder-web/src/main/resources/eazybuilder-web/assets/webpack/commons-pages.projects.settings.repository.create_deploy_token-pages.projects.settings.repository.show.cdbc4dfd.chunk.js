(this.webpackJsonp=this.webpackJsonp||[]).push([[125],{"+p8b":function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},"/GZH":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u}));var o=40,r=35,a=13,s=27,i=36,c=37,l=39,d=32,u=38},"1jeo":function(e,t,n){"use strict";var o=n("3Xvs"),r=n("jB52"),a=(n("orcL"),n("FkSe")),s=n("s1D3"),i=n("XRO8"),c=n("/lV4"),l=n("ME8r"),d=n("7xOh"),u=Object(d.a)(),p=n("2ibD");class h{constructor(e){this.endpoint=e}getKeys(){return p.a.get(this.endpoint).then((function(e){return e.data}))}enableKey(e){return p.a.put("".concat(this.endpoint,"/").concat(e,"/enable")).then((function(e){return e.data}))}disableKey(e){return p.a.put("".concat(this.endpoint,"/").concat(e,"/disable")).then((function(e){return e.data}))}}class f{constructor(){this.keys={}}isEnabled(e){return this.keys.enabled_keys.some((function(t){return t.id===e}))}}var g={components:{GlModal:n("1cpz").a},props:{visible:{type:Boolean,required:!1,default:!1}},i18n:{body:Object(c.a)("Are you sure you want to remove this deploy key? If anything is still using this key, it will stop working.")},modalOptions:{title:Object(c.a)("Do you want to remove this deploy key?"),actionPrimary:{text:Object(c.a)("Remove deploy key"),attributes:[{variant:"danger"}]},actionSecondary:{text:Object(c.a)("Cancel"),attributes:[{category:"tertiary"}]},static:!0,modalId:"confirm-remove-deploy-key"}},b=n("tBpV"),y=Object(b.a)(g,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-modal",e._b({attrs:{visible:e.visible},on:{primary:function(t){return e.$emit("remove")},secondary:function(t){return e.$emit("cancel")},hidden:function(t){return e.$emit("cancel")}}},"gl-modal",e.$options.modalOptions,!1),[e._v("\n  "+e._s(e.$options.i18n.body)+"\n")])}),[],!1,null,null,null).exports,m=(n("GzNv"),n("HgGg")),v=n.n(m),_=n("+p8b"),w=n.n(_),j=n("4lAS"),O=n("MV2A"),k=n("LLbv"),S=n("5QKO"),D={components:{GlButton:j.a},props:{deployKey:{type:Object,required:!0},type:{type:String,required:!0},category:{type:String,required:!1,default:"tertiary"},variant:{type:String,required:!1,default:"default"},icon:{type:String,required:!1,default:""}},data:()=>({isLoading:!1}),methods:{doAction(){var e=this;this.isLoading=!0,u.$emit("".concat(this.type,".key"),this.deployKey,(function(){e.isLoading=!1}))}}},E={components:{actionBtn:Object(b.a)(D,(function(){var e=this.$createElement;return(this._self._c||e)("gl-button",{staticClass:"btn",attrs:{category:this.category,variant:this.variant,icon:this.icon,loading:this.isLoading},on:{click:this.doAction}},[this._t("default")],2)}),[],!1,null,null,null).exports,GlButton:j.a,GlIcon:s.a,GlLink:O.a},directives:{GlTooltip:k.a},mixins:[S.a],props:{deployKey:{type:Object,required:!0},store:{type:Object,required:!0},endpoint:{type:String,required:!0},projectId:{type:String,required:!1,default:null}},data:()=>({projectsExpanded:!1}),computed:{editDeployKeyPath(){return"".concat(this.endpoint,"/").concat(this.deployKey.id,"/edit")},projects(){var e=this;const t=[...this.deployKey.deploy_keys_projects];if(null!==this.projectId){const n=t.findIndex((function(t){return t&&t.project&&t.project.id&&t.project.id.toString()===e.projectId}));if(n>-1){const e=t.splice(n,1);return e[0].project.full_name=Object(c.e)("DeployKeys|Current project"),e.concat(t)}}return t},firstProject(){return w()(this.projects)},restProjects(){return v()(this.projects)},restProjectsTooltip(){return Object(c.f)(Object(c.e)("DeployKeys|Expand %{count} other projects"),{count:this.restProjects.length})},restProjectsLabel(){return Object(c.f)(Object(c.e)("DeployKeys|+%{count} others"),{count:this.restProjects.length})},isEnabled(){return this.store.isEnabled(this.deployKey.id)},isRemovable(){return this.store.isEnabled(this.deployKey.id)&&this.deployKey.destroyed_when_orphaned&&this.deployKey.almost_orphaned},isExpandable(){return!this.projectsExpanded&&this.restProjects.length>1},isExpanded(){return this.projectsExpanded||1===this.restProjects.length}},methods:{projectTooltipTitle:e=>e.can_push?Object(c.e)("DeployKeys|Grant write permissions to this key"):Object(c.e)("DeployKeys|Read access only"),toggleExpanded(){this.projectsExpanded=!this.projectsExpanded}}},P={components:{deployKey:Object(b.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-responsive-table-row deploy-key"},[n("div",{staticClass:"table-section section-40"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("DeployKeys|Deploy key")))]),e._v(" "),n("div",{staticClass:"table-mobile-content",attrs:{"data-qa-selector":"key_container"}},[n("strong",{staticClass:"title",attrs:{"data-qa-selector":"key_title_content"}},[e._v(" "+e._s(e.deployKey.title)+" ")]),e._v(" "),n("div",{staticClass:"fingerprint",attrs:{"data-qa-selector":"key_md5_fingerprint_content"}},[e._v("\n        "+e._s(e.__("MD5"))+":"+e._s(e.deployKey.fingerprint)+"\n      ")]),e._v(" "),n("div",{staticClass:"fingerprint"},[e._v(e._s(e.__("SHA256"))+":"+e._s(e.deployKey.fingerprint_sha256))])])]),e._v(" "),n("div",{staticClass:"table-section section-30 section-wrap"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("DeployKeys|Project usage")))]),e._v(" "),n("div",{staticClass:"table-mobile-content deploy-project-list"},[e.projects.length>0?[n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"label deploy-project-label",attrs:{title:e.projectTooltipTitle(e.firstProject)}},[n("span",[e._v(" "+e._s(e.firstProject.project.full_name)+" ")]),e._v(" "),n("gl-icon",{attrs:{name:e.firstProject.can_push?"lock-open":"lock"}})],1),e._v(" "),e.isExpandable?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"label deploy-project-label",attrs:{title:e.restProjectsTooltip},on:{click:e.toggleExpanded}},[n("span",[e._v(e._s(e.restProjectsLabel))])]):e.isExpanded?e._l(e.restProjects,(function(t){return n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],key:t.project.full_path,staticClass:"label deploy-project-label",attrs:{href:t.project.full_path,title:e.projectTooltipTitle(t)}},[n("span",[e._v(" "+e._s(t.project.full_name)+" ")]),e._v(" "),n("gl-icon",{attrs:{name:t.can_push?"lock-open":"lock"}})],1)})):e._e()]:n("span",{staticClass:"text-secondary"},[e._v(e._s(e.__("None")))])],2)]),e._v(" "),n("div",{staticClass:"table-section section-15 text-right"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.__("Created")))]),e._v(" "),n("div",{staticClass:"table-mobile-content text-secondary key-created-at"},[n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.tooltipTitle(e.deployKey.created_at)}},[n("gl-icon",{attrs:{name:"calendar"}}),e._v(" "),n("span",[e._v(e._s(e.timeFormatted(e.deployKey.created_at)))])],1)])]),e._v(" "),n("div",{staticClass:"table-section section-15 table-button-footer deploy-key-actions"},[n("div",{staticClass:"btn-group table-action-buttons"},[e.isEnabled?e._e():n("action-btn",{attrs:{"deploy-key":e.deployKey,type:"enable",category:"secondary"}},[e._v("\n        "+e._s(e.__("Enable"))+"\n      ")]),e._v(" "),e.deployKey.can_edit?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{href:e.editDeployKeyPath,title:e.__("Edit"),"aria-label":e.__("Edit"),"data-container":"body",icon:"pencil",category:"secondary"}}):e._e(),e._v(" "),e.isRemovable?n("action-btn",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{"deploy-key":e.deployKey,title:e.__("Remove"),"aria-label":e.__("Remove"),category:"primary",variant:"danger",icon:"remove",type:"remove","data-container":"body"}}):e.isEnabled?n("action-btn",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{"deploy-key":e.deployKey,title:e.__("Disable"),"aria-label":e.__("Disable"),type:"disable","data-container":"body",icon:"cancel",category:"primary",variant:"danger"}}):e._e()],1)])])}),[],!1,null,null,null).exports},props:{keys:{type:Array,required:!0},store:{type:Object,required:!0},endpoint:{type:String,required:!0},projectId:{type:String,required:!1,default:null}}},$={components:{ConfirmModal:y,KeysPanel:Object(b.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"deploy-keys-panel table-holder"},[e.keys.length>0?[n("div",{staticClass:"gl-responsive-table-row table-row-header",attrs:{role:"row"}},[n("div",{staticClass:"table-section section-40",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.s__("DeployKeys|Deploy key"))+"\n      ")]),e._v(" "),n("div",{staticClass:"table-section section-30",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.s__("DeployKeys|Project usage"))+"\n      ")]),e._v(" "),n("div",{staticClass:"table-section section-15 text-right",attrs:{role:"rowheader"}},[e._v(e._s(e.__("Created")))])]),e._v(" "),e._l(e.keys,(function(t){return n("deploy-key",{key:t.id,attrs:{"deploy-key":t,store:e.store,endpoint:e.endpoint,"project-id":e.projectId}})}))]:n("div",{staticClass:"settings-message text-center gl-mt-5"},[e._v("\n    "+e._s(e.s__("DeployKeys|No deploy keys found. Create one with the form above."))+"\n  ")])],2)}),[],!1,null,null,null).exports,NavigationTabs:l.a,GlLoadingIcon:a.a,GlIcon:s.a},props:{endpoint:{type:String,required:!0},projectId:{type:String,required:!0}},data:()=>({currentTab:"enabled_keys",isLoading:!1,store:new f,removeKey:function(){},cancel:function(){},confirmModalVisible:!1}),scopes:{enabled_keys:Object(c.e)("DeployKeys|Enabled deploy keys"),available_project_keys:Object(c.e)("DeployKeys|Privately accessible deploy keys"),public_keys:Object(c.e)("DeployKeys|Publicly accessible deploy keys")},computed:{tabs(){var e=this;return Object.keys(this.$options.scopes).map((function(t){const n=Array.isArray(e.keys[t])?e.keys[t].length:null;return{name:e.$options.scopes[t],scope:t,isActive:t===e.currentTab,count:n}}))},hasKeys(){return Object.keys(this.keys).length},keys(){return this.store.keys}},created(){this.service=new h(this.endpoint),u.$on("enable.key",this.enableKey),u.$on("remove.key",this.confirmRemoveKey),u.$on("disable.key",this.confirmRemoveKey)},mounted(){this.fetchKeys()},beforeDestroy(){u.$off("enable.key",this.enableKey),u.$off("remove.key",this.confirmRemoveKey),u.$off("disable.key",this.confirmRemoveKey)},methods:{onChangeTab(e){this.currentTab=e},fetchKeys(){var e=this;return this.isLoading=!0,this.service.getKeys().then((function(t){e.isLoading=!1,e.store.keys=t})).catch((function(){return e.isLoading=!1,e.store.keys={},new i.c(Object(c.e)("DeployKeys|Error getting deploy keys"))}))},enableKey(e){this.service.enableKey(e.id).then(this.fetchKeys).catch((function(){return new i.c(Object(c.e)("DeployKeys|Error enabling deploy key"))}))},confirmRemoveKey(e,t){var n=this;const o=function(){n.confirmModalVisible=!1,null==t||t()};this.removeKey=function(){n.service.disableKey(e.id).then(n.fetchKeys).then(o).catch((function(){return new i.c(Object(c.e)("DeployKeys|Error removing deploy key"))}))},this.cancel=o,this.confirmModalVisible=!0}}},C=Object(b.a)($,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-mb-3 deploy-keys"},[n("confirm-modal",{attrs:{visible:e.confirmModalVisible},on:{remove:e.removeKey,cancel:e.cancel}}),e._v(" "),e.isLoading&&!e.hasKeys?n("gl-loading-icon",{attrs:{label:e.s__("DeployKeys|Loading deploy keys"),size:"lg"}}):e.hasKeys?[n("div",{staticClass:"top-area scrolling-tabs-container inner-page-scroll-tabs"},[n("div",{staticClass:"fade-left"},[n("gl-icon",{attrs:{name:"chevron-lg-left",size:12}})],1),e._v(" "),n("div",{staticClass:"fade-right"},[n("gl-icon",{attrs:{name:"chevron-lg-right",size:12}})],1),e._v(" "),n("navigation-tabs",{attrs:{tabs:e.tabs,scope:"deployKeys"},on:{onChangeTab:e.onChangeTab}})],1),e._v(" "),n("keys-panel",{attrs:{"project-id":e.projectId,keys:e.keys[e.currentTab],store:e.store,endpoint:e.endpoint,"data-qa-selector":"project_deploy_keys_container"}})]:e._e()],2)}),[],!1,null,null,null).exports,I=n("O4Ih"),L=n("EmJ/"),T=n.n(L),x=n("SaZh"),R=n("n7CP"),K=(n("jaBk"),n("S26F"),n("KIdm")),B=n.n(K),q=n("b1Ea"),G=n.n(q),U=n("G3fq"),N=n.n(U),F=n("m/7A");const A={ROLE:"role",USER:"user",DEPLOY_KEY:"deploy_key",GROUP:"group"},H={ROLE:"access_level",USER:"user_id",DEPLOY_KEY:"deploy_key_id",GROUP:"group_id"},M={MERGE:"merge_access_levels",PUSH:"push_access_levels"},z=0;function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class X{constructor(e){const{$dropdown:t,accessLevel:n,accessLevelsData:o,hasLicense:r=!0}=e;this.options=e,this.hasLicense=r,this.groups=[],this.accessLevel=n,this.accessLevelsData=o.roles,this.$dropdown=t,this.$wrap=this.$dropdown.closest(".".concat(this.accessLevel,"-container")),this.usersPath="/-/autocomplete/users.json",this.groupsPath="/-/autocomplete/project_groups.json",this.deployKeysPath="/-/autocomplete/deploy_keys_with_owners.json",this.defaultLabel=this.$dropdown.data("defaultLabel"),this.setSelectedItems([]),this.persistPreselectedItems(),this.noOneObj=this.accessLevelsData.find((function(e){return e.id===z})),this.initDropdown()}initDropdown(){var e=this;const{onSelect:t,onHide:n}=this.options;Object(F.a)(this.$dropdown,{data:this.getData.bind(this),selectable:!0,filterable:!0,filterRemote:!0,multiSelect:this.$dropdown.hasClass("js-multiselect"),renderRow:this.renderRow.bind(this),toggleLabel:this.toggleLabel.bind(this),hidden(){n&&n()},clicked:function(n){const{$el:o,e:r}=n,a=n.selectedObj,s=!e.hasLicense&&e.accessLevel===M.MERGE;if(r.preventDefault(),s&&e.accessLevelsData.forEach((function(t){e.removeSelectedItem(t)})),o.is(".is-active")){if(e.noOneObj)if(a.id!==e.noOneObj.id||s){const t=e.$wrap.find(".is-active.item-".concat(a.type,'[data-role-id="').concat(e.noOneObj.id,'"]'));t.length&&(t.removeClass("is-active"),e.removeSelectedItem(e.noOneObj))}else e.accessLevelsData.forEach((function(t){t.id!==a.id&&e.removeSelectedItem(t)})),e.$wrap.find(".item-".concat(a.type)).removeClass("is-active");o.addClass("is-active item-".concat(a.type)),e.addSelectedItem(a)}else e.removeSelectedItem(a);t&&t(a,o,e)}}),this.$dropdown.find(".dropdown-toggle-text").text(this.toggleLabel())}persistPreselectedItems(){const e=this.$dropdown.data("preselectedItems");if(!e||!e.length)return;const t=e.map((function(e){const t=V({},e);return t.persisted=!0,t}));this.setSelectedItems(t)}setSelectedItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.items=e}getSelectedItems(){return this.items.filter((function(e){return!e._destroy}))}getAllSelectedItems(){return this.items}getInputData(){return this.getAllSelectedItems().map((function(e){const t={};return void 0!==e.id&&(t.id=e.id),void 0!==e._destroy&&(t._destroy=e._destroy),e.type===A.ROLE?t.access_level=e.access_level:e.type===A.USER?t.user_id=e.user_id:e.type===A.DEPLOY_KEY?t.deploy_key_id=e.deploy_key_id:e.type===A.GROUP&&(t.group_id=e.group_id),t}))}addSelectedItem(e){let t={},n=-1,o=!1;const r=this.getAllSelectedItems();r.forEach((function(t,r){let a;switch(e.type){case A.ROLE:t[a=H.ROLE]===e.id&&(o=!0);break;case A.GROUP:a=H.GROUP;break;case A.DEPLOY_KEY:a=H.DEPLOY_KEY;break;case A.USER:a=H.USER}e.id===t[a]&&(n=r)})),o||(-1!==n&&r[n]._destroy?delete r[n]._destroy:(t.type=e.type,e.type===A.USER?t={user_id:e.id,name:e.name||"_name1",username:e.username||"_username1",avatar_url:e.avatar_url||"_avatar_url1",type:A.USER}:e.type===A.ROLE?t={access_level:e.id,type:A.ROLE}:e.type===A.GROUP?t={group_id:e.id,type:A.GROUP}:e.type===A.DEPLOY_KEY&&(t={deploy_key_id:e.id,type:A.DEPLOY_KEY}),this.items.push(t)))}removeSelectedItem(e){let t=-1;const n=this.getAllSelectedItems();n.every((function(n,o){return n.type!==e.type||((n.type===A.USER&&n.user_id===e.id||n.type===A.ROLE&&n.access_level===e.id||n.type===A.DEPLOY_KEY&&n.deploy_key_id===e.id||n.type===A.GROUP&&n.group_id===e.id)&&(t=o),!(t>-1))})),-1!==t&&(n[t].persisted?n[t]._destroy?delete n[t]._destroy:n[t]._destroy="1":n.splice(t,1))}toggleLabel(){const e=this.getSelectedItems(),t=this.$dropdown.find(".dropdown-toggle-text");if(0===e.length)return t.addClass("is-default"),this.defaultLabel;if(t.removeClass("is-default"),1===e.length&&e[0].type===A.ROLE){return this.accessLevelsData.find((function(t){return t.id===e[0].access_level})).text}const n=[],o=B()(e,(function(e){return e.type}));return o[A.ROLE]>0&&n.push(Object(c.d)("1 role","%d roles",o[A.ROLE])),o[A.USER]>0&&n.push(Object(c.d)("1 user","%d users",o[A.USER])),o[A.DEPLOY_KEY]>0&&n.push(Object(c.d)("1 deploy key","%d deploy keys",o[A.DEPLOY_KEY])),o[A.GROUP]>0&&n.push(Object(c.d)("1 group","%d groups",o[A.GROUP])),n.join(", ")}getData(e,t){var n=this;this.hasLicense?Promise.all([this.getDeployKeys(e),this.getUsers(e),this.groupsData?Promise.resolve(this.groupsData):this.getGroups()]).then((function(e){let[o,r,a]=e;n.groupsData=a,t(n.consolidateData(o.data,r.data,a.data))})).catch((function(){Object(i.b)({message:Object(c.a)("Failed to load groups, users and deploy keys.")})})):this.getDeployKeys(e).then((function(e){return t(n.consolidateData(e.data))})).catch((function(){return Object(i.b)({message:Object(c.a)("Failed to load deploy keys.")})}))}consolidateData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=[];const r=this.accessLevelsData.map((function(e){return e.type=A.ROLE,e}));if(r.length&&(o=o.concat([{type:"header",content:Object(c.e)("AccessDropdown|Roles")}],r)),this.hasLicense){const e=[],a=this.getSelectedItems(),s=n.map((function(e){return V(V({},e),{},{type:A.GROUP})})),i=a.filter((function(e){return e.type===A.USER})).map((function(t){return e.push(A.USER+t.user_id),{id:t.user_id,name:t.name,username:t.username,avatar_url:t.avatar_url,type:A.USER}}));t.forEach((function(t){if(-1===e.indexOf(A.USER+t.id)){const e=V({},t);e.type=A.USER,i.push(e)}})),s.length&&(r.length&&(o=o.concat([{type:"divider"}])),o=o.concat([{type:"header",content:Object(c.e)("AccessDropdown|Groups")}],s)),i.length&&(o=o.concat([{type:"divider"}],[{type:"header",content:Object(c.e)("AccessDropdown|Users")}],i))}const a=e.map((function(e){const{id:t,fingerprint:n,title:o,owner:{avatar_url:r,name:a,username:s}}=e,i="(".concat(n.substring(0,14),"...)");return{id:t,title:o.concat(" ",i),avatar_url:r,fullname:a,username:s,type:A.DEPLOY_KEY}}));return this.accessLevel===M.PUSH&&a.length&&(o=o.concat([{type:"divider"}],[{type:"header",content:Object(c.e)("AccessDropdown|Deploy Keys")}],a)),o}getUsers(e){return p.a.get(this.buildUrl(gon.relative_url_root,this.usersPath),{params:{search:e,per_page:20,active:!0,project_id:gon.current_project_id,push_code:!0}})}getGroups(){return p.a.get(this.buildUrl(gon.relative_url_root,this.groupsPath),{params:{project_id:gon.current_project_id}})}getDeployKeys(e){return p.a.get(this.buildUrl(gon.relative_url_root,this.deployKeysPath),{params:{search:e,per_page:20,active:!0,project_id:gon.current_project_id,push_code:!0}})}buildUrl(e,t){let n;return null!=e&&(n=e.replace(/\/$/,"")+t),n}renderRow(e){let t,n={};switch(e.type){case A.USER:n={user_id:e.id};break;case A.ROLE:n={access_level:e.id};break;case A.DEPLOY_KEY:n={deploy_key_id:e.id};break;case A.GROUP:n={group_id:e.id}}const o=G()(this.getSelectedItems(),n)?"is-active":"";switch(e.type){case A.USER:t=this.userRowHtml(e,o);break;case A.ROLE:t=this.roleRowHtml(e,o);break;case A.DEPLOY_KEY:t=this.accessLevel===M.PUSH?this.deployKeyRowHtml(e,o):"";break;case A.GROUP:t=this.groupRowHtml(e,o);break;default:t=""}return t}userRowHtml(e,t){return'\n      <li>\n        <a href="#" class="'.concat(t||"",'">\n          <img src="').concat(e.avatar_url,'" class="avatar avatar-inline" width="30">\n          <strong class="dropdown-menu-user-full-name">').concat(N()(e.name),'</strong>\n          <span class="dropdown-menu-user-username">').concat(e.username,"</span>\n        </a>\n      </li>\n    ")}deployKeyRowHtml(e,t){return'\n      <li>\n        <a href="#" class="'.concat(t||"",'">\n          <strong>').concat(e.title,"</strong>\n          <p>\n            ").concat(Object(c.f)(Object(c.a)("Owned by %{image_tag}"),{image_tag:'<img src="'.concat(e.avatar_url,'" class="avatar avatar-inline s26" width="30">')},!1),'\n            <strong class="dropdown-menu-user-full-name gl-display-inline">').concat(N()(e.fullname),'</strong>\n            <span class="dropdown-menu-user-username gl-display-inline">').concat(e.username,"</span>\n          </p>\n        </a>\n      </li>\n    ")}groupRowHtml(e,t){const n=t||"",o=e.avatar_url?'<img src="'.concat(e.avatar_url,'" class="avatar avatar-inline" width="30">'):"";return'\n      <li>\n        <a href="#" class="'.concat(n,'">\n          ').concat(o,'\n          <span class="dropdown-menu-group-groupname">').concat(e.name,"</span>\n        </a>\n      </li>\n    ")}roleRowHtml(e,t){return'\n      <li>\n        <a href="#" class="'.concat(t||""," item-").concat(e.type,'" data-role-id="').concat(e.id,'">\n          ').concat(e.text,"\n        </a>\n      </li>\n    ")}}const W={MERGE:"merge_access_levels",PUSH:"push_access_levels"},Z={ROLE:"role",USER:"user",GROUP:"group",DEPLOY_KEY:"deploy_key"};class Q{constructor(e){this.hasLicense=e.hasLicense,this.$form=T()(".js-new-protected-branch"),this.isLocalStorageAvailable=R.a.isLocalStorageAccessSafe(),this.currentProjectUserDefaults={},this.buildDropdowns(),this.$forcePushToggle=this.$form.find(".js-force-push-toggle"),this.$codeOwnerToggle=this.$form.find(".js-code-owner-toggle"),this.bindEvents()}bindEvents(){this.$forcePushToggle.on("click",this.onForcePushToggleClick.bind(this)),this.hasLicense&&this.$codeOwnerToggle.on("click",this.onCodeOwnerToggleClick.bind(this)),this.$form.on("submit",this.onFormSubmit.bind(this))}onForcePushToggleClick(){this.$forcePushToggle.toggleClass("is-checked")}onCodeOwnerToggleClick(){this.$codeOwnerToggle.toggleClass("is-checked")}buildDropdowns(){const e=this.$form.find(".js-allowed-to-merge"),t=this.$form.find(".js-allowed-to-push");this.onSelectCallback=this.onSelect.bind(this),this["".concat(W.MERGE,"_dropdown")]=new X({$dropdown:e,accessLevelsData:gon.merge_access_levels,onSelect:this.onSelectCallback,accessLevel:W.MERGE,hasLicense:this.hasLicense}),this["".concat(W.PUSH,"_dropdown")]=new X({$dropdown:t,accessLevelsData:gon.push_access_levels,onSelect:this.onSelectCallback,accessLevel:W.PUSH,hasLicense:this.hasLicense}),this.createItemDropdown=new x.a({$dropdown:this.$form.find(".js-protected-branch-select"),defaultToggleLabel:Object(c.a)("Protected Branch"),fieldName:"protected_branch[name]",onSelect:this.onSelectCallback,getData:Q.getProtectedBranches})}onSelect(){const e=this["".concat(W.MERGE,"_dropdown")].getSelectedItems(),t=this["".concat(W.PUSH,"_dropdown")].getSelectedItems(),n=!(this.$form.find('input[name="protected_branch[name]"]').val()&&e.length&&t.length);this.$form.find('input[type="submit"]').attr("disabled",n)}static getProtectedBranches(e,t){t(gon.open_branches)}getFormData(){var e=this;const t={authenticity_token:this.$form.find('input[name="authenticity_token"]').val(),protected_branch:{name:this.$form.find('input[name="protected_branch[name]"]').val(),allow_force_push:this.$forcePushToggle.hasClass("is-checked"),code_owner_approval_required:this.$codeOwnerToggle.hasClass("is-checked")}};return Object.keys(W).forEach((function(n){const o=W[n],r=e["".concat(o,"_dropdown")].getSelectedItems(),a=[];r.forEach((function(e){e.type===Z.USER?a.push({user_id:e.user_id}):e.type===Z.ROLE?a.push({access_level:e.access_level}):e.type===Z.GROUP?a.push({group_id:e.group_id}):e.type===Z.DEPLOY_KEY&&a.push({deploy_key_id:e.deploy_key_id})})),t.protected_branch["".concat(o,"_attributes")]=a})),t}onFormSubmit(e){e.preventDefault(),p.a[this.$form.attr("method")](this.$form.attr("action"),this.getFormData()).then((function(){window.location.reload()})).catch((function(){return Object(i.c)(Object(c.a)("Failed to protect the branch"))}))}}class ee{constructor(e){this.hasLicense=e.hasLicense,this.$wraps={},this.hasChanges=!1,this.$wrap=e.$wrap,this.$allowedToMergeDropdown=this.$wrap.find(".js-allowed-to-merge"),this.$allowedToPushDropdown=this.$wrap.find(".js-allowed-to-push"),this.$forcePushToggle=this.$wrap.find(".js-force-push-toggle"),this.$codeOwnerToggle=this.$wrap.find(".js-code-owner-toggle"),this.$wraps[W.MERGE]=this.$allowedToMergeDropdown.closest(".".concat(W.MERGE,"-container")),this.$wraps[W.PUSH]=this.$allowedToPushDropdown.closest(".".concat(W.PUSH,"-container")),this.buildDropdowns(),this.bindEvents()}bindEvents(){this.$forcePushToggle.on("click",this.onForcePushToggleClick.bind(this)),this.hasLicense&&this.$codeOwnerToggle.on("click",this.onCodeOwnerToggleClick.bind(this))}onForcePushToggleClick(){var e=this;this.$forcePushToggle.toggleClass("is-checked"),this.$forcePushToggle.prop("disabled",!0);const t={allow_force_push:this.$forcePushToggle.hasClass("is-checked")};this.updateProtectedBranch(t,(function(){return e.$forcePushToggle.prop("disabled",!1)}))}onCodeOwnerToggleClick(){var e=this;this.$codeOwnerToggle.toggleClass("is-checked"),this.$codeOwnerToggle.prop("disabled",!0);const t={code_owner_approval_required:this.$codeOwnerToggle.hasClass("is-checked")};this.updateProtectedBranch(t,(function(){return e.$codeOwnerToggle.prop("disabled",!1)}))}updateProtectedBranch(e,t){p.a.patch(this.$wrap.data("url"),{protected_branch:e}).then(t).catch((function(){Object(i.c)(Object(c.a)("Failed to update branch!"))}))}buildDropdowns(){this["".concat(W.MERGE,"_dropdown")]=new X({accessLevel:W.MERGE,accessLevelsData:gon.merge_access_levels,$dropdown:this.$allowedToMergeDropdown,onSelect:this.onSelectOption.bind(this),onHide:this.onDropdownHide.bind(this),hasLicense:this.hasLicense}),this["".concat(W.PUSH,"_dropdown")]=new X({accessLevel:W.PUSH,accessLevelsData:gon.push_access_levels,$dropdown:this.$allowedToPushDropdown,onSelect:this.onSelectOption.bind(this),onHide:this.onDropdownHide.bind(this),hasLicense:this.hasLicense})}onSelectOption(){this.hasChanges=!0}onDropdownHide(){this.hasChanges&&(this.hasChanges=!0,this.updatePermissions())}updatePermissions(){var e=this;const t=Object.keys(W).reduce((function(t,n){const o=W[n],r=e["".concat(o,"_dropdown")].getInputData(o);return t["".concat(o,"_attributes")]=r,t}),{});p.a.patch(this.$wrap.data("url"),{protected_branch:t}).then((function(t){let{data:n}=t;e.hasChanges=!1,Object.keys(W).forEach((function(t){const o=W[t];e.setSelectedItemsToDropdown(n[o],"".concat(o,"_dropdown"))})),e.$allowedToMergeDropdown.enable(),e.$allowedToPushDropdown.enable()})).catch((function(){e.$allowedToMergeDropdown.enable(),e.$allowedToPushDropdown.enable(),Object(i.c)(Object(c.a)("Failed to update branch!"))}))}setSelectedItemsToDropdown(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;const o=t.map((function(t){if(t.user_id){const o=e[n].getSelectedItems(),r=G()(o,{user_id:t.user_id});return{id:t.id,user_id:t.user_id,type:Z.USER,persisted:!0,name:r.name,username:r.username,avatar_url:r.avatar_url}}return t.group_id?{id:t.id,group_id:t.group_id,type:Z.GROUP,persisted:!0}:{id:t.id,access_level:t.access_level,type:Z.ROLE,persisted:!0}}));this[n].setSelectedItems(o)}}class te{constructor(){this.$wrap=T()(".protected-branches-list"),this.initEditForm()}initEditForm(){this.$wrap.find(".js-protected-branch-edit-form").each((function(e,t){new ee({$wrap:T()(t),hasLicense:!1})}))}}class ne{constructor(e){this.options=e,this.initDropdown()}initDropdown(){const{onSelect:e}=this.options;Object(F.a)(this.options.$dropdown,{data:this.options.data,selectable:!0,inputId:this.options.$dropdown.data("inputId"),fieldName:this.options.$dropdown.data("fieldName"),toggleLabel:(e,t)=>t.is(".is-active")?e.text:Object(c.a)("Select"),clicked(t){t.e.preventDefault(),e()}})}}class oe{constructor(){this.$form=T()(".js-new-protected-tag"),this.buildDropdowns()}buildDropdowns(){const e=this.$form.find(".js-allowed-to-create");this.onSelectCallback=this.onSelect.bind(this),this.protectedTagAccessDropdown=new ne({$dropdown:e,data:gon.create_access_levels,onSelect:this.onSelectCallback}),e.data("deprecatedJQueryDropdown").selectRowAtIndex(0),this.createItemDropdown=new x.a({$dropdown:this.$form.find(".js-protected-tag-select"),defaultToggleLabel:Object(c.a)("Protected Tag"),fieldName:"protected_tag[name]",onSelect:this.onSelectCallback,getData:oe.getProtectedTags})}onSelect(){const e=this.$form.find('input[name="protected_tag[name]"]'),t=this.$form.find("#create_access_levels_attributes");this.$form.find('input[type="submit"]').prop("disabled",!(e.val()&&t.length))}static getProtectedTags(e,t){t(gon.open_tags)}}const re=Object(c.e)("ProjectSettings|Failed to update tag!");class ae{constructor(e){this.$wrap=e.$wrap,this.$allowedToCreateDropdownButton=this.$wrap.find(".js-allowed-to-create"),this.onSelectCallback=this.onSelect.bind(this),this.buildDropdowns()}buildDropdowns(){this.protectedTagAccessDropdown=new ne({$dropdown:this.$allowedToCreateDropdownButton,data:gon.create_access_levels,onSelect:this.onSelectCallback})}onSelect(){var e=this;const t=this.$wrap.find('input[name="'.concat(this.$allowedToCreateDropdownButton.data("fieldName"),'"]'));t.length&&(this.$allowedToCreateDropdownButton.disable(),p.a.patch(this.$wrap.data("url"),{protected_tag:{create_access_levels_attributes:[{id:this.$allowedToCreateDropdownButton.data("accessLevelId"),access_level:t.val()}]}}).then((function(){e.$allowedToCreateDropdownButton.enable()})).catch((function(){e.$allowedToCreateDropdownButton.enable(),window.scrollTo({top:0,behavior:"smooth"}),Object(i.c)(re)})))}}class se{constructor(){this.$wrap=T()(".protected-tags-list"),this.initEditForm()}initEditForm(){this.$wrap.find(".js-protected-tag-edit-form").each((function(e,t){new ae({$wrap:T()(t)})}))}}var ie=n("r5uf");t.a=function(){new oe,new se,new r.default({el:document.getElementById("js-deploy-keys"),components:{deployKeysApp:C},data(){return{endpoint:this.$options.el.dataset.endpoint,projectId:this.$options.el.dataset.projectId}},render(e){return e("deploy-keys-app",{props:{endpoint:this.endpoint,projectId:this.projectId}})}}),Object(ie.b)(),new Q({hasLicense:!1}),new te,Object(o.a)(),Object(I.a)(".js-choose-file",".js-object-map-input")}},"3Xvs":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("GzNv");var o=n("EmJ/"),r=n.n(o),a=n("+XPY"),s=n.n(a),i=n("bOix");function c(){r()(".datepicker").each((function(){const e=r()(this),t=e.val(),n=new s.a({field:e.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:e.parent().get(0),parse:function(e){return Object(i.z)(e)},toString:function(e){return Object(i.B)(e)},onSelect(t){e.val(n.toString(t))},firstDay:gon.first_day_of_week});n.setDate(Object(i.z)(t)),e.data("pikaday",n)})),r()(".js-clear-due-date,.js-clear-start-date").on("click",(function(e){e.preventDefault(),r()(e.target).siblings(".datepicker").data("pikaday").setDate(null)}))}},"4lAS":function(e,t,n){"use strict";var o=n("ofGl"),r=n("XBTk"),a=n("g3So"),s=n("s1D3"),i=n("FkSe"),c=n("Pyw5"),l=n.n(c);const d={components:{BButton:o.a,GlIcon:s.a,GlLoadingIcon:i.a},mixins:[a.a],props:{category:{type:String,required:!1,default:r.u.primary,validator:function(e){return Object.keys(r.u).includes(e)}},variant:{type:String,required:!1,default:r.x.default,validator:function(e){return Object.keys(r.x).includes(e)}},size:{type:String,required:!1,default:r.v.medium,validator:function(e){return Object.keys(r.v).includes(e)}},selected:{type:Boolean,required:!1,default:!1},icon:{type:String,required:!1,default:""},label:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},buttonTextClasses:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1}},computed:{hasIcon:function(){return""!==this.icon},hasIconOnly:function(){return 0===Object.keys(this.$slots).length&&this.hasIcon},isButtonDisabled:function(){return this.disabled||this.loading},buttonClasses:function(){var e=["gl-button"];return[r.x.dashed,r.x.link].includes(this.variant)||this.category===r.u.primary||e.push("btn-".concat(this.variant,"-").concat(this.category)),e.push({"btn-icon":this.hasIconOnly,"button-ellipsis-horizontal":this.hasIconOnly&&"ellipsis_h"===this.icon,selected:this.selected}),this.label&&e.push("btn","btn-label","btn-".concat(this.buttonSize)),e},buttonSize:function(){return r.w[this.size]}}};const u=l()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.label?"span":"b-button",e._g(e._b({directives:[{name:"safe-link",rawName:"v-safe-link:[safeLinkConfig]",arg:e.safeLinkConfig}],tag:"component",class:e.buttonClasses,attrs:{target:e.target,variant:e.variant,size:e.buttonSize,disabled:e.isButtonDisabled}},"component",e.$attrs,!1),e.$listeners),[e.loading?n("gl-loading-icon",{staticClass:"gl-button-icon gl-button-loading-indicator",attrs:{inline:""}}):e._e(),e._v(" "),!e.hasIcon||e.hasIconOnly&&e.loading?e._e():n("gl-icon",{staticClass:"gl-button-icon",attrs:{name:e.icon}}),e._v(" "),e._t("emoji"),e._v(" "),e.hasIconOnly?e._e():n("span",{staticClass:"gl-button-text",class:e.buttonTextClasses},[e._t("default")],2)],2)},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=u},"5QKO":function(e,t,n){"use strict";var o=n("bOix");t.a={methods:{timeFormatted:e=>Object(o.r)().format(e),tooltipTitle:e=>Object(o.h)(e),durationTimeFormatted(e){const t=new Date(1e3*e);let n=t.getUTCHours(),o=t.getUTCMinutes(),r=t.getSeconds();return n<10&&(n="0".concat(n)),o<10&&(o="0".concat(o)),r<10&&(r="0".concat(r)),"".concat(n,":").concat(o,":").concat(r)}}}},"6iM1":function(e,t,n){"use strict";t.a={methods:{listenOnRoot:function(e,t){var n=this;this.$root.$on(e,t),this.$on("hook:beforeDestroy",(function(){n.$root.$off(e,t)}))},listenOnRootOnce:function(e,t){var n=this;this.$root.$once(e,t),this.$on("hook:beforeDestroy",(function(){n.$root.$off(e,t)}))},emitOnRoot:function(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];(t=this.$root).$emit.apply(t,[e].concat(o))}}}},Aj6a:function(e,t,n){var o=n("nHTl"),r=n("20jF"),a=n("/NDV");e.exports=function(e){return function(t,n,s){var i=Object(t);if(!r(t)){var c=o(n,3);t=a(t),n=function(e){return c(i[e],e,i)}}var l=e(t,n,s);return l>-1?i[c?t[l]:l]:void 0}}},DXSV:function(e,t,n){"use strict";t.a={props:{id:{type:String}},data:function(){return{localId_:null}},computed:{safeId:function(){var e=this.id||this.localId_;return function(t){return e?(t=String(t||"").replace(/\s+/g,"_"))?e+"_"+t:e:null}}},mounted:function(){var e=this;this.$nextTick((function(){e.localId_="__BVID__".concat(e._uid)}))}}},FkSe:function(e,t,n){"use strict";var o=n("Pyw5"),r=["sm","md","lg","xl"],a={dark:"dark",light:"light"};const s={props:{label:{type:String,required:!1,default:"Loading"},size:{type:String,required:!1,default:"sm",validator:function(e){return-1!==r.indexOf(e)}},color:{type:String,required:!1,default:a.dark,validator:function(e){return Object.keys(a).includes(e)}},inline:{type:Boolean,required:!1,default:!1}},computed:{rootElementType:function(){return this.inline?"span":"div"},cssClasses:function(){return["gl-spinner","".concat("gl-spinner","-").concat(a[this.color]),"".concat("gl-spinner","-").concat(this.size)]}}};const i=n.n(o)()({render:function(){var e=this.$createElement,t=this._self._c||e;return t(this.rootElementType,{tag:"component",staticClass:"gl-spinner-container"},[t("span",{staticClass:"align-text-bottom",class:this.cssClasses,attrs:{"aria-label":this.label}})])},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=i},GVjJ:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));n("EWC9"),n("gNBD"),n("orcL");var o=n("0AwG");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=function(e){const t=new FormData(e);return function(e){return e.reduce((function(e,t){let{name:n,value:o}=t;return Object.assign(e,{[n]:o})}),{})}(Array.from(t.keys()).map((function(e){let n=t.getAll(e);return{name:e,value:1===(n=n.filter((function(e){return e}))).length?n[0]:n}})))},c=function(e){if(!e)throw new TypeError("`mountEl` argument is required");return[...e.querySelectorAll("[name]")].reduce((function(e,t){const n=t.dataset.jsName;if(!n)return e;const r=Object(o.c)(n),{id:s,placeholder:i,name:c,value:l,type:d,checked:u}=t,p=a({name:c,id:s,value:l},i&&{placeholder:i});return["radio","checkbox"].includes(d)?a(a({},e),{},{[r]:[...e[r]||[],a(a({},p),{},{checked:u})]}):a(a({},e),{},{[r]:p})}),{})}},HgGg:function(e,t,n){var o=n("zx4+");e.exports=function(e){var t=null==e?0:e.length;return t?o(e,1,t):[]}},Jq22:function(e,t,n){var o=n("sjqF"),r=n("nHTl"),a=n("NDsS"),s=Math.max;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var c=null==n?0:a(n);return c<0&&(c=s(i+c,0)),o(e,r(t,3),c)}},LLbv:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var o=n("0zRR"),r=n("EGUT"),a=n("qTlp"),s=n("NSGy"),i=n("TjC/"),c=n("t8l0"),l=n("EGlP"),d=n("BrvI"),u=n("Ddgg"),p=n("7bmO"),h=n("RhHz");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="__BV_Tooltip__",m={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},v=/^html$/i,_=/^noninteractive$/i,w=/^nofade$/i,j=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,O=/^(window|viewport|scrollParent)$/i,k=/^d\d+$/i,S=/^ds\d+$/i,D=/^dh\d+$/i,E=/^o-?\d+$/i,P=/^v-.+$/i,$=/\s+/,C=function(e,t,n){if(l.g){var f=function(e,t){var n={title:void 0,trigger:"",placement:"top",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,id:null,html:!1,interactive:!0,disabled:!1,delay:Object(c.b)(o.Eb,"delay"),boundary:String(Object(c.b)(o.Eb,"boundary")),boundaryPadding:Object(u.c)(Object(c.b)(o.Eb,"boundaryPadding"),0),variant:Object(c.b)(o.Eb,"variant"),customClass:Object(c.b)(o.Eb,"customClass")};if(Object(d.l)(e.value)||Object(d.g)(e.value)?n.title=e.value:Object(d.e)(e.value)?n.title=e.value:Object(d.i)(e.value)&&(n=g(g({},n),e.value)),Object(d.m)(n.title)){var r=t.data||{};n.title=r.attrs&&!Object(d.n)(r.attrs.title)?r.attrs.title:void 0}Object(d.i)(n.delay)||(n.delay={show:Object(u.c)(n.delay,0),hide:Object(u.c)(n.delay,0)}),e.arg&&(n.container="#".concat(e.arg)),Object(p.i)(e.modifiers).forEach((function(e){if(v.test(e))n.html=!0;else if(_.test(e))n.interactive=!1;else if(w.test(e))n.animation=!1;else if(j.test(e))n.placement=e;else if(O.test(e))e="scrollparent"===e?"scrollParent":e,n.boundary=e;else if(k.test(e)){var t=Object(u.c)(e.slice(1),0);n.delay.show=t,n.delay.hide=t}else S.test(e)?n.delay.show=Object(u.c)(e.slice(2),0):D.test(e)?n.delay.hide=Object(u.c)(e.slice(2),0):E.test(e)?n.offset=Object(u.c)(e.slice(1),0):P.test(e)&&(n.variant=e.slice(2)||null)}));var s={};return Object(i.b)(n.trigger||"").filter(a.a).join(" ").trim().toLowerCase().split($).forEach((function(e){m[e]&&(s[e]=!0)})),Object(p.i)(e.modifiers).forEach((function(e){e=e.toLowerCase(),m[e]&&(s[e]=!0)})),n.trigger=Object(p.i)(s).join(" "),"blur"===n.trigger&&(n.trigger="focus"),n.trigger||(n.trigger="hover focus"),n}(t,n);if(!e[y]){var b=n.context;e[y]=new h.a({parent:b,_scopeId:Object(r.a)(b,void 0)}),e[y].__bv_prev_data__={},e[y].$on("show",(function(){Object(d.e)(f.title)&&e[y].updateData({title:f.title(e)})}))}var C={title:f.title,triggers:f.trigger,placement:f.placement,fallbackPlacement:f.fallbackPlacement,variant:f.variant,customClass:f.customClass,container:f.container,boundary:f.boundary,delay:f.delay,offset:f.offset,noFade:!f.animation,id:f.id,interactive:f.interactive,disabled:f.disabled,html:f.html},I=e[y].__bv_prev_data__;if(e[y].__bv_prev_data__=C,!Object(s.a)(C,I)){var L={target:e};Object(p.i)(C).forEach((function(t){C[t]!==I[t]&&(L[t]="title"===t&&Object(d.e)(C[t])?C[t](e):C[t])})),e[y].updateData(L)}}},I={bind:function(e,t,n){C(e,t,n)},componentUpdated:function(e,t,n){n.context.$nextTick((function(){C(e,t,n)}))},unbind:function(e){!function(e){e[y]&&(e[y].$destroy(),e[y]=null),delete e[y]}(e)}}},Lzak:function(e,t,n){"use strict";var o=n("0zRR"),r=n("/Szx"),a=n("lgrP"),s=n("t8l0"),i=n("7bmO"),c=n("ua/H"),l=n("U9NU"),d=n("1m+M");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=Object(i.k)(d.b,["event","routerTag"]);delete h.href.default,delete h.to.default;var f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({tag:{type:String,default:"span"},variant:{type:String,default:function(){return Object(s.b)(o.c,"variant")}},pill:{type:Boolean,default:!1}},h),g=r.a.extend({name:o.c,functional:!0,props:f,render:function(e,t){var n=t.props,o=t.data,r=t.children,s=Object(l.d)(n),i=s?d.a:n.tag,u={staticClass:"badge",class:[n.variant?"badge-".concat(n.variant):"badge-secondary",{"badge-pill":n.pill,active:n.active,disabled:n.disabled}],props:s?Object(c.a)(h,n):{}};return e(i,Object(a.a)(o,u),r)}}),b=n("XBTk"),y=n("s1D3"),m=n("Pyw5"),v=n.n(m);const _={components:{BBadge:g,GlIcon:y.a},inheritAttrs:!1,props:{size:{type:String,default:b.h.md,validator:function(e){return void 0!==b.h[e]},required:!1},variant:{type:String,default:b.i.muted,validator:function(e){return void 0!==b.i[e]},required:!1},icon:{type:String,required:!1,default:null}},computed:{hasIconOnly:function(){return Boolean(this.icon&&0===Object.keys(this.$slots).length)},role:function(){return this.hasIconOnly?"img":void 0}}};const w=v()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-badge",e._b({class:["gl-badge",e.size],attrs:{variant:e.variant,role:e.role,pill:""}},"b-badge",e.$attrs,!1),[e.icon?n("gl-icon",{staticClass:"gl-badge-icon",class:{"gl-mr-2":!e.hasIconOnly},attrs:{name:e.icon}}):e._e(),e._v(" "),e._t("default")],2)},staticRenderFns:[]},void 0,_,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=w},O4Ih:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));n("S26F"),n("pBsb");t.a=function(e,t){const n=document.querySelector(e),o=document.querySelector(t);if(!n||!o)return;const r=n.closest("form");n.addEventListener("click",(function(){o.click()})),o.addEventListener("change",(function(){r.querySelector(".js-filename").textContent=o.value.replace(/^.*[\\\/]/,"")}))};const o=function(e){let t,{clipboardData:n}=e;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):n&&n.getData&&(t=n.getData("text/plain")),(t=t.split("\r"))[0]}},OIxn:function(e,t,n){"use strict";var o=n("jB52"),r=n("1cpz"),a=n("30su"),s=n("4lAS"),i=n("XqDB"),c={components:{GlModal:r.a,GlSprintf:a.a,GlButton:s.a},directives:{GlModal:i.a},inject:{token:{default:null},revokePath:{default:""},buttonClass:{default:""}},computed:{modalId(){return"revoke-modal-".concat(this.token.id)}},methods:{cancelHandler(){this.$refs.modal.hide()}}},l=n("tBpV"),d=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("gl-button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.modalId,expression:"modalId"}],staticClass:"float-right",class:e.buttonClass,attrs:{category:"primary",variant:"danger","data-testid":"revoke-button"}},[e._v(e._s(e.s__("DeployTokens|Revoke")))]),e._v(" "),n("gl-modal",{ref:"modal",attrs:{"modal-id":e.modalId},scopedSlots:e._u([{key:"modal-title",fn:function(){return[n("gl-sprintf",{attrs:{message:e.s__("DeployTokens|Revoke %{boldStart}"+e.token.name+"%{boldEnd}?")},scopedSlots:e._u([{key:"bold",fn:function(t){var o=t.content;return[n("b",[e._v(e._s(o))])]}}])})]},proxy:!0},{key:"modal-footer",fn:function(){return[n("gl-button",{attrs:{category:"secondary"},on:{click:e.cancelHandler}},[e._v(e._s(e.s__("Cancel")))]),e._v(" "),n("gl-button",{staticClass:"text-truncate",attrs:{category:"primary",variant:"danger",href:e.revokePath,"data-method":"put","data-testid":"primary-revoke-btn"}},[n("gl-sprintf",{attrs:{message:e.s__("DeployTokens|Revoke %{name}")},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.token.name))]},proxy:!0}])})],1)]},proxy:!0}])},[e._v(" "),n("gl-sprintf",{attrs:{message:e.s__("DeployTokens|You are about to revoke %{boldStart}"+e.token.name+"%{boldEnd}.")},scopedSlots:e._u([{key:"bold",fn:function(t){var o=t.content;return[n("b",[e._v(e._s(o))])]}}])}),e._v("\n    "+e._s(e.s__("DeployTokens|This action cannot be undone."))+"\n    ")],1)],1)}),[],!1,null,null,null).exports;t.a=function(){const e=document.querySelectorAll(".js-deploy-token-revoke-button");return!!e.length&&e.forEach((function(e){const{token:t,revokePath:n,buttonClass:r}=e.dataset;return new o.default({el:e,provide:{token:JSON.parse(t),revokePath:n,buttonClass:r},render:e=>e(d)})}))}},SaZh:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("G3fq"),r=n.n(o),a=n("m/7A");class s{constructor(e){this.defaultToggleLabel=e.defaultToggleLabel,this.fieldName=e.fieldName,this.onSelect=e.onSelect||function(){},this.getDataOption=e.getData,this.getDataRemote=Boolean(e.filterRemote),this.createNewItemFromValueOption=e.createNewItemFromValue,this.$dropdown=e.$dropdown,this.$dropdownContainer=this.$dropdown.parent(),this.$dropdownFooter=this.$dropdownContainer.find(".dropdown-footer"),this.$createButton=this.$dropdownContainer.find(".js-dropdown-create-new-item"),this.buildDropdown(),this.bindEvents(),this.toggleFooter(!0)}buildDropdown(){var e=this;Object(a.a)(this.$dropdown,{data:this.getData.bind(this),filterable:!0,filterRemote:this.getDataRemote,search:{fields:["text"]},selectable:!0,toggleLabel(e){return e&&"id"in e?r()(e.title):this.defaultToggleLabel},fieldName:this.fieldName,text:e=>r()(e.text),id:e=>r()(e.id),onFilter:this.toggleCreateNewButton.bind(this),clicked:function(t){t.e.preventDefault(),e.onSelect()}})}clearDropdown(){this.$dropdownContainer.find(".dropdown-content").html(""),this.$dropdownContainer.find(".dropdown-input-field").val("")}bindEvents(){this.$createButton.on("click",this.onClickCreateWildcard.bind(this))}onClickCreateWildcard(e){e.preventDefault(),this.refreshData(),this.$dropdown.data("deprecatedJQueryDropdown").selectRowAtIndex()}refreshData(){this.$dropdown.data("deprecatedJQueryDropdown").remote.execute()}getData(e,t){var n=this;this.getDataOption(e,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const o=n.selectedItem&&e.some((function(e){return e.id===n.selectedItem.id}));let r=e;o||(r=e.concat(n.selectedItem||[])),t(r)}))}createNewItemFromValue(e){return this.createNewItemFromValueOption?this.createNewItemFromValueOption(e):{title:e,id:e,text:e}}toggleCreateNewButton(e){e&&(this.selectedItem=this.createNewItemFromValue(e),this.$dropdownContainer.find(".js-dropdown-create-new-item code").text(e)),this.toggleFooter(!e)}toggleFooter(e){this.$dropdownFooter.toggleClass("hidden",e)}}},YeWz:function(e,t,n){"use strict";t.a=function(e,t){return e.map((function(e,t){return[t,e]})).sort(function(e,t){return this(e[1],t[1])||e[0]-t[0]}.bind(t)).map((function(e){return e[1]}))}},ZeWX:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("QifN"),n("pBsb"),n("Ch9p"),n("+xeR"),n("orcL"),n("pETN");var o=n("EmJ/"),r=n.n(o),a=n("06tH"),s=n.n(a);var i=n("m/7A"),c=n("XRO8"),l=n("2ibD"),d=n("GVjJ"),u=n("3twG"),p=n("/lV4"),h=n("k/Fq");class f{constructor(){!function(){const e=r()("ul.clone-options-dropdown");if(e.length){const t=r()("#clone_url"),n=r()(".js-git-clone-holder .js-clone-dropdown-label"),o=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),a=n.text().trim();a.length>0&&r()("a:contains('".concat(a,"')"),e).addClass("is-active"),r()("a",e).on("click",(function(n){const a=r()(n.currentTarget),s=a.attr("href");if(s&&(s.startsWith("vscode://")||s.startsWith("xcode://")))return;n.preventDefault();const i=a.data("cloneType");r()(".is-active",e).removeClass("is-active"),r()('a[data-clone-type="'.concat(i,'"]')).each((function(){const e=r()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".js-git-clone-holder, .js-mobile-git-clone").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)})),o?o.dataset.clipboardText=s:t.val(s),r()(".js-git-empty .js-clone").text(s)}))}}(),document.querySelector(".js-project-refs-dropdown")&&(f.initRefSwitcher(),r()(".project-refs-select").on("change",(function(){return r()(this).parents("form").trigger("submit")}))),r()(".hide-no-ssh-message").on("click",(function(e){return s.a.set("hide_no_ssh_message","false"),r()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()})),r()(".hide-no-password-message").on("click",(function(e){return s.a.set("hide_no_password_message","false"),r()(this).parents(".no-password-message").remove(),e.preventDefault()})),r()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(e){const t=r()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return s.a.set(n,"false"),r()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()})),f.projectSelectDropdown()}static projectSelectDropdown(){Object(h.a)(),r()(".project-item-select").on("click",(function(e){return f.changeProject(r()(e.currentTarget).val())}))}static changeProject(e){return window.location=e}static initRefSwitcher(){const e=document.createElement("li"),t=document.createElement("a");return t.href="#",r()(".js-project-refs-dropdown").each((function(){const n=r()(this),o=n.data("selected"),a=n.data("fieldName"),s=Boolean(n.data("visit")),h=n.closest("form"),f=h.attr("action"),g=Object(u.q)(Object(d.b)(h[0]),f);return Object(i.a)(n,{data(e,t){l.a.get(n.data("refsUrl"),{params:{ref:n.data("ref"),search:e}}).then((function(e){let{data:n}=e;return t(n)})).catch((function(){return Object(c.c)(Object(p.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:n.data("inputFieldName"),fieldName:a,renderRow(n){const r=e.cloneNode(!1),i=t.cloneNode(!1);return n===o&&(i.className="is-active"),i.textContent=n,i.dataset.ref=n,n.length>0&&s&&(i.href=Object(u.q)({[a]:n},g)),r.appendChild(i),r},id:(e,t)=>t.attr("data-ref"),toggleLabel:(e,t)=>t.text().trim(),clicked(e){const{e:t}=e;if(t.preventDefault(),s){const e=new URL(t.target.href),o=window.location.href;if(o.includes("/-/")){const t=n.data("ref"),r=o.split(t)[1];if(null==r?void 0:r.startsWith("/")){const t=null==r?void 0:r.slice(1).split("#")[0];e.searchParams.set("path",t),e.hash=window.location.hash}}t.metaKey?window.open(e.href,"_blank"):window.location.href=e.href}}})}))}}},b1Ea:function(e,t,n){var o=n("Aj6a")(n("Jq22"));e.exports=o},"eoW/":function(e,t,n){"use strict";n("jaBk");t.a=async function(){const e=document.querySelector(".js-search-settings-app");if(e){const{default:t}=await Promise.all([n.e(442),n.e(421)]).then(n.bind(null,"bBUS"));t({el:e})}}},gNBD:function(e,t,n){var o=n("ZfjD"),r=n("H81m"),a=n("b05b");o({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,(function(e,n){a(t,e,n)}),{AS_ENTRIES:!0}),t}})},gjpc:function(e,t,n){"use strict";n.r(t);var o=n("CX32");new(n("ZeWX").a),new o.a},"k/Fq":function(e,t,n){"use strict";n("jaBk");var o=n("EmJ/"),r=n.n(o),a=n("qPgm"),s=n("qnJZ"),i=n("/lV4"),c=(n("pBsb"),n("n7CP"));class l{constructor(e){this.projectSelectInput=r()(e),this.newItemBtn=r()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}bindEvents(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}initLocalStorage(){c.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}openDropdown(e){n.e(443).then(n.t.bind(null,"p9g0",7)).then((function(){Object(s.a)(gon.select2_css_path).then((function(){r()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))})).catch((function(){}))}selectProject(){const e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}setBtnTextFromLocalStorage(){const e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}setNewItemBtnAttributes(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}getProjectFromLocalStorage(){const e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}setProjectInLocalStorage(e){const t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}deriveTextVariants(){const e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}const d=function(){Object(s.a)(gon.select2_css_path).then((function(){r()(".ajax-project-select").each((function(e,t){var n=this;let o;const s=r()(t).data("simpleFilter")||!1,c=r()(t).data("select2");return this.groupId=r()(t).data("groupId"),this.userId=r()(t).data("userId"),this.includeGroups=r()(t).data("includeGroups"),this.allProjects=r()(t).data("allProjects")||!1,this.orderBy=r()(t).data("orderBy")||"id",this.withIssuesEnabled=r()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=r()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===r()(t).data("withShared")||r()(t).data("withShared"),this.includeProjectsInSubgroups=r()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=r()(t).data("allowClear")||!1,o=Object(i.e)("ProjectSelect|Search for project"),this.includeGroups&&(o+=Object(i.e)("ProjectSelect| or group")),r()(t).select2({placeholder:o,minimumInputLength:0,query:function(e){let t;const o=function(t){const n={results:t};return e.callback(n)};return t=n.includeGroups?function(t){return a.a.groups(e.term,{},(function(e){const n=e.concat(t);return o(n)}))}:o,n.groupId?a.a.groupProjects(n.groupId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups,order_by:"similarity",simple:!0},t):n.userId?a.a.userProjects(n.userId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},t):a.a.projects(e.term,{order_by:n.orderBy,with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,membership:!n.allProjects},t)},id:e=>s?e.id:JSON.stringify({name:e.name,url:e.web_url}),text:e=>e.name_with_namespace||e.name,initSelection:(e,t)=>a.a.project(e.val()).then((function(e){let{data:n}=e;return t(n)})),allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),c||s?t:new l(t)}))})).catch((function(){}))};t.a=function(){r()(".ajax-project-select").length&&n.e(443).then(n.t.bind(null,"p9g0",7)).then(d).catch((function(){}))}},ofGl:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var o=n("0zRR"),r=n("/GZH"),a=n("/Szx"),s=n("lgrP"),i=n("TjC/"),c=n("t8l0"),l=n("o/E4"),d=n("QXXq"),u=n("BrvI"),p=n("7bmO"),h=n("ua/H"),f=n("U9NU"),g=n("1m+M");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=Object(p.k)(g.b,["event","routerTag"]);delete v.href.default,delete v.to.default;var _=y(y({},{block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:function(){return Object(c.b)(o.g,"size")}},variant:{type:String,default:function(){return Object(c.b)(o.g,"variant")}},type:{type:String,default:"button"},tag:{type:String,default:"button"},pill:{type:Boolean,default:!1},squared:{type:Boolean,default:!1},pressed:{type:Boolean,default:null}}),v),w=function(e){"focusin"===e.type?Object(l.b)(e.target,"focus"):"focusout"===e.type&&Object(l.y)(e.target,"focus")},j=function(e){return Object(f.d)(e)||Object(l.t)(e.tag,"a")},O=function(e){return Object(u.b)(e.pressed)},k=function(e){return!(j(e)||e.tag&&!Object(l.t)(e.tag,"button"))},S=function(e){return!j(e)&&!k(e)},D=function(e){var t;return["btn-".concat(e.variant||Object(c.b)(o.g,"variant")),(t={},m(t,"btn-".concat(e.size),e.size),m(t,"btn-block",e.block),m(t,"rounded-pill",e.pill),m(t,"rounded-0",e.squared&&!e.pill),m(t,"disabled",e.disabled),m(t,"active",e.pressed),t)]},E=function(e){return j(e)?Object(h.a)(v,e):{}},P=function(e,t){var n=k(e),o=j(e),r=O(e),a=S(e),s=o&&"#"===e.href,i=t.attrs&&t.attrs.role?t.attrs.role:null,c=t.attrs?t.attrs.tabindex:null;return(a||s)&&(c="0"),{type:n&&!o?e.type:null,disabled:n?e.disabled:null,role:a||s?"button":i,"aria-disabled":a?String(e.disabled):null,"aria-pressed":r?String(e.pressed):null,autocomplete:r?"off":null,tabindex:e.disabled&&!n?"-1":c}},$=a.a.extend({name:o.g,functional:!0,props:_,render:function(e,t){var n=t.props,o=t.data,a=t.listeners,c=t.children,l=O(n),p=j(n),h=S(n),f=p&&"#"===n.href,b={keydown:function(e){if(!n.disabled&&(h||f)){var t=e.keyCode;if(t===r.h||t===r.c&&h){var o=e.currentTarget||e.target;Object(d.d)(e,{propagation:!1}),o.click()}}},click:function(e){n.disabled&&Object(u.d)(e)?Object(d.d)(e):l&&a&&a["update:pressed"]&&Object(i.b)(a["update:pressed"]).forEach((function(e){Object(u.e)(e)&&e(!n.pressed)}))}};l&&(b.focusin=w,b.focusout=w);var y={staticClass:"btn",class:D(n),props:E(n),attrs:P(n,o),on:b};return e(p?g.a:n.tag,Object(s.a)(o,y),c)}})},r5uf:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var o=n("EmJ/"),r=n.n(o),a=n("/lV4");function s(e){return(e instanceof r.a?e[0]:e).classList.contains("expanded")}function i(e){const t=r()(e);t.find(".js-settings-toggle:not(.js-settings-toggle-trigger-only)").text(Object(a.a)("Collapse")),t.find(".settings-content").off("scroll.expandSection").scrollTop(0),t.addClass("expanded"),t.hasClass("no-animate")||t.addClass("animating").one("animationend.animateSection",(function(){return t.removeClass("animating")}))}function c(e){const t=r()(e);t.find(".js-settings-toggle:not(.js-settings-toggle-trigger-only)").text(Object(a.a)("Expand")),t.find(".settings-content").on("scroll.expandSection",(function(){return i(t)})),t.removeClass("expanded"),t.hasClass("no-animate")||t.addClass("animating").one("animationend.animateSection",(function(){return t.removeClass("animating")}))}function l(){if(r()(".settings").each((function(e,t){const n=r()(t);n.on("click.toggleSection",".js-settings-toggle",(function(){return function(e){e.removeClass("no-animate"),s(e)?c(e):i(e)}(n)})),s(n)||n.find(".settings-content").on("scroll.expandSection",(function(){n.removeClass("no-animate"),i(n)}))})),window.location.hash){const e=r()(window.location.hash);e.length&&e.hasClass("settings")&&i(e)}}},rPnh:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=n("zlPX"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(o.f,"")},a=function(e,t){return e?{innerHTML:e}:t?{textContent:t}:{}}},sjqF:function(e,t){e.exports=function(e,t,n,o){for(var r=e.length,a=n+(o?1:-1);o?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},xsb7:function(e,t,n){"use strict";n.r(t);var o=n("OIxn"),r=n("eoW/");Object(r.a)(),Object(o.a)()}}]);
//# sourceMappingURL=commons-pages.projects.settings.repository.create_deploy_token-pages.projects.settings.repository.show.cdbc4dfd.chunk.js.map