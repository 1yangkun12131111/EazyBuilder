(this.webpackJsonp=this.webpackJsonp||[]).push([[277],{106:function(e,t,n){n("HVBj"),n("gjpc"),e.exports=n("LFaC")},Cx6f:function(e,t,n){(function(e){var t;(t=e).fn.endlessScroll=function(e){e=t.extend({},{bottomPixels:50,fireOnce:!0,loader:"<br />Loading...<br />",data:"",insertAfter:"div:last",resetCounter:function(){return!1},callback:function(){return!0},ceaseFire:function(){return!1}},e);var n,r=!0,i=!1,o=0;!0===e.ceaseFire.apply(this)&&(r=!1),!0===r&&t(this).scroll((function(){if(!0!==e.ceaseFire.apply(this)){if(this==document||this==window)n=t(document).height()-t(window).height()<=t(window).scrollTop()+e.bottomPixels;else{var a=t(".endless_scroll_inner_wrap",this);0==a.length&&(a=t(this).wrapInner('<div class="endless_scroll_inner_wrap" />').find(".endless_scroll_inner_wrap")),n=a.length>0&&a.height()-t(this).height()<=t(this).scrollTop()+e.bottomPixels}n&&(0==e.fireOnce||1==e.fireOnce&&1!=i)&&(!0===e.resetCounter.apply(this)&&(o=0),i=!0,o++,t(e.insertAfter).after('<div id="endless_scroll_loader">'+e.loader+"</div>"),data="function"==typeof e.data?e.data.apply(this,[o]):e.data,!1!==data&&(t(e.insertAfter).after("<div>"+data+"</div>"),e.callback.apply(this,[o]),i=!1),t("#endless_scroll_loader").remove())}else r=!1}))}}).call(this,n("EmJ/"))},FB7y:function(e,t,n){"use strict";n("jaBk"),n("KcQl");var r=n("EmJ/"),i=n.n(r),o=(n("Cx6f"),n("2ibD")),a=n("NmEs"),s=n("3twG");t.a={init(){let{limit:e=0,preload:t=!1,disable:n=!1,prepareData:r=i.a.noop,successCallback:o=i.a.noop,errorCallback:s=i.a.noop,container:c=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.limit=e,this.offset=parseInt(Object(a.p)("offset"),10)||this.limit,this.disable=n,this.prepareData=r,this.successCallback=o,this.errorCallback=s,this.loading=i()("".concat(c," .loading")).first(),t&&(this.offset=0,this.getOld()),this.initLoadMore()},getOld(){var e=this;this.loading.show();const t=i()(".content_list").data("href")||Object(s.w)(["limit","offset"]);o.a.get(t,{params:{limit:this.limit,offset:this.offset}}).then((function(t){let{data:n}=t;e.append(n.count,e.prepareData(n.html)),e.successCallback(),e.disable||e.isScrollable()?e.loading.hide():e.getOld()})).catch((function(t){return e.errorCallback(t)})).finally((function(){return e.loading.hide()}))},append(e,t){i()(".content_list").append(t),e>0?(this.offset+=e,e<this.limit&&(this.disable=!0)):this.disable=!0},isScrollable(){const e=i()(window);return i()(document).height()>e.height()+e.scrollTop()+400},initLoadMore(){var e=this;i()(document).off("scroll"),i()(document).endlessScroll({bottomPixels:400,fireDelay:1e3,fireOnce:!0,ceaseFire:function(){return!0===e.disable},callback:function(){e.loading.is(":visible")||(e.loading.show(),e.getOld())}})}}},GVjJ:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));n("EWC9"),n("gNBD"),n("orcL");var r=n("0AwG");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=function(e){const t=new FormData(e);return function(e){return e.reduce((function(e,t){let{name:n,value:r}=t;return Object.assign(e,{[n]:r})}),{})}(Array.from(t.keys()).map((function(e){let n=t.getAll(e);return{name:e,value:1===(n=n.filter((function(e){return e}))).length?n[0]:n}})))},c=function(e){if(!e)throw new TypeError("`mountEl` argument is required");return[...e.querySelectorAll("[name]")].reduce((function(e,t){const n=t.dataset.jsName;if(!n)return e;const i=Object(r.c)(n),{id:a,placeholder:s,name:c,value:l,type:u,checked:d}=t,h=o({name:c,id:a,value:l},s&&{placeholder:s});return["radio","checkbox"].includes(u)?o(o({},e),{},{[i]:[...e[i]||[],o(o({},h),{},{checked:d})]}):o(o({},e),{},{[i]:h})}),{})}},KcQl:function(e,t,n){"use strict";var r=n("ZfjD"),i=n("PpKG"),o=n("O9kB"),a=n("QmHw"),s=n("OuD2"),c=n("eclS"),l=n("arHL"),u=n("fEQ0");if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&"function"==typeof o){var d=s("Promise").prototype.finally;o.prototype.finally!==d&&u(o.prototype,"finally",d,{unsafe:!0})}},LFaC:function(e,t,n){"use strict";n.r(t);var r=n("XSeh"),i=n("CX32");new r.a,new i.a},XSeh:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("pBsb");var r=n("EmJ/"),i=n.n(r),o=n("06tH"),a=n.n(o),s=n("XRO8"),c=n("/lV4"),l=n("bOix"),u=n("FB7y");class d{constructor(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.containerSelector=t,this.containerEl=this.containerSelector?document.querySelector(this.containerSelector):void 0,this.$contentList=i()(".content_list"),this.loadActivities(),i()(".event-filter-link").on("click",(function(t){t.preventDefault(),e.toggleFilter(t.currentTarget),e.reloadActivities()}))}loadActivities(){var e=this;u.a.init({limit:20,preload:!0,prepareData:function(e){return e},successCallback:function(){return e.updateTooltips()},errorCallback:function(){return Object(s.b)({message:Object(c.e)("Activity|An error occured while retrieving activity. Reload the page to try again."),parent:e.containerEl})},container:this.containerSelector})}updateTooltips(){Object(l.x)(i()(".js-timeago",".content_list"))}reloadActivities(){this.$contentList.html(""),this.loadActivities()}toggleFilter(e){const t=i()(e),n=t.attr("id").split("_")[0];i()(".event-filter .active").removeClass("active"),a.a.set("event_filter",n),t.closest("li").toggleClass("active")}}},ZeWX:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("QifN"),n("pBsb"),n("Ch9p"),n("+xeR"),n("orcL"),n("pETN");var r=n("EmJ/"),i=n.n(r),o=n("06tH"),a=n.n(o);var s=n("m/7A"),c=n("XRO8"),l=n("2ibD"),u=n("GVjJ"),d=n("3twG"),h=n("/lV4"),p=n("k/Fq");class f{constructor(){!function(){const e=i()("ul.clone-options-dropdown");if(e.length){const t=i()("#clone_url"),n=i()(".js-git-clone-holder .js-clone-dropdown-label"),r=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),o=n.text().trim();o.length>0&&i()("a:contains('".concat(o,"')"),e).addClass("is-active"),i()("a",e).on("click",(function(n){const o=i()(n.currentTarget),a=o.attr("href");if(a&&(a.startsWith("vscode://")||a.startsWith("xcode://")))return;n.preventDefault();const s=o.data("cloneType");i()(".is-active",e).removeClass("is-active"),i()('a[data-clone-type="'.concat(s,'"]')).each((function(){const e=i()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".js-git-clone-holder, .js-mobile-git-clone").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)})),r?r.dataset.clipboardText=a:t.val(a),i()(".js-git-empty .js-clone").text(a)}))}}(),document.querySelector(".js-project-refs-dropdown")&&(f.initRefSwitcher(),i()(".project-refs-select").on("change",(function(){return i()(this).parents("form").trigger("submit")}))),i()(".hide-no-ssh-message").on("click",(function(e){return a.a.set("hide_no_ssh_message","false"),i()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()})),i()(".hide-no-password-message").on("click",(function(e){return a.a.set("hide_no_password_message","false"),i()(this).parents(".no-password-message").remove(),e.preventDefault()})),i()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(e){const t=i()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return a.a.set(n,"false"),i()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()})),f.projectSelectDropdown()}static projectSelectDropdown(){Object(p.a)(),i()(".project-item-select").on("click",(function(e){return f.changeProject(i()(e.currentTarget).val())}))}static changeProject(e){return window.location=e}static initRefSwitcher(){const e=document.createElement("li"),t=document.createElement("a");return t.href="#",i()(".js-project-refs-dropdown").each((function(){const n=i()(this),r=n.data("selected"),o=n.data("fieldName"),a=Boolean(n.data("visit")),p=n.closest("form"),f=p.attr("action"),g=Object(d.q)(Object(u.b)(p[0]),f);return Object(s.a)(n,{data(e,t){l.a.get(n.data("refsUrl"),{params:{ref:n.data("ref"),search:e}}).then((function(e){let{data:n}=e;return t(n)})).catch((function(){return Object(c.c)(Object(h.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:n.data("inputFieldName"),fieldName:o,renderRow(n){const i=e.cloneNode(!1),s=t.cloneNode(!1);return n===r&&(s.className="is-active"),s.textContent=n,s.dataset.ref=n,n.length>0&&a&&(s.href=Object(d.q)({[o]:n},g)),i.appendChild(s),i},id:(e,t)=>t.attr("data-ref"),toggleLabel:(e,t)=>t.text().trim(),clicked(e){const{e:t}=e;if(t.preventDefault(),a){const e=new URL(t.target.href),r=window.location.href;if(r.includes("/-/")){const t=n.data("ref"),i=r.split(t)[1];if(null==i?void 0:i.startsWith("/")){const t=null==i?void 0:i.slice(1).split("#")[0];e.searchParams.set("path",t),e.hash=window.location.hash}}t.metaKey?window.open(e.href,"_blank"):window.location.href=e.href}}})}))}}},gNBD:function(e,t,n){var r=n("ZfjD"),i=n("H81m"),o=n("b05b");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},gjpc:function(e,t,n){"use strict";n.r(t);var r=n("CX32");new(n("ZeWX").a),new r.a},"k/Fq":function(e,t,n){"use strict";n("jaBk");var r=n("EmJ/"),i=n.n(r),o=n("qPgm"),a=n("qnJZ"),s=n("/lV4"),c=(n("pBsb"),n("n7CP"));class l{constructor(e){this.projectSelectInput=i()(e),this.newItemBtn=i()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}bindEvents(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}initLocalStorage(){c.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}openDropdown(e){n.e(443).then(n.t.bind(null,"p9g0",7)).then((function(){Object(a.a)(gon.select2_css_path).then((function(){i()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))})).catch((function(){}))}selectProject(){const e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}setBtnTextFromLocalStorage(){const e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}setNewItemBtnAttributes(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}getProjectFromLocalStorage(){const e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}setProjectInLocalStorage(e){const t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}deriveTextVariants(){const e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}const u=function(){Object(a.a)(gon.select2_css_path).then((function(){i()(".ajax-project-select").each((function(e,t){var n=this;let r;const a=i()(t).data("simpleFilter")||!1,c=i()(t).data("select2");return this.groupId=i()(t).data("groupId"),this.userId=i()(t).data("userId"),this.includeGroups=i()(t).data("includeGroups"),this.allProjects=i()(t).data("allProjects")||!1,this.orderBy=i()(t).data("orderBy")||"id",this.withIssuesEnabled=i()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=i()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===i()(t).data("withShared")||i()(t).data("withShared"),this.includeProjectsInSubgroups=i()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=i()(t).data("allowClear")||!1,r=Object(s.e)("ProjectSelect|Search for project"),this.includeGroups&&(r+=Object(s.e)("ProjectSelect| or group")),i()(t).select2({placeholder:r,minimumInputLength:0,query:function(e){let t;const r=function(t){const n={results:t};return e.callback(n)};return t=n.includeGroups?function(t){return o.a.groups(e.term,{},(function(e){const n=e.concat(t);return r(n)}))}:r,n.groupId?o.a.groupProjects(n.groupId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups,order_by:"similarity",simple:!0},t):n.userId?o.a.userProjects(n.userId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},t):o.a.projects(e.term,{order_by:n.orderBy,with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,membership:!n.allProjects},t)},id:e=>a?e.id:JSON.stringify({name:e.name,url:e.web_url}),text:e=>e.name_with_namespace||e.name,initSelection:(e,t)=>o.a.project(e.val()).then((function(e){let{data:n}=e;return t(n)})),allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),c||a?t:new l(t)}))})).catch((function(){}))};t.a=function(){i()(".ajax-project-select").length&&n.e(443).then(n.t.bind(null,"p9g0",7)).then(u).catch((function(){}))}}},[[106,1,0,2,3,4,5]]]);
//# sourceMappingURL=pages.projects.activity.2210ef58.chunk.js.map