(this.webpackJsonp=this.webpackJsonp||[]).push([[458],{DUqM:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"groupMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"state"}},type:{kind:"NamedType",name:{kind:"Name",value:"MilestoneStateEnum"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAncestors"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTitle"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"Variable",name:{kind:"Name",value:"state"}}},{kind:"Argument",name:{kind:"Name",value:"includeAncestors"},value:{kind:"Variable",name:{kind:"Name",value:"includeAncestors"}}},{kind:"Argument",name:{kind:"Name",value:"searchTitle"},value:{kind:"Variable",name:{kind:"Name",value:"searchTitle"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:342}};n.loc.source={body:"query groupMilestones(\n  $fullPath: ID!\n  $state: MilestoneStateEnum\n  $includeAncestors: Boolean\n  $searchTitle: String\n) {\n  project(fullPath: $fullPath) {\n    milestones(state: $state, includeAncestors: $includeAncestors, searchTitle: $searchTitle) {\n      edges {\n        node {\n          id\n          title\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.groupMilestones=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"groupMilestones")},F6ad:function(e,t,n){"use strict";var i=n("Q78f"),a=n("Pyw5"),r=n.n(a);const s={components:{BForm:i.a},inheritAttrs:!1};const o=r()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-form",this._g(this._b({},"b-form",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},N50s:function(e,t,n){"use strict";var i=n("Q33P"),a=n.n(i),r=n("XBTk"),s=n("4lAS"),o=n("Pyw5"),l=n.n(o);const c={components:{GlButton:s.a},props:{open:{type:Boolean,required:!0},headerHeight:{type:String,required:!1,default:""},zIndex:{type:Number,required:!1,default:r.r}},computed:{positionFromTop:function(){return a()(this.headerHeight)?0:this.headerHeight},drawerStyles:function(){var e={top:this.positionFromTop,zIndex:this.zIndex};return this.positionFromTop&&(e.maxHeight="calc(100vh - ".concat(this.positionFromTop,")")),e}},watch:{open:{immediate:!0,handler:function(e){e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape)}}},beforeDestroy:function(){document.removeEventListener("keydown",this.handleEscape)},methods:{handleEscape:function(e){this.open&&27===e.keyCode&&this.$emit("close")}}};const d=l()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"gl-drawer"}},[e.open?n("aside",{staticClass:"gl-drawer",style:e.drawerStyles},[n("div",{staticClass:"gl-drawer-header"},[n("span",[e._t("header")],2),e._v(" "),n("gl-button",{staticClass:"gl-drawer-close-button",attrs:{category:"tertiary",size:"small",icon:"close","aria-label":"Close drawer"},on:{click:function(t){return e.$emit("close")}}})],1),e._v(" "),n("div",{staticClass:"gl-drawer-body"},[e._t("default")],2)]):e._e()])},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},QoCM:function(e,t,n){"use strict";n("dBIp")},VNgF:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var a=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[n].concat(r).concat([a]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},a=0;a<this.length;a++){var r=this[a][0];null!=r&&(i[r]=!0)}for(a=0;a<e.length;a++){var s=e[a];null!=s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},YkPR:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\n * This can be removed after closing:\n * https://gitlab.com/gitlab-org/gitlab-ui/-/issues/1048\n */\n.board-sidebar-due-date .gl-datepicker,\n.board-sidebar-due-date .gl-datepicker-input {\n  width: 100%;\n}\n",""])},aKbY:function(e,t,n){"use strict";t.a={inserted(e){"IntersectionObserver"in window&&(e.visibilityObserver=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&e.target.offsetParent&&e.target.focus()}))})),e.visibilityObserver.observe(e,{root:document.documentElement}))},unbind(e){e.visibilityObserver&&e.visibilityObserver.disconnect()}}},dBIp:function(e,t,n){var i=n("YkPR");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("0257f0d8",i,!0,{})},lw1g:function(e,t,n){"use strict";n.r(t);n("jaBk"),n("pBsb");var i=n("N50s"),a=n("yi8e"),r=n("4lAS"),s=n("vZ/O"),o=n("FkSe"),l={components:{GlButton:r.a,GlLoadingIcon:o.a},inject:["canUpdate"],props:{title:{type:String,required:!1,default:""},loading:{type:Boolean,required:!1,default:!1},toggleHeader:{type:Boolean,required:!1,default:!1},handleOffClick:{type:Boolean,required:!1,default:!0}},data:()=>({edit:!1}),computed:{showHeader(){return!this.toggleHeader||!this.edit}},destroyed(){window.removeEventListener("click",this.collapseWhenOffClick)},methods:{collapseWhenOffClick(e){let{target:t}=e;this.$el.contains(t)||(this.$emit("off-click"),this.handleOffClick&&this.collapse())},expand(){this.edit||(this.edit=!0,this.$emit("open"),window.addEventListener("click",this.collapseWhenOffClick))},collapse(){let{emitEvent:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.edit&&(this.edit=!1,e&&this.$emit("close"),window.removeEventListener("click",this.collapseWhenOffClick))},toggle(){let{emitEvent:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.edit?this.collapse({emitEvent:e}):this.expand()}}},c=n("tBpV"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header",{directives:[{name:"show",rawName:"v-show",value:e.showHeader,expression:"showHeader"}],staticClass:"gl-display-flex gl-justify-content-space-between gl-align-items-flex-start gl-mb-3"},[n("span",{staticClass:"gl-vertical-align-middle"},[e._t("title",[n("span",{attrs:{"data-testid":"title"}},[e._v(e._s(e.title))])]),e._v(" "),e.loading?n("gl-loading-icon",{staticClass:"gl-ml-2",attrs:{inline:""}}):e._e()],2),e._v(" "),e.canUpdate?n("gl-button",{staticClass:"gl-text-gray-900! gl-ml-5 js-sidebar-dropdown-toggle edit-link",attrs:{variant:"link","data-testid":"edit-button"},on:{click:e.toggle}},[e._v("\n      "+e._s(e.__("Edit"))+"\n    ")]):e._e()],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}],staticClass:"gl-text-gray-500 value",attrs:{"data-testid":"collapsed-content"}},[e._t("collapsed",[e._v(e._s(e.__("None")))])],2),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],attrs:{"data-testid":"expanded-content"}},[e._t("default",null,{edit:e.edit})],2)])}),[],!1,null,null,null).exports,u=n("XRO8"),p=n("bOix"),h=n("/lV4");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={components:{BoardEditableItem:d,GlButton:r.a,GlDatepicker:s.a},data:()=>({loading:!1}),computed:f(f({},Object(a.d)(["activeBoardItem","projectPathForActiveIssue"])),{},{hasDueDate(){return null!=this.activeBoardItem.dueDate},parsedDueDate(){return this.hasDueDate?Object(p.z)(this.activeBoardItem.dueDate):null},formattedDueDate(){return this.hasDueDate?Object(p.d)(this.parsedDueDate,!0):""}}),methods:f(f({},Object(a.c)(["setActiveIssueDueDate"])),{},{async openDatePicker(){await this.$nextTick(),this.$refs.datePicker.calendar.show()},async setDueDate(e){this.loading=!0,this.$refs.sidebarItem.collapse();try{const t=e?Object(p.h)(e,"yyyy-mm-dd"):null;await this.setActiveIssueDueDate({dueDate:t,projectPath:this.projectPathForActiveIssue})}catch(e){Object(u.b)({message:this.$options.i18n.updateDueDateError})}finally{this.loading=!1}}}),i18n:{dueDate:Object(h.a)("Due date"),removeDueDate:Object(h.a)("remove due date"),updateDueDateError:Object(h.a)("An error occurred when updating the issue due date")}},g=(n("QoCM"),Object(c.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("board-editable-item",{ref:"sidebarItem",staticClass:"board-sidebar-due-date",attrs:{"data-testid":"sidebar-due-date",title:e.$options.i18n.dueDate,loading:e.loading},on:{open:e.openDatePicker},scopedSlots:e._u([e.hasDueDate?{key:"collapsed",fn:function(){return[n("div",{staticClass:"gl-display-flex gl-align-items-center"},[n("strong",{staticClass:"gl-text-gray-900"},[e._v(e._s(e.formattedDueDate))]),e._v(" "),n("span",{staticClass:"gl-mx-2"},[e._v("-")]),e._v(" "),n("gl-button",{staticClass:"gl-text-gray-500!",attrs:{variant:"link","data-testid":"reset-button",disabled:e.loading},on:{click:function(t){return e.setDueDate(null)}}},[e._v("\n        "+e._s(e.$options.i18n.removeDueDate)+"\n      ")])],1)]},proxy:!0}:null],null,!0)},[e._v(" "),n("gl-datepicker",{ref:"datePicker",attrs:{value:e.parsedDueDate,"show-clear-button":""},on:{input:e.setDueDate,clear:function(t){return e.setDueDate(null)}}})],1)}),[],!1,null,null,null).exports),y=(n("S26F"),n("jl6Z")),O=n("qPgm"),w=n("FxFN"),j=n("NmEs"),k=n("3twG");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={components:{BoardEditableItem:d,LabelsSelect:n("TM1k").a,GlLabel:y.a},inject:{labelsFetchPath:{default:null},labelsManagePath:{},labelsFilterBasePath:{}},data:()=>({loading:!1}),computed:_(_({},Object(a.d)(["activeBoardItem","projectPathForActiveIssue"])),{},{selectedLabels(){const{labels:e=[]}=this.activeBoardItem;return e.map((function(e){return _(_({},e),{},{id:Object(w.e)(e.id)})}))},issueLabels(){const{labels:e=[]}=this.activeBoardItem;return e.map((function(e){return _(_({},e),{},{scoped:Object(j.H)(e)})}))},fetchPath(){const e=Object(k.q)({include_ancestor_groups:!0},O.a.buildUrl(O.a.projectLabelsPath).replace(":namespace_path/:project_path",this.projectPathForActiveIssue));return this.labelsFetchPath||e}}),methods:_(_({},Object(a.c)(["setActiveBoardItemLabels"])),{},{async setLabels(e){this.loading=!0,this.$refs.sidebarItem.collapse();try{const t={addLabelIds:e.filter((function(e){return e.set})).map((function(e){return e.id})),removeLabelIds:this.selectedLabels.filter((function(t){return!e.find((function(e){return e.id===t.id}))})).map((function(e){return e.id})),projectPath:this.projectPathForActiveIssue};await this.setActiveBoardItemLabels(t)}catch(e){Object(u.b)({message:Object(h.a)("An error occurred while updating labels.")})}finally{this.loading=!1}},async removeLabel(e){this.loading=!0;try{const t={removeLabelIds:[Object(w.e)(e)],projectPath:this.projectPathForActiveIssue};await this.setActiveBoardItemLabels(t)}catch(e){Object(u.b)({message:Object(h.a)("An error occurred when removing the label.")})}finally{this.loading=!1}}})},D=Object(c.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("board-editable-item",{ref:"sidebarItem",attrs:{title:e.__("Labels"),loading:e.loading,"data-testid":"sidebar-labels"},scopedSlots:e._u([{key:"collapsed",fn:function(){return e._l(e.issueLabels,(function(t){return n("gl-label",{key:t.id,staticClass:"gl-mr-2 gl-mb-2",attrs:{"background-color":t.color,title:t.title,description:t.description,scoped:t.scoped,"show-close-button":!0,disabled:e.loading},on:{close:function(n){return e.removeLabel(t.id)}}})}))},proxy:!0},{key:"default",fn:function(t){var i=t.edit;return[n("labels-select",{key:e.fetchPath,ref:"labelsSelect",staticClass:"gl-display-block labels gl-w-full",attrs:{"allow-label-edit":!1,"allow-label-create":!1,"allow-multiselect":!0,"allow-scoped-labels":!0,"selected-labels":e.selectedLabels,"labels-fetch-path":e.fetchPath,"labels-manage-path":e.labelsManagePath,"labels-filter-base-path":e.labelsFilterBasePath,"labels-list-title":e.__("Select label"),"dropdown-button-text":e.__("Choose labels"),"is-editing":i,variant:"embedded"},on:{updateSelectedLabels:e.setLabels}},[e._v("\n      "+e._s(e.__("None"))+"\n    ")])]}}])})}),[],!1,null,null,null).exports,C=n("Yyc1"),B=n("wP8z"),E=n("LkaW"),A=n("iN9h"),T=n("koWC"),x=n("DUqM"),N=n.n(x);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={components:{BoardEditableItem:d,GlDropdown:C.a,GlLoadingIcon:o.a,GlDropdownItem:B.a,GlDropdownText:E.a,GlSearchBoxByType:A.a,GlDropdownDivider:T.a},data:()=>({milestones:[],searchTitle:"",loading:!1,edit:!1}),apollo:{milestones:{query:N.a,debounce:250,skip(){return!this.edit},variables(){return{fullPath:this.projectPath,searchTitle:this.searchTitle,state:"active",includeAncestors:!0}},update(e){var t,n,i;return(null!==(t=null==e?void 0:null===(n=e.project)||void 0===n?void 0:null===(i=n.milestones)||void 0===i?void 0:i.edges)&&void 0!==t?t:[]).map((function(e){return e.node}))},error(){Object(u.b)({message:this.$options.i18n.fetchMilestonesError})}}},computed:F(F({},Object(a.d)(["activeBoardItem"])),{},{hasMilestone(){return null!==this.activeBoardItem.milestone},groupFullPath(){const{referencePath:e=""}=this.activeBoardItem;return e.slice(0,e.indexOf("/"))},projectPath(){const{referencePath:e=""}=this.activeBoardItem;return e.slice(0,e.indexOf("#"))},dropdownText(){var e,t;return null!==(e=null===(t=this.activeBoardItem.milestone)||void 0===t?void 0:t.title)&&void 0!==e?e:this.$options.i18n.noMilestone}}),methods:F(F({},Object(a.c)(["setActiveIssueMilestone"])),{},{handleOpen(){this.edit=!0,this.$refs.dropdown.show()},handleClose(){this.edit=!1,this.$refs.sidebarItem.collapse()},async setMilestone(e){this.loading=!0,this.searchTitle="",this.handleClose();try{const t={milestoneId:e,projectPath:this.projectPath};await this.setActiveIssueMilestone(t)}catch(e){Object(u.b)({message:this.$options.i18n.updateMilestoneError})}finally{this.loading=!1}}}),i18n:{milestone:Object(h.a)("Milestone"),noMilestone:Object(h.a)("No milestone"),assignMilestone:Object(h.a)("Assign milestone"),noMilestonesFound:Object(h.e)("Milestones|No milestones found"),fetchMilestonesError:Object(h.a)("There was a problem fetching milestones."),updateMilestoneError:Object(h.a)("An error occurred while updating the milestone.")}},G=Object(c.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("board-editable-item",{ref:"sidebarItem",attrs:{title:e.$options.i18n.milestone,loading:e.loading,"data-testid":"sidebar-milestones"},on:{open:e.handleOpen,close:e.handleClose},scopedSlots:e._u([e.hasMilestone?{key:"collapsed",fn:function(){return[n("strong",{staticClass:"gl-text-gray-900"},[e._v(e._s(e.activeBoardItem.milestone.title))])]},proxy:!0}:null],null,!0)},[e._v(" "),n("gl-dropdown",{ref:"dropdown",attrs:{text:e.dropdownText,"header-text":e.$options.i18n.assignMilestone,block:""},on:{hide:e.handleClose}},[n("gl-search-box-by-type",{ref:"search",staticClass:"gl-m-3",model:{value:e.searchTitle,callback:function(t){e.searchTitle="string"==typeof t?t.trim():t},expression:"searchTitle"}}),e._v(" "),n("gl-dropdown-item",{attrs:{"data-testid":"no-milestone-item","is-check-item":!0,"is-checked":!e.activeBoardItem.milestone},on:{click:function(t){return e.setMilestone(null)}}},[e._v("\n      "+e._s(e.$options.i18n.noMilestone)+"\n    ")]),e._v(" "),n("gl-dropdown-divider"),e._v(" "),e.$apollo.loading?n("gl-loading-icon",{staticClass:"gl-py-4"}):e.milestones.length>0?e._l(e.milestones,(function(t){return n("gl-dropdown-item",{key:t.id,attrs:{"is-check-item":!0,"is-checked":e.activeBoardItem.milestone&&t.id===e.activeBoardItem.milestone.id,"data-testid":"milestone-item"},on:{click:function(n){return e.setMilestone(t.id)}}},[e._v("\n        "+e._s(t.title)+"\n      ")])})):n("gl-dropdown-text",{attrs:{"data-testid":"no-milestones-found"}},[e._v("\n      "+e._s(e.$options.i18n.noMilestonesFound)+"\n    ")])],2)],1)}),[],!1,null,null,null).exports;function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U={components:{IssuableTimeTracker:n("tyhI").a},inject:["timeTrackingLimitToHours"],computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(a.d)(["activeBoardItem"]))},H=Object(c.a)(U,(function(){var e=this.$createElement;return(this._self._c||e)("issuable-time-tracker",{attrs:{"time-estimate":this.activeBoardItem.timeEstimate,"time-spent":this.activeBoardItem.totalTimeSpent,"human-time-estimate":this.activeBoardItem.humanTimeEstimate,"human-time-spent":this.activeBoardItem.humanTotalTimeSpent,"limit-to-hours":this.timeTrackingLimitToHours,"show-collapsed":!1}})}),[],!1,null,null,null).exports,R=n("F6ad"),W=n("dsWN"),K=n("l5WF"),z=n("PrLL"),Y=n("aKbY");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={components:{GlForm:R.a,GlAlert:W.a,GlButton:r.a,GlFormGroup:K.a,GlFormInput:z.a,BoardEditableItem:d},directives:{autofocusonshow:Y.a},data:()=>({title:"",loading:!1,showChangesAlert:!1}),computed:Q(Q({},Object(a.d)({item:"activeBoardItem"})),{},{pendingChangesStorageKey(){return this.getPendingChangesKey(this.item)},projectPath(){const e=this.item.referencePath||"";return e.slice(0,e.indexOf("#"))},validationState(){return Boolean(this.title)}}),watch:{item:{handler(e,t){(null==t?void 0:t.title)!==this.title&&localStorage.setItem(this.getPendingChangesKey(t),this.title),this.title=e.title,this.setPendingState()},immediate:!0}},methods:Q(Q({},Object(a.c)(["setActiveItemTitle"])),{},{getPendingChangesKey:e=>e?Object(k.p)(window.location.pathname.slice(1),String(e.id),"item-title-pending-changes"):"",async setPendingState(){const e=localStorage.getItem(this.pendingChangesStorageKey);e?(this.title=e,this.showChangesAlert=!0,await this.$nextTick(),this.$refs.sidebarItem.expand()):this.showChangesAlert=!1},cancel(){this.title=this.item.title,this.$refs.sidebarItem.collapse(),this.showChangesAlert=!1,localStorage.removeItem(this.pendingChangesStorageKey)},async setTitle(){if(this.$refs.sidebarItem.collapse(),this.title&&this.title!==this.item.title)try{this.loading=!0,await this.setActiveItemTitle({title:this.title,projectPath:this.projectPath}),localStorage.removeItem(this.pendingChangesStorageKey),this.showChangesAlert=!1}catch(e){this.title=this.item.title,Object(u.b)({message:this.$options.i18n.updateTitleError})}finally{this.loading=!1}},handleOffClick(){this.title!==this.item.title?(this.showChangesAlert=!0,localStorage.setItem(this.pendingChangesStorageKey,this.title)):this.$refs.sidebarItem.collapse()}}),i18n:{titlePlaceholder:Object(h.a)("Title"),submitButton:Object(h.a)("Save changes"),cancelButton:Object(h.a)("Cancel"),updateTitleError:Object(h.a)("An error occurred when updating the title"),invalidFeedback:Object(h.a)("A title is required"),reviewYourChanges:Object(h.a)("Changes to the title have not been saved")}},ee=Object(c.a)(Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("board-editable-item",{ref:"sidebarItem",attrs:{"toggle-header":"",loading:e.loading,"handle-off-click":!1},on:{"off-click":e.handleOffClick},scopedSlots:e._u([{key:"title",fn:function(){return[n("span",{staticClass:"gl-font-weight-bold",attrs:{"data-testid":"item-title"}},[e._v(e._s(e.item.title))])]},proxy:!0},{key:"collapsed",fn:function(){return[n("span",{staticClass:"gl-text-gray-800"},[e._v(e._s(e.item.referencePath))])]},proxy:!0}])},[e._v(" "),e._v(" "),e.showChangesAlert?n("gl-alert",{staticClass:"gl-mb-5",attrs:{variant:"warning",dismissible:!1}},[e._v("\n    "+e._s(e.$options.i18n.reviewYourChanges)+"\n  ")]):e._e(),e._v(" "),n("gl-form",{on:{submit:function(t){return t.preventDefault(),e.setTitle(t)}}},[n("gl-form-group",{attrs:{"invalid-feedback":e.$options.i18n.invalidFeedback,state:e.validationState}},[n("gl-form-input",{directives:[{name:"autofocusonshow",rawName:"v-autofocusonshow"}],attrs:{placeholder:e.$options.i18n.titlePlaceholder,state:e.validationState},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),e._v(" "),n("div",{staticClass:"gl-display-flex gl-w-full gl-justify-content-space-between gl-mt-5"},[n("gl-button",{attrs:{variant:"success",size:"small","data-testid":"submit-button",disabled:!e.title},on:{click:e.setTitle}},[e._v("\n        "+e._s(e.$options.i18n.submitButton)+"\n      ")]),e._v(" "),n("gl-button",{attrs:{size:"small","data-testid":"cancel-button"},on:{click:e.cancel}},[e._v("\n        "+e._s(e.$options.i18n.cancelButton)+"\n      ")])],1)],1)],1)}),[],!1,null,null,null).exports,te=n("7Aw+"),ne=n("lUJc"),ie=n("dR/i"),ae=n("uSO3");function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le={headerHeight:"".concat(Object(j.f)(),"px"),components:{GlDrawer:i.a,BoardSidebarTitle:ee,SidebarAssigneesWidget:ne.a,SidebarConfidentialityWidget:ie.b,BoardSidebarTimeTracker:H,BoardSidebarLabelsSelect:D,BoardSidebarDueDate:g,SidebarSubscriptionsWidget:ae.a,BoardSidebarMilestoneSelect:G,BoardSidebarEpicSelect:function(){return n.e(8).then(n.bind(null,"4b03"))},BoardSidebarWeightInput:function(){return n.e(8).then(n.bind(null,"4b03"))},SidebarIterationWidget:function(){return n.e(8).then(n.bind(null,"4b03"))}},inject:{multipleAssigneesFeatureAvailable:{default:!1},epicFeatureAvailable:{default:!1},iterationFeatureAvailable:{default:!1},weightFeatureAvailable:{default:!1}},computed:se(se(se({},Object(a.d)(["isSidebarOpen","activeBoardItem","groupPathForActiveIssue","projectPathForActiveIssue"])),Object(a.f)(["sidebarType","issuableType"])),{},{isIssuableSidebar(){return this.sidebarType===te.c},showSidebar(){return this.isIssuableSidebar&&this.isSidebarOpen},fullPath(){var e,t;return(null===(e=this.activeBoardItem)||void 0===e?void 0:null===(t=e.referencePath)||void 0===t?void 0:t.split("#")[0])||""}}),methods:se(se({},Object(a.c)(["toggleBoardItem","setAssignees","setActiveItemConfidential"])),{},{handleClose(){this.toggleBoardItem({boardItem:this.activeBoardItem,sidebarType:this.sidebarType})}})},ce=Object(c.a)(le,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showSidebar?n("gl-drawer",{attrs:{open:e.isSidebarOpen,"header-height":e.$options.headerHeight},on:{close:e.handleClose},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(e._s(e.__("Issue details")))]},proxy:!0},{key:"default",fn:function(){return[n("board-sidebar-title"),e._v(" "),n("sidebar-assignees-widget",{attrs:{iid:e.activeBoardItem.iid,"full-path":e.fullPath,"initial-assignees":e.activeBoardItem.assignees,"allow-multiple-assignees":e.multipleAssigneesFeatureAvailable},on:{"assignees-updated":e.setAssignees}}),e._v(" "),e.epicFeatureAvailable?n("board-sidebar-epic-select",{staticClass:"epic"}):e._e(),e._v(" "),n("div",[n("board-sidebar-milestone-select"),e._v(" "),e.iterationFeatureAvailable?n("sidebar-iteration-widget",{staticClass:"gl-mt-5",attrs:{iid:e.activeBoardItem.iid,"workspace-path":e.projectPathForActiveIssue,"iterations-workspace-path":e.groupPathForActiveIssue,"issuable-type":e.issuableType}}):e._e()],1),e._v(" "),n("board-sidebar-time-tracker",{staticClass:"swimlanes-sidebar-time-tracker"}),e._v(" "),n("board-sidebar-due-date"),e._v(" "),n("board-sidebar-labels-select",{staticClass:"labels"}),e._v(" "),e.weightFeatureAvailable?n("board-sidebar-weight-input",{staticClass:"weight"}):e._e(),e._v(" "),n("sidebar-confidentiality-widget",{attrs:{iid:e.activeBoardItem.iid,"full-path":e.fullPath,"issuable-type":e.issuableType},on:{confidentialityUpdated:function(t){return e.setActiveItemConfidential(t)}}}),e._v(" "),n("sidebar-subscriptions-widget",{attrs:{iid:e.activeBoardItem.iid,"full-path":e.fullPath,"issuable-type":e.issuableType,"data-testid":"sidebar-notifications"}})]},proxy:!0}],null,!1,692800572)}):e._e()}),[],!1,null,null,null);t.default=ce.exports},qic4:function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},a=0;a<t.length;a++){var r=t[a],s=r[0],o={id:e+":"+a,css:r[1],media:r[2],sourceMap:r[3]};i[s]?i[s].parts.push(o):n.push(i[s]={id:s,parts:[o]})}return n}n.r(t),n.d(t,"default",(function(){return b}));var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},s=a&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,d=function(){},u=null,p="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function b(e,t,n,a){c=n,u=a||{};var s=i(e,t);return f(s),function(t){for(var n=[],a=0;a<s.length;a++){var o=s[a];(l=r[o.id]).refs--,n.push(l)}t?f(s=i(e,t)):s=[];for(a=0;a<n.length;a++){var l;if(0===(l=n[a]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],i=r[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(v(n.parts[a]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(v(n.parts[a]));r[n.id]={id:n.id,refs:1,parts:s}}}}function m(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function v(e){var t,n,i=document.querySelector("style["+p+'~="'+e.id+'"]');if(i){if(c)return d;i.parentNode.removeChild(i)}if(h){var a=l++;i=o||(o=m()),t=O.bind(null,i,a,!1),n=O.bind(null,i,a,!0)}else i=m(),t=w.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var g,y=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function O(e,t,n,i){var a=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,a);else{var r=document.createTextNode(a),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function w(e,t){var n=t.css,i=t.media,a=t.sourceMap;if(i&&e.setAttribute("media",i),u.ssrId&&e.setAttribute(p,t.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}}]);
//# sourceMappingURL=458.56dc3e47.chunk.js.map