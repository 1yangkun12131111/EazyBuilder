(this.webpackJsonp=this.webpackJsonp||[]).push([[127],{"5QKO":function(e,t,n){"use strict";var i=n("bOix");t.a={methods:{timeFormatted:e=>Object(i.r)().format(e),tooltipTitle:e=>Object(i.h)(e),durationTimeFormatted(e){const t=new Date(1e3*e);let n=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getSeconds();return n<10&&(n="0".concat(n)),i<10&&(i="0".concat(i)),a<10&&(a="0".concat(a)),"".concat(n,":").concat(i,":").concat(a)}}}},"6T0+":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("0zRR"),a=n("/Szx"),r=n("lgrP"),o={tag:{type:String,default:"div"}},s=a.a.extend({name:i.X,functional:!0,props:o,render:function(e,t){var n=t.props,i=t.data,a=t.children;return e(n.tag,Object(r.a)(i,{staticClass:"input-group-text"}),a)}})},"Fsq/":function(e,t,n){"use strict";var i=n("LLbv"),a=n("5QKO"),r=(n("bOix"),{directives:{GlTooltip:i.a},mixins:[a.a],props:{time:{type:[String,Number],required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}},computed:{timeAgo(){return this.timeFormatted(this.time)}}}),o=n("tBpV"),s=Object(o.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:e.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:e.cssClass,attrs:{title:e.tooltipTitle(e.time),datetime:e.time}},[e._t("default",[e._v(e._s(e.timeAgo))],{timeAgo:e.timeAgo})],2)}),[],!1,null,null,null);t.a=s.exports},GJe1:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CanCreatePersonalSnippet"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createSnippet"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:135}};n.loc.source={body:"query CanCreatePersonalSnippet {\n  currentUser {\n    __typename\n    userPermissions {\n      __typename\n      createSnippet\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CanCreatePersonalSnippet=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"CanCreatePersonalSnippet")},Hszc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SnippetBlobContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ids"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"rich"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paths"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"snippets"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"ids"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blobs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paths"},value:{kind:"Variable",name:{kind:"Name",value:"paths"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"richData"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"rich"}}}]}]},{kind:"Field",name:{kind:"Name",value:"plainData"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"rich"}}}]}]}]}}]}}]}}]}}]}}],loc:{start:0,end:359}};n.loc.source={body:"query SnippetBlobContent($ids: [ID!], $rich: Boolean!, $paths: [String!]) {\n  snippets(ids: $ids) {\n    __typename\n    nodes {\n      __typename\n      id\n      blobs(paths: $paths) {\n        __typename\n        nodes {\n          __typename\n          path\n          richData @include(if: $rich)\n          plainData @skip(if: $rich)\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SnippetBlobContent=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SnippetBlobContent")},L9rd:function(e,t,n){"use strict";var i=n("/ode"),a=n("W0S0"),r=n("jcRP"),o=n("FkSe"),s=n("i1z4"),l=n("0ch9"),c=n("lnTC"),d=n("hc6m"),p=n("Yyc1"),u=n("arQV"),m=n("Lb36"),f=n("4lAS"),v=n("LLbv"),b=n("3twG"),h=n("/lV4"),g={components:{GlDropdown:p.a,GlDropdownSectionHeader:u.a,GlFormInputGroup:m.a,GlButton:f.a},directives:{GlTooltip:v.a},props:{sshLink:{type:String,required:!1,default:""},httpLink:{type:String,required:!1,default:""}},computed:{httpLabel(){var e;const t=this.httpLink?null===(e=Object(b.e)(this.httpLink))||void 0===e?void 0:e.toUpperCase():"";return Object(h.f)(Object(h.a)("Clone with %{protocol}"),{protocol:t})}},labels:{defaultLabel:Object(h.a)("Clone"),ssh:Object(h.a)("Clone with SSH")},copyURLTooltip:Object(h.a)("Copy URL")},y=n("tBpV"),k=Object(y.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{attrs:{right:"",text:e.$options.labels.defaultLabel,category:"primary",variant:"info"}},[n("div",{staticClass:"pb-2 mx-1"},[e.sshLink?[n("gl-dropdown-section-header",[e._v(e._s(e.$options.labels.ssh))]),e._v(" "),n("div",{staticClass:"mx-3"},[n("gl-form-input-group",{attrs:{value:e.sshLink,readonly:"","select-on-click":""},scopedSlots:e._u([{key:"append",fn:function(){return[n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-inline-flex",attrs:{title:e.$options.copyURLTooltip,"aria-label":e.$options.copyURLTooltip,"data-clipboard-text":e.sshLink,"data-qa-selector":"copy_ssh_url_button",icon:"copy-to-clipboard"}})]},proxy:!0}],null,!1,1498226477)})],1)]:e._e(),e._v(" "),e.httpLink?[n("gl-dropdown-section-header",[e._v(e._s(e.httpLabel))]),e._v(" "),n("div",{staticClass:"mx-3"},[n("gl-form-input-group",{attrs:{value:e.httpLink,readonly:"","select-on-click":""},scopedSlots:e._u([{key:"append",fn:function(){return[n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-inline-flex",attrs:{title:e.$options.copyURLTooltip,"aria-label":e.$options.copyURLTooltip,"data-clipboard-text":e.httpLink,"data-qa-selector":"copy_http_url_button",icon:"copy-to-clipboard"}})]},proxy:!0}],null,!1,437631181)})],1)]:e._e()],2)])}),[],!1,null,null,null).exports,_=n("rDIo"),S=n("3RPR"),O=n("G3fq"),w=n.n(O),j=n("LkaW");const C=Object(h.a)("Embed"),D=Object(h.a)("Share"),N=Object(h.a)("Copy");var P={components:{GlButton:f.a,GlDropdown:p.a,GlDropdownSectionHeader:u.a,GlDropdownText:j.a,GlFormInputGroup:m.a},directives:{GlTooltip:v.a},props:{url:{type:String,required:!0}},computed:{sections(){return[{name:C,value:'<script src="'.concat(w()(this.url),'.js"><\/script>')},{name:D,value:this.url}]}},MSG_EMBED:C,MSG_COPY:N},x=Object(y.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{attrs:{right:"",text:e.$options.MSG_EMBED,"menu-class":"gl-px-1! gl-pb-5! gl-dropdown-menu-wide"}},[e._l(e.sections,(function(t){var i=t.name,a=t.value;return[n("gl-dropdown-section-header",{key:"header_"+i,attrs:{"data-testid":"header"}},[e._v(e._s(i))]),e._v(" "),n("gl-dropdown-text",{key:"input_"+i,staticClass:"gl-dropdown-text-py-0 gl-dropdown-text-block",attrs:{tag:"div","data-testid":"input"}},[n("gl-form-input-group",{attrs:{value:a,readonly:"","select-on-click":"","aria-label":i},scopedSlots:e._u([{key:"append",fn:function(){return[n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.$options.MSG_COPY,"aria-label":e.$options.MSG_COPY,"data-clipboard-text":a,icon:"copy-to-clipboard","data-qa-selector":"copy_button","data-qa-action":i}})]},proxy:!0}],null,!0)})],1)]}))],2)}),[],!1,null,null,null).exports,E=(n("GzNv"),n("pBsb"),n("Hszc")),T=n.n(E),B=n("67aS"),L=n("6L/t"),V=n("7bJy"),q={components:{BlobHeader:L.a,BlobContent:B.a},apollo:{blobContent:{query:T.a,variables(){return{ids:[this.snippet.id],rich:this.activeViewerType===V.g,paths:[this.blob.path]}},update(e){return this.onContentUpdate(e)},result(){this.activeViewerType===V.g?this.blob.richViewer.renderError=null:this.blob.simpleViewer.renderError=null},skip(){return this.viewer.renderError}}},provide:()=>({blobHash:Math.random().toString().split(".")[1]}),props:{snippet:{type:Object,required:!0},blob:{type:Object,required:!0}},data(){var e;return{blobContent:"",activeViewerType:(null===(e=this.blob)||void 0===e?void 0:e.richViewer)&&!window.location.hash?V.g:V.i}},computed:{isContentLoading(){return this.$apollo.queries.blobContent.loading},viewer(){const{richViewer:e,simpleViewer:t}=this.blob;return this.activeViewerType===V.g?e:t},hasRenderError(){return Boolean(this.viewer.renderError)}},methods:{switchViewer(e){this.activeViewerType=e||V.i},forceQuery(){this.$apollo.queries.blobContent.skip=!1,this.$apollo.queries.blobContent.refetch()},onContentUpdate(e){const{path:t}=this.blob,{blobs:{nodes:n}}=e.snippets.nodes[0],i=n.find((function(e){return e.path===t}));return i.richData||i.plainData}},BLOB_RENDER_EVENT_LOAD:V.b,BLOB_RENDER_EVENT_SHOW_SOURCE:V.c},G=Object(y.a)(q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"file-holder snippet-file-content"},[n("blob-header",{attrs:{blob:e.blob,"active-viewer-type":e.viewer.type,"has-render-error":e.hasRenderError},on:{"viewer-changed":e.switchViewer}}),e._v(" "),n("blob-content",{attrs:{loading:e.isContentLoading,content:e.blobContent,"active-viewer":e.viewer,blob:e.blob},on:e._d({},[e.$options.BLOB_RENDER_EVENT_LOAD,e.forceQuery,e.$options.BLOB_RENDER_EVENT_SHOW_SOURCE,e.switchViewer])})],1)}),[],!1,null,null,null).exports,$=n("tbP8"),F=n("s1D3"),A=n("30su"),R=n("1cpz"),z=n("dsWN"),M=n("wP8z"),U=n("sfgP"),I=n.n(U),H=n("GJe1"),Q=n.n(H),W=n("5v28"),Y=n("Fsq/"),J=n("qWwL"),K=n.n(J),X={components:{GlAvatar:$.a,GlIcon:F.a,GlSprintf:A.a,GlModal:R.a,GlAlert:z.a,GlLoadingIcon:o.a,GlDropdown:p.a,GlDropdownItem:M.a,TimeAgoTooltip:Y.a,GlButton:f.a},directives:{GlTooltip:v.a},apollo:{canCreateSnippet:{fetchPolicy:W.fetchPolicies.NO_CACHE,query(){return this.snippet.project?I.a:Q.a},variables(){return{fullPath:this.snippet.project?this.snippet.project.fullPath:void 0}},update(e){var t;return this.snippet.project?e.project.userPermissions.createSnippet:null===(t=e.currentUser)||void 0===t?void 0:t.userPermissions.createSnippet}}},props:{snippet:{type:Object,required:!0}},data:()=>({isDeleting:!1,errorMessage:"",canCreateSnippet:!1}),computed:{snippetHasBinary(){return Boolean(this.snippet.blobs.find((function(e){return e.binary})))},authoredMessage(){return this.snippet.author?Object(h.a)("Authored %{timeago} by %{author}"):Object(h.a)("Authored %{timeago}")},personalSnippetActions(){return[{condition:this.snippet.userPermissions.updateSnippet,text:Object(h.a)("Edit"),href:this.editLink,disabled:this.snippetHasBinary,title:this.snippetHasBinary?Object(h.a)("Snippets with non-text files can only be edited via Git."):void 0},{condition:this.snippet.userPermissions.adminSnippet,text:Object(h.a)("Delete"),click:this.showDeleteModal,variant:"danger",category:"secondary",cssClass:"ml-2"},{condition:this.canCreateSnippet,text:Object(h.a)("New snippet"),href:this.snippet.project?Object(b.p)(this.snippet.project.webUrl,"-/snippets/new"):Object(b.p)("/",gon.relative_url_root,"/-/snippets/new"),variant:"success",category:"secondary",cssClass:"ml-2"}]},editLink(){return"".concat(this.snippet.webUrl,"/edit")},visibility(){return this.snippet.visibilityLevel},snippetVisibilityLevelDescription(){switch(this.visibility){case"private":return null!==this.snippet.project?Object(h.a)("The snippet is visible only to project members."):Object(h.a)("The snippet is visible only to me.");case"internal":return Object(h.a)("The snippet is visible to any logged in user except external users.");default:return Object(h.a)("The snippet can be accessed without any authentication.")}},visibilityLevelIcon(){switch(this.visibility){case"private":return"lock";case"internal":return"shield";default:return"earth"}}},methods:{redirectToSnippets(){window.location.pathname=this.snippet.project?"".concat(this.snippet.project.fullPath,"/-/snippets"):"".concat(gon.relative_url_root,"dashboard/snippets")},closeDeleteModal(){this.$refs.deleteModal.hide()},showDeleteModal(){this.$refs.deleteModal.show()},deleteSnippet(){var e=this;this.isDeleting=!0,this.$apollo.mutate({mutation:K.a,variables:{id:this.snippet.id}}).then((function(t){var n;let{data:i}=t;var a;if(null==i?void 0:null===(n=i.destroySnippet)||void 0===n?void 0:n.errors.length)throw new Error(null==i?void 0:null===(a=i.destroySnippet)||void 0===a?void 0:a.errors[0]);e.isDeleting=!1,e.errorMessage=void 0,e.closeDeleteModal(),e.redirectToSnippets()})).catch((function(t){e.isDeleting=!1,e.errorMessage=t.message}))}}},Z=Object(y.a)(X,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail-page-header"},[n("div",{staticClass:"detail-page-header-body"},[n("div",{staticClass:"snippet-box has-tooltip d-flex align-items-center gl-mr-2 mb-1",attrs:{"data-qa-selector":"snippet_container",title:e.snippetVisibilityLevelDescription,"data-container":"body"}},[n("span",{staticClass:"sr-only"},[e._v("\n        "+e._s(e.s__("VisibilityLevel|"+e.visibility))+"\n      ")]),e._v(" "),n("gl-icon",{attrs:{name:e.visibilityLevelIcon,size:14}})],1),e._v(" "),n("div",{staticClass:"creator",attrs:{"data-testid":"authored-message"}},[n("gl-sprintf",{attrs:{message:e.authoredMessage},scopedSlots:e._u([{key:"timeago",fn:function(){return[n("time-ago-tooltip",{attrs:{time:e.snippet.createdAt,"tooltip-placement":"bottom","css-class":"snippet_updated_ago"}})]},proxy:!0},{key:"author",fn:function(){return[n("a",{staticClass:"d-inline",attrs:{href:e.snippet.author.webUrl}},[n("gl-avatar",{attrs:{size:24,src:e.snippet.author.avatarUrl}}),e._v(" "),n("span",{staticClass:"bold"},[e._v(e._s(e.snippet.author.name))])],1),e._v(" "),e.snippet.author.status?n("gl-emoji",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-vertical-align-baseline font-size-inherit gl-mr-1",attrs:{title:e.snippet.author.status.message,"data-name":e.snippet.author.status.emoji}}):e._e()]},proxy:!0}])})],1)]),e._v(" "),n("div",{staticClass:"detail-page-header-actions"},[n("div",{staticClass:"d-none d-sm-flex"},[e._l(e.personalSnippetActions,(function(t,i){return[t.condition?n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],key:i,staticClass:"d-inline-block",attrs:{title:t.title}},[n("gl-button",{class:t.cssClass,attrs:{disabled:t.disabled,variant:t.variant,category:t.category,href:t.href,"data-qa-selector":"snippet_action_button","data-qa-action":t.text},on:{click:function(e){t.click&&t.click()}}},[e._v("\n            "+e._s(t.text)+"\n          ")])],1):e._e()]}))],2),e._v(" "),n("div",{staticClass:"d-block d-sm-none dropdown"},[n("gl-dropdown",{attrs:{text:e.__("Options"),block:""}},e._l(e.personalSnippetActions,(function(t,i){return n("gl-dropdown-item",{key:i,attrs:{disabled:t.disabled,title:t.title,href:t.href},on:{click:function(e){t.click&&t.click()}}},[e._v(e._s(t.text))])})),1)],1)]),e._v(" "),n("gl-modal",{ref:"deleteModal",attrs:{"modal-id":"delete-modal",title:"Example title"},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v(e._s(e.__("Delete snippet?")))]},proxy:!0},{key:"modal-footer",fn:function(){return[n("gl-button",{on:{click:e.closeDeleteModal}},[e._v(e._s(e.__("Cancel")))]),e._v(" "),n("gl-button",{attrs:{variant:"danger",category:"primary",disabled:e.isDeleting,"data-qa-selector":"delete_snippet_button"},on:{click:e.deleteSnippet}},[e.isDeleting?n("gl-loading-icon",{attrs:{inline:""}}):e._e(),e._v("\n        "+e._s(e.__("Delete snippet"))+"\n      ")],1)]},proxy:!0}])},[e._v(" "),e.errorMessage?n("gl-alert",{staticClass:"mb-2",attrs:{variant:"danger"},on:{dismiss:function(t){e.errorMessage=""}}},[e._v(e._s(e.errorMessage))]):e._e(),e._v(" "),n("gl-sprintf",{attrs:{message:e.__("Are you sure you want to delete %{name}?")},scopedSlots:e._u([{key:"name",fn:function(){return[n("strong",[e._v(e._s(e.snippet.title))])]},proxy:!0}])})],1)],1)}),[],!1,null,null,null).exports,ee={components:{MarkdownFieldView:n("RQlu").a},props:{description:{type:String,required:!1,default:""}}},te=Object(y.a)(ee,(function(){var e=this.$createElement,t=this._self._c||e;return t("markdown-field-view",{staticClass:"snippet-description",attrs:{"data-qa-selector":"snippet_description_content"}},[t("div",{staticClass:"md js-snippet-description",domProps:{innerHTML:this._s(this.description)}})])}),[],!1,null,null,null).exports,ne={components:{TimeAgoTooltip:Y.a,GlSprintf:A.a,SnippetDescription:te},props:{snippet:{type:Object,required:!0}}},ie=Object(y.a)(ne,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"snippet-header limited-header-width"},[n("h2",{staticClass:"snippet-title gl-mt-0 mb-3",attrs:{"data-qa-selector":"snippet_title_content"}},[e._v("\n    "+e._s(e.snippet.title)+"\n  ")]),e._v(" "),e.snippet.description?n("snippet-description",{attrs:{description:e.snippet.descriptionHtml}}):e._e(),e._v(" "),e.snippet.updatedAt!==e.snippet.createdAt?n("small",{staticClass:"edited-text"},[n("gl-sprintf",{attrs:{message:e.__("Edited %{timeago}")},scopedSlots:e._u([{key:"timeago",fn:function(){return[n("time-ago-tooltip",{attrs:{time:e.snippet.updatedAt,"tooltip-placement":"bottom"}})]},proxy:!0}],null,!1,393044039)})],1):e._e()],1)}),[],!1,null,null,null).exports;s.a.$on(l.v,S.e);var ae={components:{EmbedDropdown:x,SnippetHeader:Z,SnippetTitle:ie,GlLoadingIcon:o.a,SnippetBlob:G,CloneDropdownButton:k},mixins:[_.a],computed:{embeddable(){return this.snippet.visibilityLevel===d.n},canBeCloned(){return Boolean(this.snippet.sshUrlToRepo||this.snippet.httpUrlToRepo)}},beforeCreate(){Object(c.a)({mark:l.u})}},re=Object(y.a)(ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"js-snippet-view"},[e.isLoading?n("gl-loading-icon",{staticClass:"loading-animation prepend-top-20 gl-mb-6",attrs:{label:e.__("Loading snippet"),size:"lg"}}):[n("snippet-header",{attrs:{snippet:e.snippet}}),e._v(" "),n("snippet-title",{attrs:{snippet:e.snippet}}),e._v(" "),n("div",{staticClass:"gl-display-flex gl-justify-content-end gl-mb-5"},[e.embeddable?n("embed-dropdown",{attrs:{url:e.snippet.webUrl,"data-qa-selector":"snippet_embed_dropdown"}}):e._e(),e._v(" "),e.canBeCloned?n("clone-dropdown-button",{staticClass:"gl-ml-3",attrs:{"ssh-link":e.snippet.sshUrlToRepo,"http-link":e.snippet.httpUrlToRepo,"data-qa-selector":"clone_button"}}):e._e()],1),e._v(" "),e._l(e.blobs,(function(t){return n("snippet-blob",{key:t.path,attrs:{snippet:e.snippet,blob:t}})}))]],2)}),[],!1,null,null,null).exports,oe=n("Ylta");Object(r.a)(document.getElementById("js-snippet-view"),re),Object(a.a)(),Object(i.b)(),new oe.a},Lb36:function(e,t,n){"use strict";var i=n("0zRR"),a=n("6nFr"),r=n("/Szx"),o=n("lgrP"),s=n("t8l0"),l=n("rPnh"),c=n("idFA"),d=n("6T0+");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={id:{type:String,default:null},tag:{type:String,default:"div"},isText:{type:Boolean,default:!1}},v=r.a.extend({name:i.U,functional:!0,props:u(u({},f),{},{append:{type:Boolean,default:!1}}),render:function(e,t){var n=t.props,i=t.data,a=t.children;return e(n.tag,Object(o.a)(i,{class:{"input-group-append":n.append,"input-group-prepend":!n.append},attrs:{id:n.id}}),n.isText?[e(d.a,a)]:a)}});function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=r.a.extend({name:i.V,functional:!0,props:f,render:function(e,t){var n=t.props,i=t.data,a=t.children;return e(v,Object(o.a)(i,{props:h(h({},n),{},{append:!0})}),a)}});function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=r.a.extend({name:i.W,functional:!0,props:f,render:function(e,t){var n=t.props,i=t.data,a=t.children;return e(v,Object(o.a)(i,{props:_(_({},n),{},{append:!1})}),a)}});var w={id:{type:String},size:{type:String,default:function(){return Object(s.b)(i.T,"size")}},prepend:{type:String},prependHtml:{type:String},append:{type:String},appendHtml:{type:String},tag:{type:String,default:"div"}},j=r.a.extend({name:i.T,functional:!0,props:w,render:function(e,t){var n=t.props,i=t.data,r=t.slots,s=t.scopedSlots,p=n.prepend,u=n.prependHtml,m=n.append,f=n.appendHtml,v=n.size,b=s||{},h=r(),g={},k=e(),_=Object(c.a)(a.g,b,h);(_||p||u)&&(k=e(O,[_?Object(c.b)(a.g,g,b,h):e(d.a,{domProps:Object(l.a)(u,p)})]));var S,w,j,C=e(),D=Object(c.a)(a.a,b,h);return(D||m||f)&&(C=e(y,[D?Object(c.b)(a.a,g,b,h):e(d.a,{domProps:Object(l.a)(f,m)})])),e(n.tag,Object(o.a)(i,{staticClass:"input-group",class:(S={},w="input-group-".concat(v),j=v,w in S?Object.defineProperty(S,w,{value:j,enumerable:!0,configurable:!0,writable:!0}):S[w]=j,S),attrs:{id:n.id||null,role:"group"}}),[k,Object(c.b)(a.c,g,b,h),C])}}),C=n("GTbw"),D=n("Yyc1"),N=n("wP8z"),P={props:{value:{type:[String,Number],default:""}},data:function(){return{localValue:this.stringifyValue(this.value)}},watch:{value:function(e){e!==this.localValue&&(this.localValue=this.stringifyValue(e))},localValue:function(e){e!==this.value&&this.$emit("input",e)}},mounted:function(){var e=this,t=this.stringifyValue(this.value);if(this.activeOption){var n=this.predefinedOptions.find((function(t){return t.name===e.activeOption}));this.localValue=n.value}else t!==this.localValue&&(this.localValue=t)},methods:{stringifyValue:function(e){return null==e?"":String(e)}}},x=n("Pyw5"),E=n.n(x);const T={name:"GlFormInputGroup",components:{BInputGroup:j,BInputGroupPrepend:O,BInputGroupAppend:y,BFormInput:C.a,GlDropdown:D.a,GlDropdownItem:N.a},mixins:[P],props:{selectOnClick:{type:Boolean,required:!1,default:!1},predefinedOptions:{type:Array,required:!1,default:function(){return[{value:"",name:""}]},validator:function(e){return e.every((function(e){return Object.keys(e).includes("name","value")}))}}},data:function(){return{activeOption:this.predefinedOptions&&this.predefinedOptions[0].name}},methods:{handleClick:function(){this.selectOnClick&&this.$refs.input.$el.select()},updateValue:function(e){var t=e.name,n=e.value;this.activeOption=t,this.localValue=n}}};const B=E()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-input-group",[e.activeOption||e.$scopedSlots.prepend?n("b-input-group-prepend",[e._t("prepend"),e._v(" "),e.activeOption?n("gl-dropdown",{attrs:{text:e.activeOption}},e._l(e.predefinedOptions,(function(t){return n("gl-dropdown-item",{key:t.value,attrs:{"is-check-item":"","is-checked":e.activeOption===t.name},on:{click:function(n){return e.updateValue(t)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),1):e._e()],2):e._e(),e._v(" "),e._t("default",[n("b-form-input",e._g(e._b({ref:"input",staticClass:"gl-form-input",on:{click:e.handleClick},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"b-form-input",e.$attrs,!1),e.$listeners))]),e._v(" "),e.$scopedSlots.append?n("b-input-group-append",[e._t("append")],2):e._e()],2)],1)},staticRenderFns:[]},void 0,T,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=B},SNRI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c}));n("MoW5"),n("GzNv"),n("pBsb"),n("orcL");var i=n("/lV4"),a=n("GuZl");function r(e){return e/(a.d*a.d)}function o(e){return e/(a.d*a.d*a.d)}function s(e){return e<a.d?Object(i.f)(Object(i.a)("%{size} bytes"),{size:e}):e<a.d*a.d?Object(i.f)(Object(i.a)("%{size} KiB"),{size:(t=e,t/a.d).toFixed(2)}):e<a.d*a.d*a.d?Object(i.f)(Object(i.a)("%{size} MiB"),{size:r(e).toFixed(2)}):Object(i.f)(Object(i.a)("%{size} GiB"),{size:o(e).toFixed(2)});var t}const l=/^[0-9]+$/,c=function(e){return l.test(e)}},dsWN:function(e,t,n){"use strict";var i=n("XBTk"),a=n("Ge+5"),r=n("4lAS"),o=n("s1D3"),s=n("Pyw5"),l=n.n(s);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u={components:{GlIcon:o.a,CloseButton:a.a,GlButton:r.a},props:{title:{type:String,required:!1,default:""},dismissible:{type:Boolean,required:!1,default:!0},dismissLabel:{type:String,required:!1,default:"Dismiss"},variant:{type:String,required:!1,default:i.c.info,validator:function(e){return Object.keys(i.c).includes(e)}},primaryButtonLink:{type:String,required:!1,default:""},primaryButtonText:{type:String,required:!1,default:""},secondaryButtonLink:{type:String,required:!1,default:""},secondaryButtonText:{type:String,required:!1,default:""},contained:{type:Boolean,required:!1,default:!1},sticky:{type:Boolean,required:!1,default:!1}},computed:{iconName:function(){return i.b[this.variant]},shouldRenderActions:function(){return Boolean(this.$slots.actions||this.actionButtons.length)},actionButtons:function(){return[{text:this.primaryButtonText,attrs:{href:this.primaryButtonLink,variant:"confirm",category:i.u.primary},listeners:{click:this.primaryButtonClicked}},{text:this.secondaryButtonText,attrs:{href:this.secondaryButtonLink,variant:"default",category:i.u.secondary},listeners:{click:this.secondaryButtonClicked}}].reduce((function(e,t){if(!t.text)return e;var n=p({},t.attrs);return n.href||delete n.href,e.push(p(p({},t),{},{attrs:n})),e}),[])},variantClass:function(){return"gl-alert-".concat(this.variant)}},methods:{primaryButtonClicked:function(e){this.$emit("primaryAction",e)},secondaryButtonClicked:function(e){this.$emit("secondaryAction",e)},onDismiss:function(){this.$emit("dismiss")}}};const m=l()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["gl-alert",{"gl-alert-max-content":e.contained},{"gl-alert-sticky":e.sticky},{"gl-alert-not-dismissible":!e.dismissible},e.variantClass]},[n("div",{staticClass:"gl-alert-container"},[n("gl-icon",{class:{"gl-alert-icon":!0,"gl-alert-icon-no-title":!e.title},attrs:{name:e.iconName}}),e._v(" "),e.dismissible?n("close-button",{ref:"dismiss",staticClass:"gl-dismiss-btn",attrs:{label:e.dismissLabel},on:{click:e.onDismiss}}):e._e(),e._v(" "),n("div",{staticClass:"gl-alert-content",attrs:{role:"alert"}},[e.title?n("h4",{staticClass:"gl-alert-title"},[e._v(e._s(e.title))]):e._e(),e._v(" "),n("div",{staticClass:"gl-alert-body"},[e._t("default")],2),e._v(" "),e.shouldRenderActions?n("div",{staticClass:"gl-alert-actions"},[e._t("actions",e._l(e.actionButtons,(function(t,i){return n("gl-button",e._g(e._b({key:i,staticClass:"gl-alert-action"},"gl-button",t.attrs,!1),t.listeners),[e._v("\n            "+e._s(t.text)+"\n          ")])})))],2):e._e()])],1)])},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=m},qWwL:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteSnippet"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"destroySnippet"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:91}};n.loc.source={body:"mutation DeleteSnippet($id: ID!) {\n  destroySnippet(input: { id: $id }) {\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.DeleteSnippet=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"DeleteSnippet")},sfgP:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CanCreateProjectSnippet"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createSnippet"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"query CanCreateProjectSnippet($fullPath: ID!) {\n  project(fullPath: $fullPath) {\n    __typename\n    userPermissions {\n      __typename\n      createSnippet\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CanCreateProjectSnippet=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"CanCreateProjectSnippet")}}]);
//# sourceMappingURL=commons-pages.projects.snippets.show-pages.snippets.show.ae65bf7a.chunk.js.map