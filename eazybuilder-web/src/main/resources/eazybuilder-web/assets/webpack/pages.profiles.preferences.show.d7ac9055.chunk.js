(this.webpackJsonp=this.webpackJsonp||[]).push([[273],{"/GZH":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d}));var r=40,i=35,a=13,s=27,o=36,l=37,c=39,u=32,d=38},103:function(e,t,n){n("HVBj"),n("GLwz"),e.exports=n("I6W6")},"4lAS":function(e,t,n){"use strict";var r=n("ofGl"),i=n("XBTk"),a=n("g3So"),s=n("s1D3"),o=n("FkSe"),l=n("Pyw5"),c=n.n(l);const u={components:{BButton:r.a,GlIcon:s.a,GlLoadingIcon:o.a},mixins:[a.a],props:{category:{type:String,required:!1,default:i.u.primary,validator:function(e){return Object.keys(i.u).includes(e)}},variant:{type:String,required:!1,default:i.x.default,validator:function(e){return Object.keys(i.x).includes(e)}},size:{type:String,required:!1,default:i.v.medium,validator:function(e){return Object.keys(i.v).includes(e)}},selected:{type:Boolean,required:!1,default:!1},icon:{type:String,required:!1,default:""},label:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},buttonTextClasses:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1}},computed:{hasIcon:function(){return""!==this.icon},hasIconOnly:function(){return 0===Object.keys(this.$slots).length&&this.hasIcon},isButtonDisabled:function(){return this.disabled||this.loading},buttonClasses:function(){var e=["gl-button"];return[i.x.dashed,i.x.link].includes(this.variant)||this.category===i.u.primary||e.push("btn-".concat(this.variant,"-").concat(this.category)),e.push({"btn-icon":this.hasIconOnly,"button-ellipsis-horizontal":this.hasIconOnly&&"ellipsis_h"===this.icon,selected:this.selected}),this.label&&e.push("btn","btn-label","btn-".concat(this.buttonSize)),e},buttonSize:function(){return i.w[this.size]}}};const d=c()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.label?"span":"b-button",e._g(e._b({directives:[{name:"safe-link",rawName:"v-safe-link:[safeLinkConfig]",arg:e.safeLinkConfig}],tag:"component",class:e.buttonClasses,attrs:{target:e.target,variant:e.variant,size:e.buttonSize,disabled:e.isButtonDisabled}},"component",e.$attrs,!1),e.$listeners),[e.loading?n("gl-loading-icon",{staticClass:"gl-button-icon gl-button-loading-indicator",attrs:{inline:""}}):e._e(),e._v(" "),!e.hasIcon||e.hasIconOnly&&e.loading?e._e():n("gl-icon",{staticClass:"gl-button-icon",attrs:{name:e.icon}}),e._v(" "),e._t("emoji"),e._v(" "),e.hasIconOnly?e._e():n("span",{staticClass:"gl-button-text",class:e.buttonTextClasses},[e._t("default")],2)],2)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},"8MMa":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("0zRR"),i=n("/Szx"),a=n("lgrP"),s=n("t8l0");var o={id:{type:String},tag:{type:String,default:"small"},textVariant:{type:String,default:function(){return Object(s.b)(r.N,"textVariant")}},inline:{type:Boolean,default:!1}},l=i.a.extend({name:r.N,functional:!0,props:o,render:function(e,t){var n,r,i,s=t.props,o=t.data,l=t.children;return e(s.tag,Object(a.a)(o,{class:(n={"form-text":!s.inline},r="text-".concat(s.textVariant),i=s.textVariant,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n),attrs:{id:s.id}}),l)}})},FkSe:function(e,t,n){"use strict";var r=n("Pyw5"),i=["sm","md","lg","xl"],a={dark:"dark",light:"light"};const s={props:{label:{type:String,required:!1,default:"Loading"},size:{type:String,required:!1,default:"sm",validator:function(e){return-1!==i.indexOf(e)}},color:{type:String,required:!1,default:a.dark,validator:function(e){return Object.keys(a).includes(e)}},inline:{type:Boolean,required:!1,default:!1}},computed:{rootElementType:function(){return this.inline?"span":"div"},cssClasses:function(){return["gl-spinner","".concat("gl-spinner","-").concat(a[this.color]),"".concat("gl-spinner","-").concat(this.size)]}}};const o=n.n(r)()({render:function(){var e=this.$createElement,t=this._self._c||e;return t(this.rootElementType,{tag:"component",staticClass:"gl-spinner-container"},[t("span",{staticClass:"align-text-bottom",class:this.cssClasses,attrs:{"aria-label":this.label}})])},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},I6W6:function(e,t,n){"use strict";n.r(t);var r=n("jB52"),i=(n("pBsb"),n("orcL"),n("4lAS")),a=n("XRO8"),s=n("/lV4");const o={sourcegraph:{title:Object(s.e)("Preferences|Sourcegraph"),label:Object(s.e)("Preferences|Enable integrated code intelligence on code views"),formName:"sourcegraph_enabled"},gitpod:{title:Object(s.e)("Preferences|Gitpod"),label:Object(s.e)("Preferences|Enable Gitpod integration"),formName:"gitpod_enabled"}},l={saveChanges:Object(s.a)("Save changes"),defaultSuccess:Object(s.a)("Preferences saved."),defaultError:Object(s.e)("Preferences|Failed to save preferences."),integrations:Object(s.e)("Preferences|Integrations"),integrationsDescription:Object(s.e)("Preferences|Customize integrations with third party services.")};var c=n("rTAy"),u=n("s1D3"),d=n("MV2A"),f=n("xXN4"),p={name:"IntegrationView",components:{GlFormText:c.a,GlIcon:u.a,GlLink:d.a,IntegrationHelpText:f.a},inject:["userFields"],props:{helpLink:{type:String,required:!0},message:{type:String,required:!0},messageUrl:{type:String,required:!0},config:{type:Object,required:!0}},data(){return{isEnabled:this.userFields[this.config.formName]}},computed:{formName(){return"user[".concat(this.config.formName,"]")},formId(){return"user_".concat(this.config.formName)}}},b=n("tBpV");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var y={name:"ProfilePreferences",components:{IntegrationView:Object(b.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"label-bold"},[e._v("\n    "+e._s(e.config.title)+"\n  ")]),e._v(" "),n("gl-link",{staticClass:"has-tooltip",attrs:{title:"More information",href:e.helpLink}},[n("gl-icon",{staticClass:"vertical-align-middle",attrs:{name:"question-o"}})],1),e._v(" "),n("div",{staticClass:"form-group form-check",attrs:{"data-testid":"profile-preferences-integration-form-group"}},[n("input",{attrs:{name:e.formName,type:"hidden",value:"0","data-testid":"profile-preferences-integration-hidden-field"}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.isEnabled,expression:"isEnabled"}],staticClass:"form-check-input",attrs:{id:e.formId,type:"checkbox",name:e.formName,value:"1","data-testid":"profile-preferences-integration-checkbox"},domProps:{checked:Array.isArray(e.isEnabled)?e._i(e.isEnabled,"1")>-1:e.isEnabled},on:{change:function(t){var n=e.isEnabled,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,"1");r.checked?a<0&&(e.isEnabled=n.concat(["1"])):a>-1&&(e.isEnabled=n.slice(0,a).concat(n.slice(a+1)))}else e.isEnabled=i}}}),e._v(" "),n("label",{staticClass:"form-check-label",attrs:{for:e.formId}},[e._v("\n      "+e._s(e.config.label)+"\n    ")]),e._v(" "),n("gl-form-text",{attrs:{tag:"div"}},[n("integration-help-text",{attrs:{message:e.message,"message-url":e.messageUrl}})],1)],1)],1)}),[],!1,null,null,null).exports,GlButton:i.a},inject:{integrationViews:{default:[]},themes:{default:[]},userFields:{default:{}},formEl:"formEl",profilePreferencesPath:"profilePreferencesPath",bodyClasses:"bodyClasses"},integrationViewConfigs:o,i18n:l,data:()=>({isSubmitEnabled:!0,darkModeOnCreate:null,darkModeOnSubmit:null}),computed:{applicationThemes(){return this.themes.reduce((function(e,t){const{id:n}=t,r=v(t,["id"]);return m(m({},e),{},{[n]:r})}),{})}},created(){this.formEl.addEventListener("ajax:beforeSend",this.handleLoading),this.formEl.addEventListener("ajax:success",this.handleSuccess),this.formEl.addEventListener("ajax:error",this.handleError),this.darkModeOnCreate=this.darkModeSelected()},beforeDestroy(){this.formEl.removeEventListener("ajax:beforeSend",this.handleLoading),this.formEl.removeEventListener("ajax:success",this.handleSuccess),this.formEl.removeEventListener("ajax:error",this.handleError)},methods:{darkModeSelected(){const e=this.getSelectedTheme();return e?"gl-dark"===e.css_class:null},getSelectedTheme(){var e;const t=new FormData(this.formEl).get("user[theme_id]");return null!==(e=this.applicationThemes[t])&&void 0!==e?e:null},handleLoading(){this.isSubmitEnabled=!1,this.darkModeOnSubmit=this.darkModeSelected()},handleSuccess(e){var t;if(this.darkModeOnCreate?!this.darkModeOnSubmit:this.darkModeOnSubmit)return void window.location.reload();!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;document.body.classList.remove(...e.split(" ")),document.body.classList.add(t),"fluid"===n?document.querySelector(".content-wrapper .container-fluid").classList.remove("container-limited"):document.querySelector(".content-wrapper .container-fluid").classList.add("container-limited")}(this.bodyClasses,this.getSelectedTheme().css_class,this.selectedLayout);const{message:n=this.$options.i18n.defaultSuccess,type:r=a.a.NOTICE}=(null==e?void 0:null===(t=e.detail)||void 0===t?void 0:t[0])||{};Object(a.b)({message:n,type:r}),this.isSubmitEnabled=!0},handleError(e){var t;const{message:n=this.$options.i18n.defaultError,type:r=a.a.ALERT}=(null==e?void 0:null===(t=e.detail)||void 0===t?void 0:t[0])||{};Object(a.b)({message:n,type:r}),this.isSubmitEnabled=!0}}},O=Object(b.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row gl-mt-3 js-preferences-form"},[e.integrationViews.length?n("div",{staticClass:"col-sm-12"},[n("hr",{attrs:{"data-testid":"profile-preferences-integrations-rule"}})]):e._e(),e._v(" "),e.integrationViews.length?n("div",{staticClass:"col-lg-4 profile-settings-sidebar"},[n("h4",{staticClass:"gl-mt-0",attrs:{"data-testid":"profile-preferences-integrations-heading"}},[e._v("\n      "+e._s(e.$options.i18n.integrations)+"\n    ")]),e._v(" "),n("p",[e._v("\n      "+e._s(e.$options.i18n.integrationsDescription)+"\n    ")])]):e._e(),e._v(" "),e.integrationViews.length?n("div",{staticClass:"col-lg-8"},e._l(e.integrationViews,(function(t){return n("integration-view",{key:t.name,attrs:{"help-link":t.help_link,message:t.message,"message-url":t.message_url,config:e.$options.integrationViewConfigs[t.name]}})})),1):e._e(),e._v(" "),n("div",{staticClass:"col-lg-4 profile-settings-sidebar"}),e._v(" "),n("div",{staticClass:"col-lg-8"},[n("div",{staticClass:"form-group"},[n("gl-button",{attrs:{variant:"success",name:"commit",type:"submit",disabled:!e.isSubmitEnabled,value:e.$options.i18n.saveChanges}},[e._v("\n        "+e._s(e.$options.i18n.saveChanges)+"\n      ")])],1)])])}),[],!1,null,null,null).exports;function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#js-profile-preferences-app"),t=document.querySelector("#profile-preferences-form"),n=["integrationViews","themes","userFields"],i=Object.keys(e.dataset).reduce((function(t,r){let i=e.dataset[r];return n.includes(r)&&(i=JSON.parse(i)),S(S({},t),{},{[r]:i})}),{formEl:t});return new r.default({el:e,name:"ProfilePreferencesApp",provide:i,render:function(e){return e(O)}})}))},ofGl:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("0zRR"),i=n("/GZH"),a=n("/Szx"),s=n("lgrP"),o=n("TjC/"),l=n("t8l0"),c=n("o/E4"),u=n("QXXq"),d=n("BrvI"),f=n("7bmO"),p=n("ua/H"),b=n("U9NU"),g=n("1m+M");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=Object(f.k)(g.b,["event","routerTag"]);delete y.href.default,delete y.to.default;var O=h(h({},{block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:function(){return Object(l.b)(r.g,"size")}},variant:{type:String,default:function(){return Object(l.b)(r.g,"variant")}},type:{type:String,default:"button"},tag:{type:String,default:"button"},pill:{type:Boolean,default:!1},squared:{type:Boolean,default:!1},pressed:{type:Boolean,default:null}}),y),j=function(e){"focusin"===e.type?Object(c.b)(e.target,"focus"):"focusout"===e.type&&Object(c.y)(e.target,"focus")},S=function(e){return Object(b.d)(e)||Object(c.t)(e.tag,"a")},k=function(e){return Object(d.b)(e.pressed)},_=function(e){return!(S(e)||e.tag&&!Object(c.t)(e.tag,"button"))},E=function(e){return!S(e)&&!_(e)},w=function(e){var t;return["btn-".concat(e.variant||Object(l.b)(r.g,"variant")),(t={},v(t,"btn-".concat(e.size),e.size),v(t,"btn-block",e.block),v(t,"rounded-pill",e.pill),v(t,"rounded-0",e.squared&&!e.pill),v(t,"disabled",e.disabled),v(t,"active",e.pressed),t)]},P=function(e){return S(e)?Object(p.a)(y,e):{}},x=function(e,t){var n=_(e),r=S(e),i=k(e),a=E(e),s=r&&"#"===e.href,o=t.attrs&&t.attrs.role?t.attrs.role:null,l=t.attrs?t.attrs.tabindex:null;return(a||s)&&(l="0"),{type:n&&!r?e.type:null,disabled:n?e.disabled:null,role:a||s?"button":o,"aria-disabled":a?String(e.disabled):null,"aria-pressed":i?String(e.pressed):null,autocomplete:i?"off":null,tabindex:e.disabled&&!n?"-1":l}},C=a.a.extend({name:r.g,functional:!0,props:O,render:function(e,t){var n=t.props,r=t.data,a=t.listeners,l=t.children,c=k(n),f=S(n),p=E(n),b=f&&"#"===n.href,m={keydown:function(e){if(!n.disabled&&(p||b)){var t=e.keyCode;if(t===i.h||t===i.c&&p){var r=e.currentTarget||e.target;Object(u.d)(e,{propagation:!1}),r.click()}}},click:function(e){n.disabled&&Object(d.d)(e)?Object(u.d)(e):c&&a&&a["update:pressed"]&&Object(o.b)(a["update:pressed"]).forEach((function(e){Object(d.e)(e)&&e(!n.pressed)}))}};c&&(m.focusin=j,m.focusout=j);var h={staticClass:"btn",class:w(n),props:P(n),attrs:x(n,r),on:m};return e(f?g.a:n.tag,Object(s.a)(r,h),l)}})},rTAy:function(e,t,n){"use strict";var r=n("8MMa"),i=n("Pyw5"),a=n.n(i);const s=r.a,o=a()({},void 0,s,void 0,void 0,void 0,!1,void 0,void 0,void 0);t.a=o},xXN4:function(e,t,n){"use strict";var r=n("s1D3"),i=n("MV2A"),a=n("30su"),s={name:"IntegrationsHelpText",components:{GlIcon:r.a,GlLink:i.a,GlSprintf:a.a},props:{message:{type:String,required:!0},messageUrl:{type:String,required:!0}}},o=n("tBpV"),l=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("gl-sprintf",{attrs:{message:e.message},scopedSlots:e._u([{key:"link",fn:function(t){var r=t.content;return[n("gl-link",{attrs:{href:e.messageUrl,target:"_blank"}},[e._v("\n        "+e._s(r)+"\n        "),n("gl-icon",{staticClass:"gl-vertical-align-middle",attrs:{name:"external-link",size:12}})],1)]}}])})],1)}),[],!1,null,null,null);t.a=l.exports}},[[103,1,0,3,36]]]);
//# sourceMappingURL=pages.profiles.preferences.show.d7ac9055.chunk.js.map