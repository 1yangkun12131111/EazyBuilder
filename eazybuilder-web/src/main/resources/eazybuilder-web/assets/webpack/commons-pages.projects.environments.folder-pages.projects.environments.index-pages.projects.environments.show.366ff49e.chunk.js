(this.webpackJsonp=this.webpackJsonp||[]).push([[93,78],{"1OWu":function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"f",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"e",(function(){return d}));n("orcL"),n("7jeQ");var i=n("NmEs");const o=function(t){return Boolean(t&&t.scrollWidth>t.offsetWidth)},r=function(t,e){t&&t.classList.add(e)},a=function(){return Object(i.B)()||Object(i.y)()||Object(i.C)()},s=function(t){let{scrollTop:e}=t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>n},l=function(t){let{scrollTop:e,offsetHeight:n,scrollHeight:i}=t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e+n<i-o},c=function(t,e){t&&Object.entries(e).map((function(e){let[n,i]=e;i?t.classList.add(n):t.classList.remove(n)}))},d=function(t){return Boolean(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}},"5QKO":function(t,e,n){"use strict";var i=n("bOix");e.a={methods:{timeFormatted:t=>Object(i.r)().format(t),tooltipTitle:t=>Object(i.h)(t),durationTimeFormatted(t){const e=new Date(1e3*t);let n=e.getUTCHours(),i=e.getUTCMinutes(),o=e.getSeconds();return n<10&&(n="0".concat(n)),i<10&&(i="0".concat(i)),o<10&&(o="0".concat(o)),"".concat(n,":").concat(i,":").concat(o)}}}},"7Gq8":function(t,e,n){var i=n("BZxG");t.exports=function(t,e,n){for(var o=-1,r=t.criteria,a=e.criteria,s=r.length,l=n.length;++o<s;){var c=i(r[o],a[o]);if(c)return o>=l?c:c*("desc"==n[o]?-1:1)}return t.index-e.index}},"7YtN":function(t,e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnvironmentsCanaryIngressUpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"environmentsCanaryIngressUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:126}};n.loc.source={body:"mutation($input: EnvironmentsCanaryIngressUpdateInput!) {\n  environmentsCanaryIngressUpdate(input: $input) {\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};n.definitions.forEach((function(t){if(t.name){var e=new Set;!function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}(t,e),i[t.name.value]=e}})),t.exports=n},"7rao":function(t,e,n){var i=n("k9pk")("sortBy",n("TKCn"));i.placeholder=n("gkan"),t.exports=i},"95R8":function(t,e,n){var i=n("90g9"),o=n("aEqC"),r=n("nHTl"),a=n("QwWC"),s=n("uHqx"),l=n("wJPF"),c=n("7Gq8"),d=n("uYOL"),u=n("P/Kr");t.exports=function(t,e,n){e=e.length?i(e,(function(t){return u(t)?function(e){return o(e,1===t.length?t[0]:t)}:t})):[d];var p=-1;e=i(e,l(r));var m=a(t,(function(t,n,o){return{criteria:i(e,(function(e){return e(t)})),index:++p,value:t}}));return s(m,(function(t,e){return c(t,e,n)}))}},AN20:function(t,e,n){"use strict";var i=n("Q33P"),o=n.n(i),r=n("lx39"),a=n.n(r),s=n("LLbv"),l=n("s1D3"),c=n("MV2A"),d=n("/lV4"),u=n("rX0p"),p=n("ZHzM"),m={directives:{GlTooltip:s.a},components:{UserAvatarLink:p.a,GlIcon:l.a,GlLink:c.a,TooltipOnTruncate:u.a},props:{tag:{type:Boolean,required:!1,default:!1},commitRef:{type:Object,required:!1,default:function(){return{}}},mergeRequestRef:{type:Object,required:!1,default:void 0,validator:function(t){return void 0===t||Number.isFinite(t.iid)&&a()(t.path)&&!o()(t.path)}},commitUrl:{type:String,required:!1,default:""},shortSha:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},author:{type:Object,required:!1,default:function(){return{}}},showRefInfo:{type:Boolean,required:!1,default:!0}},computed:{shouldShowRefInfo(){return this.showRefInfo&&(this.commitRef||this.mergeRequestRef)},hasAuthor(){return this.author&&this.author.avatar_url&&this.author.path&&this.author.username},userImageAltDescription(){return this.author&&this.author.username?Object(d.f)(Object(d.a)("%{username}'s avatar"),{username:this.author.username}):null},refUrl(){return this.commitRef.ref_url||this.commitRef.path}}},h=n("tBpV"),g=Object(h.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"branch-commit cgray"},[t.shouldShowRefInfo?[n("div",{staticClass:"icon-container gl-display-inline-block"},[t.tag?n("gl-icon",{attrs:{name:"tag"}}):t.mergeRequestRef?n("gl-icon",{attrs:{name:"git-merge"}}):n("gl-icon",{attrs:{name:"branch"}})],1),t._v(" "),t.mergeRequestRef?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"ref-name",attrs:{href:t.mergeRequestRef.path,title:t.mergeRequestRef.title}},[t._v(t._s(t.mergeRequestRef.iid))]):n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"ref-name",attrs:{href:t.refUrl,title:t.commitRef.name,"data-testid":"ref-name"}},[t._v(t._s(t.commitRef.name))])]:t._e(),t._v(" "),n("gl-icon",{staticClass:"commit-icon js-commit-icon",attrs:{name:"commit"}}),t._v(" "),n("gl-link",{staticClass:"commit-sha mr-0",attrs:{href:t.commitUrl}},[t._v(t._s(t.shortSha))]),t._v(" "),n("div",{staticClass:"commit-title"},[t.title?n("span",{staticClass:"flex-truncate-parent"},[t.hasAuthor?n("user-avatar-link",{staticClass:"avatar-image-container text-decoration-none",attrs:{"link-href":t.author.path,"img-src":t.author.avatar_url,"img-alt":t.userImageAltDescription,"tooltip-text":t.author.username}}):t._e(),t._v(" "),n("tooltip-on-truncate",{staticClass:"flex-truncate-child",attrs:{title:t.title}},[n("gl-link",{staticClass:"commit-row-message cgray",attrs:{href:t.commitUrl}},[t._v(t._s(t.title))])],1)],1):n("span",[t._v(t._s(t.__("Can't find HEAD commit for this branch")))])])],2)}),[],!1,null,null,null);e.a=g.exports},BZxG:function(t,e,n){var i=n("G1mR");t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,r=t==t,a=i(t),s=void 0!==e,l=null===e,c=e==e,d=i(e);if(!l&&!d&&!a&&t>e||a&&s&&c&&!l&&!d||o&&s&&c||!n&&c||!r)return 1;if(!o&&!a&&!d&&t<e||d&&n&&r&&!o&&!a||l&&n&&r||!s&&r||!c)return-1}return 0}},GVjJ:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return l}));n("EWC9"),n("gNBD"),n("orcL");var i=n("0AwG");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const s=function(t){const e=new FormData(t);return function(t){return t.reduce((function(t,e){let{name:n,value:i}=e;return Object.assign(t,{[n]:i})}),{})}(Array.from(e.keys()).map((function(t){let n=e.getAll(t);return{name:t,value:1===(n=n.filter((function(t){return t}))).length?n[0]:n}})))},l=function(t){if(!t)throw new TypeError("`mountEl` argument is required");return[...t.querySelectorAll("[name]")].reduce((function(t,e){const n=e.dataset.jsName;if(!n)return t;const o=Object(i.c)(n),{id:a,placeholder:s,name:l,value:c,type:d,checked:u}=e,p=r({name:l,id:a,value:c},s&&{placeholder:s});return["radio","checkbox"].includes(d)?r(r({},t),{},{[o]:[...t[o]||[],r(r({},p),{},{checked:u})]}):r(r({},t),{},{[o]:p})}),{})}},"LB+Z":function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return c}));var i=n("/lV4");const o=Object(i.e)("Pagination|Prev"),r=Object(i.e)("Pagination|Next"),a=(Object(i.e)("Pagination|« First"),Object(i.e)("Pagination|Last »"),Object(i.e)("Pagination|Go to first page")),s=Object(i.e)("Pagination|Go to previous page"),l=Object(i.e)("Pagination|Go to next page"),c=Object(i.e)("Pagination|Go to last page")},Lzak:function(t,e,n){"use strict";var i=n("0zRR"),o=n("/Szx"),r=n("lgrP"),a=n("t8l0"),s=n("7bmO"),l=n("ua/H"),c=n("U9NU"),d=n("1m+M");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=Object(s.k)(d.b,["event","routerTag"]);delete m.href.default,delete m.to.default;var h=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({tag:{type:String,default:"span"},variant:{type:String,default:function(){return Object(a.b)(i.c,"variant")}},pill:{type:Boolean,default:!1}},m),g=o.a.extend({name:i.c,functional:!0,props:h,render:function(t,e){var n=e.props,i=e.data,o=e.children,a=Object(c.d)(n),s=a?d.a:n.tag,u={staticClass:"badge",class:[n.variant?"badge-".concat(n.variant):"badge-secondary",{"badge-pill":n.pill,active:n.active,disabled:n.disabled}],props:a?Object(l.a)(m,n):{}};return t(s,Object(r.a)(i,u),o)}}),f=n("XBTk"),b=n("s1D3"),v=n("Pyw5"),y=n.n(v);const _={components:{BBadge:g,GlIcon:b.a},inheritAttrs:!1,props:{size:{type:String,default:f.h.md,validator:function(t){return void 0!==f.h[t]},required:!1},variant:{type:String,default:f.i.muted,validator:function(t){return void 0!==f.i[t]},required:!1},icon:{type:String,required:!1,default:null}},computed:{hasIconOnly:function(){return Boolean(this.icon&&0===Object.keys(this.$slots).length)},role:function(){return this.hasIconOnly?"img":void 0}}};const O=y()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-badge",t._b({class:["gl-badge",t.size],attrs:{variant:t.variant,role:t.role,pill:""}},"b-badge",t.$attrs,!1),[t.icon?n("gl-icon",{staticClass:"gl-badge-icon",class:{"gl-mr-2":!t.hasIconOnly},attrs:{name:t.icon}}):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[]},void 0,_,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=O},QSe5:function(t,e,n){"use strict";var i=n("qVG1"),o=n("LB+Z"),r={components:{GlPagination:i.a},props:{change:{type:Function,required:!0},pageInfo:{type:Object,required:!0}},computed:{showPagination(){return this.pageInfo.nextPage||this.pageInfo.previousPage}},prevText:o.f,nextText:o.e,labelFirstPage:o.a,labelPrevPage:o.d,labelNextPage:o.c,labelLastPage:o.b},a=n("tBpV"),s=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPagination?n("gl-pagination",t._b({staticClass:"justify-content-center gl-mt-3",attrs:{value:t.pageInfo.page,"per-page":t.pageInfo.perPage,"total-items":t.pageInfo.total,"prev-page":t.pageInfo.previousPage,"prev-text":t.$options.prevText,"next-page":t.pageInfo.nextPage,"next-text":t.$options.nextText,"label-first-page":t.$options.labelFirstPage,"label-prev-page":t.$options.labelPrevPage,"label-next-page":t.$options.labelNextPage,"label-last-page":t.$options.labelLastPage},on:{input:t.change}},"gl-pagination",t.$attrs,!1)):t._e()}),[],!1,null,null,null);e.a=s.exports},QwBj:function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));const i={ABORTED:0,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,CONFLICT:409,GONE:410,UNPROCESSABLE_ENTITY:422,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500,SERVICE_UNAVAILABLE:503},o=[i.OK,i.CREATED,i.ACCEPTED,i.NON_AUTHORITATIVE_INFORMATION,i.NO_CONTENT,i.RESET_CONTENT,i.PARTIAL_CONTENT,i.MULTI_STATUS,i.ALREADY_REPORTED,i.IM_USED];e.a=i},QwWC:function(t,e,n){var i=n("2v8U"),o=n("20jF");t.exports=function(t,e){var n=-1,r=o(t)?Array(t.length):[];return i(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}},Rk7e:function(t,e,n){var i=n("yueo"),o=n("0Y/0"),r=n("XVTP"),a=n("hL/J"),s=n("P/Kr"),l=n("QYRJ"),c="Expected a function",d=8,u=32,p=128,m=256;t.exports=function(t){return o((function(e){var n=e.length,o=n,h=i.prototype.thru;for(t&&e.reverse();o--;){var g=e[o];if("function"!=typeof g)throw new TypeError(c);if(h&&!f&&"wrapper"==a(g))var f=new i([],!0)}for(o=f?o:n;++o<n;){g=e[o];var b=a(g),v="wrapper"==b?r(g):void 0;f=v&&l(v[0])&&v[1]==(p|d|u|m)&&!v[4].length&&1==v[9]?f[a(v[0])].apply(f,v[3]):1==g.length&&l(g)?f[b]():f.thru(g)}return function(){var t=arguments,i=t[0];if(f&&1==t.length&&s(i))return f.plant(i).value();for(var o=0,r=n?e[o].apply(this,t):i;++o<n;)r=e[o].call(this,r);return r}}))}},TKCn:function(t,e,n){var i=n("4ips"),o=n("95R8"),r=n("Opi0"),a=n("etTJ"),s=r((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,i(e,1),[])}));t.exports=s},VX9u:function(t,e){var n=Array.prototype.reverse;t.exports=function(t){return null==t?t:n.call(t)}},XLEV:function(t,e,n){"use strict";n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return v}));var i=n("0zRR"),o=n("6nFr"),r=n("/Szx"),a=n("TjC/"),s=n("t8l0"),l=n("rPnh"),c=n("bvam"),d=n("lj/0"),u=n("DXSV"),p=n("EQ0+"),m=n("ofGl");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b={text:{type:String},html:{type:String},variant:{type:String,default:function(){return Object(s.b)(i.p,"variant")}},size:{type:String,default:function(){return Object(s.b)(i.p,"size")}},block:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object]},toggleTag:{type:String,default:"button"},toggleText:{type:String,default:function(){return Object(s.b)(i.p,"toggleText")}},toggleClass:{type:[String,Array,Object]},noCaret:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitHref:{type:String},splitTo:{type:[String,Object]},splitVariant:{type:String,default:function(){return Object(s.b)(i.p,"splitVariant")}},splitClass:{type:[String,Array,Object]},splitButtonType:{type:String,default:"button",validator:function(t){return Object(a.a)(["button","submit","reset"],t)}},lazy:{type:Boolean,default:!1},role:{type:String,default:"menu"}},v=r.a.extend({name:i.p,mixins:[u.a,d.a,p.a],props:b,computed:{dropdownClasses:function(){var t=this.block,e=this.split;return[this.directionClass,this.boundaryClass,{show:this.visible,"btn-group":e||!t,"d-flex":t&&e}]},menuClasses:function(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses:function(){var t=this.split;return[this.toggleClass,{"dropdown-toggle-split":t,"dropdown-toggle-no-caret":this.noCaret&&!t}]}},render:function(t){var e=this.visible,n=this.variant,i=this.size,r=this.block,a=this.disabled,s=this.split,d=this.role,u=this.hide,p=this.toggle,h={variant:n,size:i,block:r,disabled:a},f=this.normalizeSlot("button-content"),b=this.hasNormalizedSlot("button-content")?{}:Object(l.a)(this.html,this.text),v=t();if(s){var y=this.splitTo,_=this.splitHref,O=this.splitButtonType,w=g(g({},h),{},{variant:this.splitVariant||n});y?w.to=y:_?w.href=_:O&&(w.type=O),v=t(m.a,{class:this.splitClass,attrs:{id:this.safeId("_BV_button_")},props:w,domProps:b,on:{click:this.onSplitClick},ref:"button"},f),f=[t("span",{class:["sr-only"]},[this.toggleText])],b={}}var j=t(m.a,{staticClass:"dropdown-toggle",class:this.toggleClasses,attrs:{id:this.safeId("_BV_toggle_"),"aria-haspopup":"true","aria-expanded":Object(c.e)(e)},props:g(g({},h),{},{tag:this.toggleTag,block:r&&!s}),domProps:b,on:{mousedown:this.onMousedown,click:p,keydown:p},ref:"toggle"},f),C=t("ul",{staticClass:"dropdown-menu",class:this.menuClasses,attrs:{role:d,tabindex:"-1","aria-labelledby":this.safeId(s?"_BV_button_":"_BV_toggle_")},on:{keydown:this.onKeydown},ref:"menu"},[!this.lazy||e?this.normalizeSlot(o.c,{hide:u}):t()]);return t("div",{staticClass:"dropdown b-dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[v,j,C])}})},YeWz:function(t,e,n){"use strict";e.a=function(t,e){return t.map((function(t,e){return[e,t]})).sort(function(t,e){return this(t[1],e[1])||t[0]-e[0]}.bind(e)).map((function(t){return t[1]}))}},Yyc1:function(t,e,n){"use strict";var i=n("XLEV"),o=n("o/E4"),r=n("XBTk"),a={computed:{buttonSize:function(){return r.w[this.size]}}},s=n("s1D3"),l=n("FkSe"),c=n("Pyw5"),d=n.n(c);function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=".dropdown-item:not(.disabled):not([disabled]),.form-control:not(.disabled):not([disabled])";const m={components:{BDropdown:{extends:i.a,methods:{getItems:function(){return(Object(o.D)(p,this.$refs.menu)||[]).filter(o.u)}}},GlIcon:s.a,GlLoadingIcon:l.a},mixins:[a],props:{headerText:{type:String,required:!1,default:""},hideHeaderBorder:{type:Boolean,required:!1,default:!0},text:{type:String,required:!1,default:""},textSrOnly:{type:Boolean,required:!1,default:!1},split:{type:Boolean,required:!1,default:!1},category:{type:String,required:!1,default:r.u.primary,validator:function(t){return Object.keys(r.u).includes(t)}},variant:{type:String,required:!1,default:r.y.default,validator:function(t){return Object.keys(r.y).includes(t)}},size:{type:String,required:!1,default:r.v.medium,validator:function(t){return Object.keys(r.v).includes(t)}},icon:{type:String,required:!1,default:null},block:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},toggleClass:{type:[String,Array,Object],required:!1,default:null},right:{type:Boolean,required:!1,default:!1}},computed:{renderCaret:function(){return!this.split},isIconOnly:function(){var t;return Boolean(this.icon&&(!(null!==(t=this.text)&&void 0!==t&&t.length)||this.textSrOnly))},isIconWithText:function(){var t;return Boolean(this.icon&&(null===(t=this.text)||void 0===t?void 0:t.length)&&!this.textSrOnly)},toggleButtonClasses:function(){var t;return[this.toggleClass,(t={"gl-button":!0,"gl-dropdown-toggle":!0},u(t,"btn-".concat(this.variant,"-secondary"),this.category===r.u.secondary||this.category===r.u.tertiary&&this.split),u(t,"btn-".concat(this.variant,"-tertiary"),this.category===r.u.tertiary&&!this.split),u(t,"dropdown-icon-only",this.isIconOnly),u(t,"dropdown-icon-text",this.isIconWithText),t)]},splitButtonClasses:function(){return[this.toggleClass,u({"gl-button":!0,"split-content-button":Boolean(this.text),"icon-split-content-button":Boolean(this.icon)},"btn-".concat(this.variant,"-secondary"),this.category===r.u.secondary||this.category===r.u.tertiary)]},buttonText:function(){return this.split&&this.icon?null:this.text}},methods:{hasSlotContents:function(t){return Boolean(this.$slots[t])},show:function(){var t;(t=this.$refs.dropdown).show.apply(t,arguments)},hide:function(){var t;(t=this.$refs.dropdown).hide.apply(t,arguments)}}};const h=d()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-dropdown",t._g(t._b({ref:"dropdown",staticClass:"gl-new-dropdown",attrs:{split:t.split,variant:t.variant,size:t.buttonSize,"toggle-class":[t.toggleButtonClasses],"split-class":t.splitButtonClasses,block:t.block,disabled:t.disabled||t.loading,right:t.right}},"b-dropdown",t.$attrs,!1),t.$listeners),[n("div",{staticClass:"gl-new-dropdown-inner"},[t.hasSlotContents("header")||t.headerText?n("div",{staticClass:"gl-new-dropdown-header",class:{"gl-border-b-0!":t.hideHeaderBorder}},[t.headerText?n("p",{staticClass:"gl-new-dropdown-header-top"},[t._v(t._s(t.headerText))]):t._e(),t._v(" "),t._t("header")],2):t._e(),t._v(" "),n("div",{staticClass:"gl-new-dropdown-contents"},[t._t("default")],2),t._v(" "),t.hasSlotContents("footer")?n("div",{staticClass:"gl-new-dropdown-footer"},[t._t("footer")],2):t._e()]),t._v(" "),t._t("button-content",[t.loading?n("gl-loading-icon",{staticClass:"gl-mr-2"}):t._e(),t._v(" "),t.icon?n("gl-icon",{staticClass:"dropdown-icon",attrs:{name:t.icon}}):t._e(),t._v(" "),n("span",{staticClass:"gl-new-dropdown-button-text",class:{"gl-sr-only":t.textSrOnly}},[t._t("button-text",[t._v(t._s(t.buttonText))])],2),t._v(" "),t.renderCaret?n("gl-icon",{staticClass:"gl-button-icon dropdown-chevron",attrs:{name:"chevron-down"}}):t._e()],{slot:"button-content"})],2)},staticRenderFns:[]},void 0,m,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=h},ZHzM:function(t,e,n){"use strict";var i=n("MV2A"),o=n("LLbv"),r=n("+kWK"),a={name:"UserAvatarLink",components:{GlLink:i.a,userAvatarImage:r.a},directives:{GlTooltip:o.a},props:{linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername(){return this.username.length>0},avatarTooltipText(){return this.shouldShowUsername?"":this.tooltipText}}},s=n("tBpV"),l=Object(s.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gl-link",{staticClass:"user-avatar-link",attrs:{href:t.linkHref}},[n("user-avatar-image",{attrs:{"img-src":t.imgSrc,"img-alt":t.imgAlt,"css-classes":t.imgCssClasses,size:t.imgSize,"tooltip-text":t.avatarTooltipText,"tooltip-placement":t.tooltipPlacement}},[t._t("default")],2),t.shouldShowUsername?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-avatar-link-username",attrs:{title:t.tooltipText,"tooltip-placement":t.tooltipPlacement}},[t._v(t._s(t.username))]):t._e(),t._t("avatar-badge")],2)}),[],!1,null,null,null);e.a=l.exports},ZeWX:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n("QifN"),n("pBsb"),n("Ch9p"),n("+xeR"),n("orcL"),n("pETN");var i=n("EmJ/"),o=n.n(i),r=n("06tH"),a=n.n(r);var s=n("m/7A"),l=n("XRO8"),c=n("2ibD"),d=n("GVjJ"),u=n("3twG"),p=n("/lV4"),m=n("k/Fq");class h{constructor(){!function(){const t=o()("ul.clone-options-dropdown");if(t.length){const e=o()("#clone_url"),n=o()(".js-git-clone-holder .js-clone-dropdown-label"),i=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),r=n.text().trim();r.length>0&&o()("a:contains('".concat(r,"')"),t).addClass("is-active"),o()("a",t).on("click",(function(n){const r=o()(n.currentTarget),a=r.attr("href");if(a&&(a.startsWith("vscode://")||a.startsWith("xcode://")))return;n.preventDefault();const s=r.data("cloneType");o()(".is-active",t).removeClass("is-active"),o()('a[data-clone-type="'.concat(s,'"]')).each((function(){const t=o()(this),e=t.find(".dropdown-menu-inner-title").text(),n=t.closest(".js-git-clone-holder, .js-mobile-git-clone").find(".js-clone-dropdown-label");t.toggleClass("is-active"),n.text(e)})),i?i.dataset.clipboardText=a:e.val(a),o()(".js-git-empty .js-clone").text(a)}))}}(),document.querySelector(".js-project-refs-dropdown")&&(h.initRefSwitcher(),o()(".project-refs-select").on("change",(function(){return o()(this).parents("form").trigger("submit")}))),o()(".hide-no-ssh-message").on("click",(function(t){return a.a.set("hide_no_ssh_message","false"),o()(this).parents(".no-ssh-key-message").remove(),t.preventDefault()})),o()(".hide-no-password-message").on("click",(function(t){return a.a.set("hide_no_password_message","false"),o()(this).parents(".no-password-message").remove(),t.preventDefault()})),o()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(t){const e=o()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(e);return a.a.set(n,"false"),o()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),t.preventDefault()})),h.projectSelectDropdown()}static projectSelectDropdown(){Object(m.a)(),o()(".project-item-select").on("click",(function(t){return h.changeProject(o()(t.currentTarget).val())}))}static changeProject(t){return window.location=t}static initRefSwitcher(){const t=document.createElement("li"),e=document.createElement("a");return e.href="#",o()(".js-project-refs-dropdown").each((function(){const n=o()(this),i=n.data("selected"),r=n.data("fieldName"),a=Boolean(n.data("visit")),m=n.closest("form"),h=m.attr("action"),g=Object(u.q)(Object(d.b)(m[0]),h);return Object(s.a)(n,{data(t,e){c.a.get(n.data("refsUrl"),{params:{ref:n.data("ref"),search:t}}).then((function(t){let{data:n}=t;return e(n)})).catch((function(){return Object(l.c)(Object(p.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:n.data("inputFieldName"),fieldName:r,renderRow(n){const o=t.cloneNode(!1),s=e.cloneNode(!1);return n===i&&(s.className="is-active"),s.textContent=n,s.dataset.ref=n,n.length>0&&a&&(s.href=Object(u.q)({[r]:n},g)),o.appendChild(s),o},id:(t,e)=>e.attr("data-ref"),toggleLabel:(t,e)=>e.text().trim(),clicked(t){const{e:e}=t;if(e.preventDefault(),a){const t=new URL(e.target.href),i=window.location.href;if(i.includes("/-/")){const e=n.data("ref"),o=i.split(e)[1];if(null==o?void 0:o.startsWith("/")){const e=null==o?void 0:o.slice(1).split("#")[0];t.searchParams.set("path",e),t.hash=window.location.hash}}e.metaKey?window.open(t.href,"_blank"):window.location.href=t.href}}})}))}}},aCCI:function(t,e,n){"use strict";n("pBsb");var i=n("nUKU"),o=n.n(i),r=n("KFC0"),a=n.n(r),s=n("VNnR"),l=n.n(s),c=n("99pJ"),d=n.n(c),u=n("XRO8"),p=n("NmEs"),m=n("hqF9"),h=n("/lV4"),g=n("ME8r"),f=n("QSe5"),b=n("FkSe"),v=(n("jaBk"),n("7rao")),y=n.n(v),_=n("gZIW"),O=n.n(_),w=n("vKZT"),j=n.n(w),C=(n("GzNv"),n("orcL"),n("dsWN")),k=n("1cpz"),D=n("30su");const E={succeeded:{class:"succeeded",text:Object(h.a)("Succeeded"),stable:!0},running:{class:"running",text:Object(h.a)("Running"),stable:!0},failed:{class:"failed",text:Object(h.a)("Failed"),stable:!0},pending:{class:"pending",text:Object(h.a)("Pending"),stable:!0},unknown:{class:"unknown",text:Object(h.a)("Unknown"),stable:!0}},x={class:"canary-icon",text:Object(h.a)("Canary"),stable:!1};var S=n("7YtN"),P=n.n(S),T={components:{GlAlert:C.a,GlModal:k.a,GlSprintf:D.a},props:{environment:{type:Object,required:!1,default:function(){return{}}},weight:{type:Number,required:!1,default:0},visible:{type:Boolean,required:!1,default:!1}},translations:{title:Object(h.e)("CanaryIngress|Change the ratio of canary deployments?"),ratioChange:Object(h.e)("CanaryIngress|You are changing the ratio of the canary rollout for %{environment} compared to the stable deployment to:"),stableWeight:Object(h.e)("CanaryIngress|%{boldStart}Stable:%{boldEnd} %{stable}"),canaryWeight:Object(h.e)("CanaryIngress|%{boldStart}Canary:%{boldEnd} %{canary}"),deploymentWarning:Object(h.e)("CanaryIngress|Doing so will set a deployment change in progress. This temporarily blocks any further configuration until the deployment is finished.")},modal:{modalId:"confirm-canary-change",actionPrimary:{text:Object(h.e)("CanaryIngress|Change ratio"),attributes:[{variant:"info"}]},actionCancel:{text:Object(h.a)("Cancel")},static:!0},data:()=>({error:"",dismissed:!0}),computed:{stableWeight(){return(100-this.weight).toString()},canaryWeight(){return this.weight.toString()},hasError(){return Boolean(this.error)},environmentName(){var t,e;return null!==(t=null===(e=this.environment)||void 0===e?void 0:e.name)&&void 0!==t?t:""}},methods:{submitCanaryChange(){var t=this;return this.$apollo.mutate({mutation:P.a,variables:{input:{id:this.environment.global_id,weight:this.weight}}}).then((function(e){let{data:{environmentsCanaryIngressUpdate:{errors:[n]}}}=e;t.error=n})).catch((function(){t.error=Object(h.a)("Something went wrong. Please try again later")}))},dismiss(){this.error=""}}},I=n("tBpV"),B=Object(I.a)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.hasError?n("gl-alert",{attrs:{variant:"danger"},on:{dismiss:t.dismiss}},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("gl-modal",t._b({attrs:{visible:t.visible},on:{primary:t.submitCanaryChange},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(t._s(t.$options.translations.title))]},proxy:!0},{key:"default",fn:function(){return[n("p",[n("gl-sprintf",{attrs:{message:t.$options.translations.ratioChange},scopedSlots:t._u([{key:"environment",fn:function(){return[t._v(t._s(t.environmentName))]},proxy:!0}])})],1),t._v(" "),n("ul",{staticClass:"gl-list-style-none gl-p-0"},[n("li",[n("gl-sprintf",{attrs:{message:t.$options.translations.stableWeight},scopedSlots:t._u([{key:"bold",fn:function(e){var i=e.content;return[n("span",{staticClass:"gl-font-weight-bold"},[t._v(t._s(i))])]}},{key:"stable",fn:function(){return[t._v(t._s(t.stableWeight))]},proxy:!0}])})],1),t._v(" "),n("li",[n("gl-sprintf",{attrs:{message:t.$options.translations.canaryWeight},scopedSlots:t._u([{key:"bold",fn:function(e){var i=e.content;return[n("span",{staticClass:"gl-font-weight-bold"},[t._v(t._s(i))])]}},{key:"canary",fn:function(){return[t._v(t._s(t.canaryWeight))]},proxy:!0}])})],1)]),t._v(" "),n("p",[t._v(t._s(t.$options.translations.deploymentWarning))])]},proxy:!0}])},"gl-modal",t.$options.modal,!1))],1)}),[],!1,null,null,null).exports,A=n("Q33P"),N=n.n(A),R=n("s1D3"),q=n("MV2A"),$=n("DZUU"),L=n("LLbv"),F=n("R0j4"),U=n("3twG"),G={components:{GlLink:q.a},directives:{GlTooltip:L.a},props:{status:{type:String,required:!0,default:"succeeded"},tooltipText:{type:String,required:!1,default:""},stable:{type:Boolean,required:!1,default:!0},podName:{type:String,required:!1,default:""},logsPath:{type:String,required:!1,default:""}},computed:{isLink(){return""!==this.logsPath&&""!==this.podName},cssClass(){return{["deployment-instance-".concat(this.status)]:!0,"deployment-instance-canary":!this.stable,link:this.isLink}},computedLogPath(){return this.isLink?Object(U.q)({pod_name:this.podName},this.logsPath):null}}},M=Object(I.a)(G,(function(){var t=this.$createElement;return(this._self._c||t)("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"deployment-instance d-flex justify-content-center align-items-center",class:this.cssClass,attrs:{title:this.tooltipText,href:this.computedLogPath}})}),[],!1,null,null,null).exports,V=n("sHIo"),W=n("o4PY"),z=n.n(W),H=n("Yyc1"),K=n("wP8z"),X=n("XqDB"),J={components:{GlDropdown:H.a,GlDropdownItem:K.a},directives:{GlModal:X.a},props:{canaryIngress:{required:!0,type:Object}},ingressOptions:Array(21).fill(0).map((function(t,e){return 5*e})),translations:{stableLabel:Object(h.e)("CanaryIngress|Stable"),canaryLabel:Object(h.e)("CanaryIngress|Canary")},CANARY_UPDATE_MODAL:"confirm-canary-change",css:{label:["gl-font-base","gl-font-weight-normal","gl-line-height-normal","gl-inset-border-1-gray-200","gl-py-3","gl-px-4","gl-mb-0"]},computed:{stableWeightId:()=>z()("stable-weight-"),canaryWeightId:()=>z()("canary-weight-"),stableWeight(){return(100-this.canaryIngress.canary_weight).toString()},canaryWeight(){return this.canaryIngress.canary_weight.toString()}},methods:{changeCanary(t){this.$emit("change",t)},changeStable(t){this.$emit("change",100-t)}}};function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){Q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tt={components:{instanceComponent:M,CanaryIngress:Object(I.a)(J,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"gl-display-flex gl-bg-white gl-m-3"},[n("div",{staticClass:"gl-display-flex gl-flex-direction-column"},[n("label",{staticClass:"gl-rounded-top-left-base",class:t.$options.css.label,attrs:{for:t.stableWeightId}},[t._v("\n      "+t._s(t.$options.translations.stableLabel)+"\n    ")]),t._v(" "),n("gl-dropdown",{staticClass:"gl-w-full",attrs:{id:t.stableWeightId,text:t.stableWeight,"data-testid":"stable-weight","toggle-class":"gl-rounded-top-left-none! gl-rounded-top-right-none! gl-rounded-bottom-right-none!"}},t._l(t.$options.ingressOptions,(function(e){return n("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:t.$options.CANARY_UPDATE_MODAL,expression:"$options.CANARY_UPDATE_MODAL"}],key:e,on:{click:function(n){return t.changeStable(e)}}},[t._v(t._s(e))])})),1)],1),t._v(" "),n("div",{staticClass:"gl-display-flex gl-display-flex gl-flex-direction-column"},[n("label",{staticClass:"gl-rounded-top-right-base",class:t.$options.css.label,attrs:{for:t.canaryWeightId}},[t._v(t._s(t.$options.translations.canaryLabel))]),t._v(" "),n("gl-dropdown",{attrs:{id:t.canaryWeightId,text:t.canaryWeight,"data-testid":"canary-weight","toggle-class":"gl-rounded-top-left-none! gl-rounded-top-right-none! gl-rounded-bottom-left-none! gl-border-l-none!"}},t._l(t.$options.ingressOptions,(function(e){return n("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:t.$options.CANARY_UPDATE_MODAL,expression:"$options.CANARY_UPDATE_MODAL"}],key:e,on:{click:function(n){return t.changeCanary(e)}}},[t._v(t._s(e))])})),1)],1)])}),[],!1,null,null,null).exports,GlIcon:R.a,GlLoadingIcon:b.a,GlLink:q.a,GlTooltip:$.a},directives:{GlTooltip:L.a,SafeHtml:F.a},mixins:[Object(V.a)()],props:{deployBoardData:{type:Object,required:!0},isLoading:{type:Boolean,required:!0},isEmpty:{type:Boolean,required:!0},logsPath:{type:String,required:!1,default:""}},computed:{canRenderDeployBoard(){return!this.isEmpty&&!N()(this.deployBoardData)},canRenderEmptyState(){return this.isEmpty},canRenderCanaryWeight(){return this.glFeatures.canaryIngressWeightControl&&!N()(this.deployBoardData.canary_ingress)},instanceCount(){const{instances:t}=this.deployBoardData;return Array.isArray(t)?t.length:0},instanceIsCompletedCount(){const t=this.deployBoardData.completion/100,e=Math.floor(t*this.instanceCount);return Number.isNaN(e)?0:e},instanceIsCompletedText(){const t=Object(h.d)("instance completed","instances completed",this.instanceIsCompletedCount);return"".concat(this.instanceIsCompletedCount," ").concat(t)},instanceTitle(){return Object(h.d)("Instance","Instances",this.instanceCount)},deployBoardSvg:()=>'<svg width="55" height="44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g transform="translate(1.488 .803)"><rect stroke="#E5E5E5" stroke-width="1.6" fill="#FFF" width="42" height="42" rx="4"/><rect stroke="#E7E7E7" stroke-width="1.6" fill="#FFF" x="6" y="12" width="7.171" height="24" rx="2"/><rect stroke="#B5A7DD" stroke-width="1.6" fill="#FFF" x="6" y="5" width="32.17" height="3.5" rx="1.75"/><rect stroke="#FDE5D8" stroke-width="1.6" fill="#FFF" x="17" y="12" width="21.17" height="24" rx="2"/><rect fill="#E52C5A" x="19.74" y="14.197" width="7.171" height="2.408" rx="1.204"/><rect fill="#E5E5E5" x="28.35" y="18.272" width="7.171" height="2.408" rx="1.204"/><rect fill="#E5E5E5" x="19.74" y="26.697" width="15.943" height="2.408" rx="1.204"/><rect fill="#E5E5E5" x="19.74" y="30.697" width="15.943" height="2.408" rx="1.204"/><rect fill="#E52C5A" x="21.911" y="21.272" width="4.78" height="2.408" rx="1.204"/><rect fill="#FC8A51" x="28.472" y="22.429" width="7.171" height="2.408" rx="1.204"/><rect fill="#FDE5D8" x="26.691" y="8.429" width="2.39" height="2.408" rx="1.195"/><rect fill="#FF8340" x="8.512" y="14.85" width="2.39" height="2.408" rx="1.195"/><rect fill="#E52C5A" x="8.512" y="19.197" width="2.39" height="2.408" rx="1.195"/><rect fill="#FF8340" x="8.512" y="31.197" width="2.39" height="2.408" rx="1.195"/><rect fill="#E7E7E7" x="8.512" y="27.197" width="2.39" height="2.408" rx="1.195"/><rect fill="#B5A7DD" x="8.512" y="23.197" width="2.39" height="2.408" rx="1.195"/></g><g transform="rotate(-45 33.371 -12.99)"><ellipse stroke="#6B4FBB" stroke-width="3.2" fill-opacity=".1" fill="#FFF" cx="11.951" cy="12.041" rx="11.951" ry="12.041"/><path d="M5.536 22.29c5.716 3.3 13.046 1.307 16.37-4.452 3.326-5.759 1.387-13.103-4.329-16.403" stroke="#6B4FBB" stroke-width="3.2" fill-opacity=".3" fill="#FFF"/><rect fill="#6B4FBB" x="9.561" y="23.279" width="4.78" height="13.646" rx="2.39"/></g></g></svg>',deployBoardActions(){return this.deployBoardData.rollback_url||this.deployBoardData.abort_url},statuses:()=>Z(Z({},E),{},{CANARY_STATUS:x})},methods:{changeCanaryWeight(t){this.$emit("changeCanaryWeight",t)}}},et=Object(I.a)(tt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"js-deploy-board deploy-board"},[t.isLoading?n("gl-loading-icon",{staticClass:"loading-icon"}):[t.canRenderDeployBoard?n("div",{staticClass:"deploy-board-information gl-p-5"},[n("div",{staticClass:"deploy-board-information gl-w-full"},[n("section",{staticClass:"deploy-board-status"},[n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:t.instanceIsCompletedText}},[n("span",{ref:"percentage",staticClass:"gl-text-center text-plain gl-font-lg"},[t._v(t._s(t.deployBoardData.completion)+"%")]),t._v(" "),n("span",{staticClass:"text text-center text-secondary"},[t._v(t._s(t.__("Complete")))])])]),t._v(" "),n("section",{staticClass:"deploy-board-instances"},[n("div",{staticClass:"gl-font-base text-secondary"},[n("span",{staticClass:"deploy-board-instances-text"},[t._v(t._s(t.instanceTitle)+" ("+t._s(t.instanceCount)+")")]),t._v(" "),n("span",{ref:"legend-icon",attrs:{"data-testid":"legend-tooltip-target"}},[n("gl-icon",{staticClass:"gl-text-blue-500 gl-ml-2",attrs:{name:"question"}})],1),t._v(" "),n("gl-tooltip",{attrs:{target:function(){return t.$refs["legend-icon"]},boundary:"#content-body"}},[n("div",{staticClass:"deploy-board-legend gl-display-flex gl-flex-direction-column"},t._l(t.statuses,(function(e){return n("div",{key:e.text,staticClass:"gl-display-flex gl-align-items-center"},[n("instance-component",{attrs:{status:e.class,stable:e.stable}}),t._v(" "),n("span",{staticClass:"legend-text gl-ml-3"},[t._v(t._s(e.text))])],1)})),0)])],1),t._v(" "),n("div",{staticClass:"deploy-board-instances-container d-flex flex-wrap flex-row"},[t._l(t.deployBoardData.instances,(function(e,i){return[n("instance-component",{key:i,attrs:{status:e.status,"tooltip-text":e.tooltip,"pod-name":e.pod_name,"logs-path":t.logsPath,stable:e.stable}})]}))],2)]),t._v(" "),t.canRenderCanaryWeight?n("canary-ingress",{staticClass:"deploy-board-canary-ingress",attrs:{"canary-ingress":t.deployBoardData.canary_ingress},on:{change:t.changeCanaryWeight}}):t._e(),t._v(" "),t.deployBoardActions?n("section",{staticClass:"deploy-board-actions"},[t.deployBoardData.rollback_url?n("gl-link",{staticClass:"btn",attrs:{href:t.deployBoardData.rollback_url,"data-method":"post",rel:"nofollow"}},[t._v(t._s(t.__("Rollback")))]):t._e(),t._v(" "),t.deployBoardData.abort_url?n("gl-link",{staticClass:"btn btn-danger btn-inverted",attrs:{href:t.deployBoardData.abort_url,"data-method":"post",rel:"nofollow"}},[t._v(t._s(t.__("Abort")))]):t._e()],1):t._e()],1)]):t._e(),t._v(" "),t.canRenderEmptyState?n("div",{staticClass:"deploy-board-empty"},[n("section",{directives:[{name:"safe-html",rawName:"v-safe-html",value:t.deployBoardSvg,expression:"deployBoardSvg"}],staticClass:"deploy-board-empty-state-svg"}),t._v(" "),n("section",{staticClass:"deploy-board-empty-state-text"},[n("span",{staticClass:"deploy-board-empty-state-title d-flex"},[t._v(t._s(t.__("Kubernetes deployment not found")))]),t._v(" "),n("span",[t._v("\n          To see deployment progress for your environments, make sure you are deploying to\n          "),n("code",[t._v("$KUBE_NAMESPACE")]),t._v(" and annotating with\n          "),n("code",[t._v("app.gitlab.com/app=$CI_PROJECT_PATH_SLUG")]),t._v("\n          and\n          "),n("code",[t._v("app.gitlab.com/env=$CI_ENVIRONMENT_SLUG")]),t._v(".\n        ")])])]):t._e()]],2)}),[],!1,null,null,null).exports,nt=n("8zNS"),it=n("AN20"),ot=n("rX0p"),rt=n("ZHzM"),at=n("5QKO"),st=n("kJRM"),lt=n("bOix"),ct={directives:{GlTooltip:L.a},components:{GlDropdown:H.a,GlDropdownItem:K.a,GlIcon:R.a,GlLoadingIcon:b.a},props:{actions:{type:Array,required:!1,default:function(){return[]}}},data:()=>({isLoading:!1}),computed:{title:()=>Object(h.a)("Deploy to...")},methods:{onClickAction(t){if(t.scheduledAt){const e=Object(h.f)(Object(h.e)("DelayedJobs|Are you sure you want to run %{jobName} immediately? Otherwise this job will run automatically after its timer finishes."),{jobName:t.name});if(!window.confirm(e))return}this.isLoading=!0,st.a.$emit("postAction",{endpoint:t.playPath})},isActionDisabled:t=>void 0!==t.playable&&!t.playable,remainingTime(t){const e=new Date(t.scheduledAt).getTime()-Date.now();return Object(lt.j)(Math.max(0,e))}}},dt=Object(I.a)(ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:t.title,"aria-label":t.title,disabled:t.isLoading,right:"","data-container":"body","data-testid":"environment-actions-button"},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("gl-icon",{attrs:{name:"play"}}),t._v(" "),n("gl-icon",{attrs:{name:"chevron-down"}}),t._v(" "),t.isLoading?n("gl-loading-icon"):t._e()]},proxy:!0}])},[t._v(" "),t._l(t.actions,(function(e,i){return n("gl-dropdown-item",{key:i,attrs:{disabled:t.isActionDisabled(e),"data-testid":"manual-action-link"},on:{click:function(n){return t.onClickAction(e)}}},[n("span",{staticClass:"gl-flex-fill-1"},[t._v(t._s(e.name))]),t._v(" "),e.scheduledAt?n("span",{staticClass:"gl-text-gray-500 float-right"},[n("gl-icon",{attrs:{name:"clock"}}),t._v("\n      "+t._s(t.remainingTime(e))+"\n    ")],1):t._e()])}))],2)}),[],!1,null,null,null).exports,ut=n("4lAS"),pt=n("GuZl"),mt={components:{GlButton:ut.a},directives:{GlTooltip:L.a,GlModalDirective:X.a},props:{environment:{type:Object,required:!0}},data:()=>({isLoading:!1}),computed:{title:()=>Object(h.e)("Environments|Delete environment")},mounted(){st.a.$on("deleteEnvironment",this.onDeleteEnvironment)},beforeDestroy(){st.a.$off("deleteEnvironment",this.onDeleteEnvironment)},methods:{onClick(){this.$root.$emit(pt.b,this.$options.deleteEnvironmentTooltipId),st.a.$emit("requestDeleteEnvironment",this.environment)},onDeleteEnvironment(t){this.environment.id===t.id&&(this.isLoading=!0)}},deleteEnvironmentTooltipId:"delete-environment-button-tooltip"},ht=Object(I.a)(mt,(function(){var t=this.$createElement;return(this._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{id:this.$options.deleteEnvironmentTooltipId},expression:"{ id: $options.deleteEnvironmentTooltipId }"},{name:"gl-modal-directive",rawName:"v-gl-modal-directive",value:"delete-environment-modal",expression:"'delete-environment-modal'"}],staticClass:"gl-display-none gl-md-display-block",attrs:{loading:this.isLoading,title:this.title,"aria-label":this.title,variant:"danger",category:"primary",icon:"remove"},on:{click:this.onClick}})}),[],!1,null,null,null).exports,gt={components:{GlButton:ut.a},directives:{GlTooltip:L.a},props:{externalUrl:{type:String,required:!0}},computed:{title:()=>Object(h.e)("Environments|Open live environment")}},ft=Object(I.a)(gt,(function(){var t=this.$createElement;return(this._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"external-url",attrs:{title:this.title,"aria-label":this.title,href:this.externalUrl,target:"_blank",icon:"external-link",rel:"noopener noreferrer nofollow"}})}),[],!1,null,null,null).exports,bt={components:{GlButton:ut.a},directives:{GlTooltip:L.a},props:{monitoringUrl:{type:String,required:!0}},computed:{title:()=>Object(h.a)("Monitoring")}},vt=Object(I.a)(bt,(function(){var t=this.$createElement;return(this._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"monitoring-url gl-display-none gl-sm-display-none gl-md-display-block",attrs:{href:this.monitoringUrl,title:this.title,"aria-label":this.title,icon:"chart",rel:"noopener noreferrer nofollow",variant:"default"}})}),[],!1,null,null,null).exports,yt={components:{GlIcon:R.a,GlButton:ut.a},directives:{GlTooltip:L.a},props:{autoStopUrl:{type:String,required:!0}},methods:{onPinClick(){st.a.$emit("cancelAutoStop",this.autoStopUrl)}},title:Object(h.a)("Prevent environment from auto-stopping")},_t=Object(I.a)(yt,(function(){var t=this.$createElement,e=this._self._c||t;return e("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:this.$options.title,"aria-label":this.$options.title},on:{click:this.onPinClick}},[e("gl-icon",{attrs:{name:"thumbtack"}})],1)}),[],!1,null,null,null).exports;function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(n),!0).forEach((function(e){jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ct={components:{GlButton:ut.a},directives:{GlTooltip:L.a,GlModal:X.a},props:{isLastDeployment:{type:Boolean,default:!0,required:!1},environment:{type:Object,required:!0},retryUrl:{type:String,required:!0}},data:()=>({isLoading:!1}),computed:{title(){return this.isLastDeployment?Object(h.e)("Environments|Re-deploy to environment"):Object(h.e)("Environments|Rollback environment")}},methods:{onClick(){var t=this;st.a.$emit("requestRollbackEnvironment",wt(wt({},this.environment),{},{retryUrl:this.retryUrl,isLastDeployment:this.isLastDeployment})),st.a.$on("rollbackEnvironment",(function(e){e.id===t.environment.id&&(t.isLoading=!0)}))}}},kt=Object(I.a)(Ct,(function(){var t=this.$createElement;return(this._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"},{name:"gl-modal",rawName:"v-gl-modal.confirm-rollback-modal",modifiers:{"confirm-rollback-modal":!0}}],staticClass:"gl-display-none gl-md-display-block text-secondary",attrs:{loading:this.isLoading,title:this.title,"aria-label":this.title,icon:this.isLastDeployment?"repeat":"redo"},on:{click:this.onClick}})}),[],!1,null,null,null).exports,Dt={components:{GlButton:ut.a},directives:{GlTooltip:L.a,GlModalDirective:X.a},props:{environment:{type:Object,required:!0}},data:()=>({isLoading:!1}),computed:{title:()=>Object(h.e)("Environments|Stop environment")},mounted(){st.a.$on("stopEnvironment",this.onStopEnvironment)},beforeDestroy(){st.a.$off("stopEnvironment",this.onStopEnvironment)},methods:{onClick(){this.$root.$emit(pt.b,this.$options.stopEnvironmentTooltipId),st.a.$emit("requestStopEnvironment",this.environment)},onStopEnvironment(t){this.environment.id===t.id&&(this.isLoading=!0)}},stopEnvironmentTooltipId:"stop-environment-button-tooltip"},Et=Object(I.a)(Dt,(function(){var t=this.$createElement;return(this._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{id:this.$options.stopEnvironmentTooltipId},expression:"{ id: $options.stopEnvironmentTooltipId }"},{name:"gl-modal-directive",rawName:"v-gl-modal-directive",value:"stop-environment-modal",expression:"'stop-environment-modal'"}],attrs:{loading:this.isLoading,title:this.title,"aria-label":this.title,icon:"stop",category:"primary",variant:"danger"},on:{click:this.onClick}})}),[],!1,null,null,null).exports,xt={components:{GlIcon:R.a},directives:{GlTooltip:L.a},props:{terminalPath:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1}},computed:{title:()=>Object(h.a)("Terminal")}},St=Object(I.a)(xt,(function(){var t=this.$createElement,e=this._self._c||t;return e("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"btn terminal-button d-none d-md-block text-secondary",class:{disabled:this.disabled},attrs:{title:this.title,"aria-label":this.title,href:this.terminalPath}},[e("gl-icon",{attrs:{name:"terminal"}})],1)}),[],!1,null,null,null).exports;function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach((function(e){It(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function It(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bt={components:{ActionsComponent:dt,CommitComponent:it.a,ExternalUrlComponent:ft,GlIcon:R.a,GlLink:q.a,MonitoringButtonComponent:vt,PinComponent:_t,DeleteComponent:ht,RollbackComponent:kt,StopComponent:Et,TerminalButtonComponent:St,TooltipOnTruncate:ot.a,UserAvatarLink:rt.a,CiIcon:nt.a},directives:{GlTooltip:L.a},mixins:[at.a],props:{canReadEnvironment:{type:Boolean,required:!1,default:!1},model:{type:Object,required:!0},tableData:{type:Object,required:!0}},computed:{deployIconName(){return this.model.isDeployBoardVisible?"chevron-down":"chevron-right"},hasLastDeploymentKey(){return!(!this.model||!this.model.last_deployment||N()(this.model.last_deployment))},upcomingDeployment(){var t;return null===(t=this.model)||void 0===t?void 0:t.upcoming_deployment},upcomingDeploymentTooltipText(){return Object(h.f)(Object(h.e)("Environments|Deployment %{status}"),{status:this.upcomingDeployment.deployable.status.text})},isFolder(){return this.model.isFolder},isProtected(){return this.model&&this.model.is_protected},canStopEnvironment(){return this.model&&this.model.can_stop},canDeleteEnvironment(){return Boolean(this.model&&this.model.can_delete&&this.model.delete_path)},canRetry(){return this.model&&this.hasLastDeploymentKey&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.retry_path},canShowAutoStopDate(){if(!this.model.auto_stop_at)return!1;const t=new Date(this.model.auto_stop_at);return new Date<t},autoStopDate(){return this.canShowAutoStopDate?{formatted:this.timeFormatted(this.model.auto_stop_at),tooltip:this.tooltipTitle(this.model.auto_stop_at)}:{formatted:"",tooltip:""}},canShowDeploymentDate(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployed_at},deployedDate(){return this.canShowDeploymentDate?{formatted:this.timeFormatted(this.model.last_deployment.deployed_at),tooltip:this.tooltipTitle(this.model.last_deployment.deployed_at)}:{formatted:"",tooltip:""}},actions(){if(!this.model||!this.model.last_deployment)return[];const{manualActions:t,scheduledActions:e}=Object(p.h)(this.model.last_deployment,{deep:!0});return(t||[]).concat(e||[]).map((function(t){return Tt(Tt({},t),{},{name:t.name})}))},shouldRenderDeployBoard(){return this.model.hasDeployBoard},userImageAltDescription(){return this.model&&this.model.last_deployment&&this.model.last_deployment.user&&this.model.last_deployment.user.username?Object(h.f)(Object(h.a)("%{username}'s avatar"),{username:this.model.last_deployment.user.username}):""},upcomingDeploymentUserImageAltDescription(){return Object(h.f)(Object(h.a)("%{username}'s avatar"),{username:this.upcomingDeployment.user.username})},commitTag(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.tag)return this.model.last_deployment.tag},commitRef(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.ref)return this.model.last_deployment.ref},commitUrl(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.commit_path)return this.model.last_deployment.commit.commit_path},commitShortSha(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.short_id)return this.model.last_deployment.commit.short_id},commitTitle(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.title)return this.model.last_deployment.commit.title},commitAuthor(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.author)return this.model.last_deployment.commit.author},retryUrl(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.retry_path)return this.model.last_deployment.deployable.retry_path},isLastDeployment(){return this.model&&this.model.last_deployment&&this.model.last_deployment["last?"]},buildName(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.deployable){const{deployable:t}=this.model.last_deployment;return"".concat(t.name," #").concat(t.id)}return""},deploymentInternalId(){return this.model&&this.model.last_deployment&&this.model.last_deployment.iid?"#".concat(this.model.last_deployment.iid):""},upcomingDeploymentInternalId(){return"#".concat(this.upcomingDeployment.iid)},deploymentHasUser(){return this.model&&!N()(this.model.last_deployment)&&!N()(this.model.last_deployment.user)},deploymentUser(){return!this.model||N()(this.model.last_deployment)||N()(this.model.last_deployment.user)?{}:this.model.last_deployment.user},showNoDeployments(){return!this.hasLastDeploymentKey&&!this.isFolder},shouldRenderBuildName(){return!this.isFolder&&!N()(this.model.last_deployment)&&!N()(this.model.last_deployment.deployable)},buildPath(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.build_path?this.model.last_deployment.deployable.build_path:""},externalURL(){return this.model.external_url||""},shouldRenderDeploymentID(){return!this.isFolder&&!N()(this.model.last_deployment)&&void 0!==this.model.last_deployment.iid},environmentPath(){return this.model.environment_path||""},monitoringUrl(){return this.model.metrics_path||""},autoStopUrl(){return this.model.cancel_auto_stop_path||""},displayEnvironmentActions(){return this.actions.length>0||this.externalURL||this.monitoringUrl||this.canStopEnvironment||this.canDeleteEnvironment||this.canRetry},folderIconName(){return this.model.isOpen?"chevron-down":"chevron-right"},upcomingDeploymentCellClasses(){return[this.tableData.upcoming.spacing,{"gl-display-none gl-md-display-block":!this.upcomingDeployment}]}},methods:{toggleDeployBoard(){st.a.$emit("toggleDeployBoard",this.model)},onClickFolder(){st.a.$emit("toggleFolder",this.model)},getMobileViewTitleForField(t){const e=this.tableData[t];return e.mobileTitle||e.title}}};function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){Rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qt={components:{EnvironmentItem:Object(I.a)(Bt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gl-responsive-table-row",class:{"js-child-row environment-child-row":t.model.isChildren,"folder-row":t.isFolder},attrs:{role:"row"}},[n("div",{staticClass:"table-section section-wrap text-truncate",class:t.tableData.name.spacing,attrs:{role:"gridcell"}},[t.isFolder?t._e():n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v("\n      "+t._s(t.getMobileViewTitleForField("name"))+"\n    ")]),t._v(" "),t.shouldRenderDeployBoard?n("span",{staticClass:"deploy-board-icon",on:{click:t.toggleDeployBoard}},[n("gl-icon",{attrs:{name:t.deployIconName}})],1):t._e(),t._v(" "),t.isFolder?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"folder-name",attrs:{title:t.model.folderName,role:"button"},on:{click:t.onClickFolder}},[n("gl-icon",{staticClass:"folder-icon",attrs:{name:t.folderIconName}}),t._v(" "),n("gl-icon",{staticClass:"folder-icon",attrs:{name:"folder"}}),t._v(" "),n("span",[t._v(" "+t._s(t.model.folderName)+" ")]),t._v(" "),n("span",{staticClass:"badge badge-pill"},[t._v(" "+t._s(t.model.size)+" ")])],1):n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"environment-name table-mobile-content",attrs:{title:t.model.name}},[n("a",{staticClass:"qa-environment-link",attrs:{href:t.environmentPath}},[1===t.model.size?n("span",[t._v(t._s(t.model.name))]):n("span",[t._v(t._s(t.model.name_without_type))])]),t._v(" "),t.isProtected?n("span",{staticClass:"badge badge-success"},[t._v("\n        "+t._s(t.s__("Environments|protected"))+"\n      ")]):t._e()])]),t._v(" "),n("div",{staticClass:"table-section deployment-column d-none d-md-block",class:t.tableData.deploy.spacing,attrs:{role:"gridcell"}},[t.shouldRenderDeploymentID?n("span",{staticClass:"text-break-word"},[t._v("\n      "+t._s(t.deploymentInternalId)+"\n    ")]):t._e(),t._v(" "),!t.isFolder&&t.deploymentHasUser?n("span",{staticClass:"text-break-word"},[t._v("\n      by\n      "),n("user-avatar-link",{staticClass:"js-deploy-user-container float-none",attrs:{"link-href":t.deploymentUser.web_url,"img-src":t.deploymentUser.avatar_url,"img-alt":t.userImageAltDescription,"tooltip-text":t.deploymentUser.username}})],1):t._e(),t._v(" "),t.showNoDeployments?n("div",{staticClass:"commit-title table-mobile-content"},[t._v("\n      "+t._s(t.s__("Environments|No deployments yet"))+"\n    ")]):t._e()]),t._v(" "),n("div",{staticClass:"table-section d-none d-md-block",class:t.tableData.build.spacing,attrs:{role:"gridcell"}},[t.shouldRenderBuildName?n("a",{staticClass:"build-link cgray",attrs:{href:t.buildPath}},[n("tooltip-on-truncate",{staticClass:"flex-truncate-parent",attrs:{title:t.buildName,"truncate-target":"child"}},[n("span",{staticClass:"flex-truncate-child"},[t._v("\n          "+t._s(t.buildName)+"\n        ")])])],1):t._e()]),t._v(" "),t.isFolder?t._e():n("div",{staticClass:"table-section",class:t.tableData.commit.spacing,attrs:{role:"gridcell"}},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v("\n      "+t._s(t.getMobileViewTitleForField("commit"))+"\n    ")]),t._v(" "),t.hasLastDeploymentKey?n("div",{staticClass:"js-commit-component table-mobile-content"},[n("commit-component",{attrs:{tag:t.commitTag,"commit-ref":t.commitRef,"commit-url":t.commitUrl,"short-sha":t.commitShortSha,title:t.commitTitle,author:t.commitAuthor}})],1):t._e()]),t._v(" "),t.isFolder?t._e():n("div",{staticClass:"table-section",class:t.tableData.date.spacing,attrs:{role:"gridcell"}},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v("\n      "+t._s(t.getMobileViewTitleForField("date"))+"\n    ")]),t._v(" "),t.canShowDeploymentDate?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"environment-created-date-timeago table-mobile-content flex-truncate-parent",attrs:{title:t.deployedDate.tooltip}},[n("span",{staticClass:"flex-truncate-child"},[t._v("\n        "+t._s(t.deployedDate.formatted)+"\n      ")])]):t._e()]),t._v(" "),t.isFolder?t._e():n("div",{staticClass:"table-section",class:t.upcomingDeploymentCellClasses,attrs:{role:"gridcell","data-testid":"upcoming-deployment"}},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v("\n      "+t._s(t.getMobileViewTitleForField("upcoming"))+"\n    ")]),t._v(" "),t.upcomingDeployment?n("div",{staticClass:"gl-w-full gl-display-flex gl-flex-direction-row gl-md-flex-direction-column! gl-justify-content-end",attrs:{"data-testid":"upcoming-deployment-content"}},[n("div",{staticClass:"gl-display-flex gl-align-items-center"},[n("span",{staticClass:"gl-mr-2"},[t._v(t._s(t.upcomingDeploymentInternalId))]),t._v(" "),t.upcomingDeployment.deployable?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{href:t.upcomingDeployment.deployable.build_path,title:t.upcomingDeploymentTooltipText,"data-testid":"upcoming-deployment-status-link"}},[n("ci-icon",{staticClass:"gl-mr-2",attrs:{status:t.upcomingDeployment.deployable.status}})],1):t._e()],1),t._v(" "),n("div",{staticClass:"gl-display-flex"},[t.upcomingDeployment.user?n("span",{staticClass:"text-break-word"},[t._v("\n          by\n          "),n("user-avatar-link",{attrs:{"link-href":t.upcomingDeployment.user.web_url,"img-src":t.upcomingDeployment.user.avatar_url,"img-alt":t.upcomingDeploymentUserImageAltDescription,"tooltip-text":t.upcomingDeployment.user.username}})],1):t._e()])]):t._e()]),t._v(" "),t.isFolder?t._e():n("div",{staticClass:"table-section",class:t.tableData.autoStop.spacing,attrs:{role:"gridcell"}},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v("\n      "+t._s(t.getMobileViewTitleForField("autoStop"))+"\n    ")]),t._v(" "),t.canShowAutoStopDate?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"table-mobile-content flex-truncate-parent",attrs:{title:t.autoStopDate.tooltip}},[n("span",{staticClass:"flex-truncate-child js-auto-stop"},[t._v(t._s(t.autoStopDate.formatted))])]):t._e()]),t._v(" "),!t.isFolder&&t.displayEnvironmentActions?n("div",{staticClass:"table-section table-button-footer",class:t.tableData.actions.spacing,attrs:{role:"gridcell"}},[n("div",{staticClass:"btn-group table-action-buttons",attrs:{role:"group"}},[t.canShowAutoStopDate?n("pin-component",{attrs:{"auto-stop-url":t.autoStopUrl}}):t._e(),t._v(" "),t.externalURL&&t.canReadEnvironment?n("external-url-component",{attrs:{"external-url":t.externalURL}}):t._e(),t._v(" "),t.monitoringUrl&&t.canReadEnvironment?n("monitoring-button-component",{attrs:{"monitoring-url":t.monitoringUrl}}):t._e(),t._v(" "),t.actions.length>0?n("actions-component",{attrs:{actions:t.actions}}):t._e(),t._v(" "),t.model&&t.model.terminal_path?n("terminal-button-component",{attrs:{"terminal-path":t.model.terminal_path}}):t._e(),t._v(" "),t.canRetry?n("rollback-component",{attrs:{environment:t.model,"is-last-deployment":t.isLastDeployment,"retry-url":t.retryUrl}}):t._e(),t._v(" "),t.canStopEnvironment?n("stop-component",{attrs:{environment:t.model}}):t._e(),t._v(" "),t.canDeleteEnvironment?n("delete-component",{attrs:{environment:t.model}}):t._e()],1)]):t._e()])}),[],!1,null,null,null).exports,GlLoadingIcon:b.a,DeployBoard:et,EnvironmentAlert:function(){return n.e(8).then(n.bind(null,"4b03"))},CanaryUpdateModal:B},props:{environments:{type:Array,required:!0,default:function(){return[]}},canReadEnvironment:{type:Boolean,required:!1,default:!1}},data:()=>({canaryWeight:0,environmentToChange:null}),computed:{sortedEnvironments(){var t=this;return this.sortEnvironments(this.environments).map((function(e){return t.shouldRenderFolderContent(e)?Nt(Nt({},e),{},{children:t.sortEnvironments(e.children)}):e}))},tableData:()=>({name:{title:Object(h.e)("Environments|Environment"),spacing:"section-10"},deploy:{title:Object(h.e)("Environments|Deployment"),spacing:"section-10"},build:{title:Object(h.e)("Environments|Job"),spacing:"section-15"},commit:{title:Object(h.e)("Environments|Commit"),spacing:"section-15"},date:{title:Object(h.e)("Environments|Updated"),spacing:"section-10"},upcoming:{title:Object(h.e)("Environments|Upcoming"),mobileTitle:Object(h.e)("Environments|Upcoming deployment"),spacing:"section-10"},autoStop:{title:Object(h.e)("Environments|Auto stop in"),spacing:"section-10"},actions:{spacing:"section-20"}})},methods:{folderUrl:t=>"".concat(window.location.pathname,"/folders/").concat(t.folderName),shouldRenderDeployBoard:t=>t.hasDeployBoard&&t.isDeployBoardVisible,shouldRenderFolderContent:t=>t.isFolder&&t.isOpen&&t.children&&t.children.length>0,shouldRenderAlert:t=>null==t?void 0:t.has_opened_alert,sortEnvironments:t=>j()(y()((function(t){return t.isFolder?t.folderName:t.name})),O.a,y()((function(t){return t.last_deployment?t.last_deployment.created_at:"0000"})),O.a,y()((function(t){return t.isFolder?-1:1})))(t),changeCanaryWeight(t,e){this.environmentToChange=t,this.canaryWeight=e}}},$t=Object(I.a)(qt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ci-table",attrs:{role:"grid"}},[n("canary-update-modal",{attrs:{environment:t.environmentToChange,weight:t.canaryWeight}}),t._v(" "),n("div",{staticClass:"gl-responsive-table-row table-row-header",attrs:{role:"row"}},[n("div",{staticClass:"table-section",class:t.tableData.name.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.name.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section",class:t.tableData.deploy.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.deploy.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section",class:t.tableData.build.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.build.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section",class:t.tableData.commit.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.commit.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section",class:t.tableData.date.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.date.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section",class:t.tableData.upcoming.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.upcoming.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section",class:t.tableData.autoStop.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.autoStop.title)+"\n    ")])]),t._v(" "),t._l(t.sortedEnvironments,(function(e,i){return[n("environment-item",{key:"environment-item-"+i,tag:"div",attrs:{model:e,"can-read-environment":t.canReadEnvironment,"table-data":t.tableData,"data-qa-selector":"environment_item"}}),t._v(" "),t.shouldRenderDeployBoard(e)?n("div",{key:"deploy-board-row-"+i,staticClass:"js-deploy-board-row"},[n("div",{staticClass:"deploy-board-container"},[n("deploy-board",{attrs:{"deploy-board-data":e.deployBoardData,"is-loading":e.isLoadingDeployBoard,"is-empty":e.isEmptyDeployBoard,"logs-path":e.logs_path},on:{changeCanaryWeight:function(n){return t.changeCanaryWeight(e,n)}}})],1)]):t._e(),t._v(" "),t.shouldRenderAlert(e)?n("environment-alert",{key:"alert-row-"+i,attrs:{environment:e}}):t._e(),t._v(" "),t.shouldRenderFolderContent(e)?[e.isLoadingFolderContent?n("div",{key:"loading-item-"+i},[n("gl-loading-icon",{staticClass:"gl-mt-5",attrs:{size:"md"}})],1):[t._l(e.children,(function(o,r){return[n("environment-item",{key:"environment-row-"+i+"-"+r,tag:"div",attrs:{model:o,"can-read-environment":t.canReadEnvironment,"table-data":t.tableData,"data-qa-selector":"environment_item"}}),t._v(" "),t.shouldRenderDeployBoard(o)?n("div",{key:"deploy-board-row-"+i+"-"+r,staticClass:"js-deploy-board-row"},[n("div",{staticClass:"deploy-board-container"},[n("deploy-board",{attrs:{"deploy-board-data":o.deployBoardData,"is-loading":o.isLoadingDeployBoard,"is-empty":o.isEmptyDeployBoard,"logs-path":o.logs_path},on:{changeCanaryWeight:function(e){return t.changeCanaryWeight(o,e)}}})],1)]):t._e(),t._v(" "),t.shouldRenderAlert(e)?n("environment-alert",{key:"alert-row-"+i+"-"+r,attrs:{environment:o}}):t._e()]})),t._v(" "),n("div",{key:"sub-div-"+i},[n("div",{staticClass:"text-center gl-mt-3"},[n("a",{staticClass:"btn btn-default",attrs:{href:t.folderUrl(e)}},[t._v("\n              "+t._s(t.s__("Environments|Show all"))+"\n            ")])])])]]:t._e()]}))],2)}),[],!1,null,null,null).exports,Lt={components:{EnvironmentTable:$t,TablePagination:f.a,GlLoadingIcon:b.a},props:{isLoading:{type:Boolean,required:!0},environments:{type:Array,required:!0},pagination:{type:Object,required:!0},canReadEnvironment:{type:Boolean,required:!0}},methods:{onChangePage(t){this.$emit("onChangePage",t)}}},Ft=Object(I.a)(Lt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"environments-container"},[t.isLoading?n("gl-loading-icon",{staticClass:"gl-mt-3",attrs:{size:"md",label:"Loading environments"}}):t._e(),t._v(" "),t._t("empty-state"),t._v(" "),!t.isLoading&&t.environments.length>0?n("div",{staticClass:"table-holder"},[n("environment-table",{attrs:{environments:t.environments,"can-read-environment":t.canReadEnvironment}}),t._v(" "),t.pagination&&t.pagination.totalPages>1?n("table-pagination",{attrs:{change:t.onChangePage,"page-info":t.pagination}}):t._e()],1):t._e()],2)}),[],!1,null,null,null).exports,Ut=n("2ibD");class Gt{constructor(t){this.environmentsEndpoint=t,this.folderResults=3}fetchEnvironments(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{scope:e,page:n,nested:i}=t;return Ut.a.get(this.environmentsEndpoint,{params:{scope:e,page:n,nested:i}})}postAction(t){return Ut.a.post(t,{})}deleteAction(t){return Ut.a.delete(t,{})}getFolderContent(t,e){return Ut.a.get("".concat(t,".json?per_page=").concat(this.folderResults,"&scope=").concat(e))}}n("EWC9");function Mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(n),!0).forEach((function(e){Wt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const zt=function(t,e){let n=e;return!e.isFolder&&e.rollout_status&&(n=Vt(Vt({},e),{},{hasDeployBoard:!0,isDeployBoardVisible:!1!==t.isDeployBoardVisible||t.isDeployBoardVisible,deployBoardData:"found"===e.rollout_status.status?e.rollout_status:{},isLoadingDeployBoard:"loading"===e.rollout_status.status,isEmptyDeployBoard:"not_found"===e.rollout_status.status})),n};function Ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(n),!0).forEach((function(e){Xt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Jt{constructor(){return this.state={},this.state.environments=[],this.state.stoppedCounter=0,this.state.availableCounter=0,this.state.paginationInformation={},this.state.reviewAppDetails={},this}storeEnvironments(){var t=this;const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){const n=t.state.environments.find((function(t){return e.latest?t.id===e.latest.id:t.id===e.id}))||{};let i={};return e.size>1&&(i=Kt(Kt({},e),{},{isFolder:!0,isLoadingFolderContent:n.isLoading||!1,folderName:e.name,isOpen:n.isOpen||!1,children:n.children||[]})),e.latest?delete(i=Object.assign(i,e,e.latest)).latest:i=Object.assign(i,e),i=zt(n,i)}));return this.state.environments=e,e}setPagination(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Object(p.I)(t),n=Object(p.L)(e);return this.state.paginationInformation=n,n}setReviewAppDetails(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.state.reviewAppDetails=t,t}storeAvailableCount(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.availableCounter=t,t}storeStoppedCount(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.stoppedCounter=t,t}toggleDeployBoard(t){const e=this.state.environments.slice();return this.state.environments=e.map((function(e){let n=Kt({},e);return e.id===t&&(n=Kt(Kt({},n),{},{isDeployBoardVisible:!e.isDeployBoardVisible})),n})),this.state.environments}toggleFolder(t){return this.updateEnvironmentProp(t,"isOpen",!t.isOpen)}setfolderContent(t,e){const n=e.map((function(t){let e=t;return t.latest?delete(e=Kt(Kt({},t),t.latest)).latest:e=t,e.isChildren=!0,e=zt(t,e)}));return this.updateEnvironmentProp(t,"children",n)}updateEnvironmentProp(t,e,n){const{environments:i}=this.state,o=i.map((function(i){const o=Kt({},i);return i.id===t.id&&(o[e]=n),o}));this.state.environments=o}getOpenFolders(){const{environments:t}=this.state;return t.filter((function(t){return t.isFolder&&t.isOpen}))}}e.a={components:{environmentTable:$t,container:Ft,tabs:g.a,tablePagination:f.a},data(){const t=new Jt,e=document.body.contains(document.getElementById("environments-detail-view"));return{store:t,state:t.state,isLoading:!1,isMakingRequest:!1,scope:Object(p.p)("scope")||"available",page:Object(p.p)("page")||"1",requestData:{},environmentInStopModal:{},environmentInDeleteModal:{},environmentInRollbackModal:{},isDetailView:e}},methods:{saveData(t){this.isLoading=!1;const e=this.filterNilValues(t.config.params),n=this.filterNilValues(this.requestData);l()(e,n)&&(this.store.storeAvailableCount(t.data.available_count),this.store.storeStoppedCount(t.data.stopped_count),this.store.storeEnvironments(t.data.environments),this.store.setReviewAppDetails(t.data.review_app),this.store.setPagination(t.headers))},filterNilValues:t=>o()(t,(function(t){return null==t})),updateContent(t){var e=this;return this.updateInternalState(t),this.service.fetchEnvironments(this.requestData).then((function(t){e.successCallback(t),e.poll.enable({data:e.requestData,response:t})})).catch((function(){e.errorCallback(),e.poll.restart()}))},errorCallback(){this.isLoading=!1,Object(u.c)(Object(h.e)("Environments|An error occurred while fetching the environments."))},postAction(t){var e=this;let{endpoint:n,errorMessage:i=Object(h.e)("Environments|An error occurred while making the request.")}=t;this.isMakingRequest||(this.isLoading=!0,this.service.postAction(n).then((function(){return e.fetchEnvironments()})).catch((function(t){e.isLoading=!1,Object(u.c)(a()(i)?i(t.response.data):i)})))},fetchEnvironments(){return this.isLoading=!0,this.service.fetchEnvironments(this.requestData).then(this.successCallback).catch(this.errorCallback)},updateStopModal(t){this.environmentInStopModal=t},updateDeleteModal(t){this.environmentInDeleteModal=t},updateRollbackModal(t){this.environmentInRollbackModal=t},stopEnvironment(t){const e=t.stop_path,n=Object(h.e)("Environments|An error occurred while stopping the environment, please try again");this.postAction({endpoint:e,errorMessage:n})},deleteEnvironment(t){const e=t.delete_path,{onSingleEnvironmentPage:n}=t,i=Object(h.e)("Environments|An error occurred while deleting the environment. Check if the environment stopped; if not, stop it and try again.");this.service.deleteAction(e).then((function(){if(!n)return void window.location.reload();const t=window.location.href.split("/");t.pop(),window.location.href=t.join("/")})).catch((function(){Object(u.c)(i)}))},rollbackEnvironment(t){const{retryUrl:e,isLastDeployment:n}=t,i=n?Object(h.e)("Environments|An error occurred while re-deploying the environment, please try again"):Object(h.e)("Environments|An error occurred while rolling back the environment, please try again");this.postAction({endpoint:e,errorMessage:i})},cancelAutoStop(t){this.postAction({endpoint:t,errorMessage:function(t){let{message:e}=t;return e||Object(h.e)("Environments|An error occurred while canceling the auto stop, please try again")}})}},computed:{tabs(){return[{name:Object(h.e)("Available"),scope:"available",count:this.state.availableCounter,isActive:"available"===this.scope},{name:Object(h.e)("Stopped"),scope:"stopped",count:this.state.stoppedCounter,isActive:"stopped"===this.scope}]}},created(){var t=this;this.service=new Gt(this.endpoint),this.requestData={page:this.page,scope:this.scope,nested:!0},this.isDetailView||(this.poll=new m.a({resource:this.service,method:"fetchEnvironments",data:this.requestData,successCallback:this.successCallback,errorCallback:this.errorCallback,notificationCallback:function(e){t.isMakingRequest=e}}),d.a.hidden()?this.fetchEnvironments():(this.isLoading=!0,this.poll.makeRequest()),d.a.change((function(){d.a.hidden()?t.poll.stop():t.poll.restart()}))),st.a.$on("postAction",this.postAction),st.a.$on("requestStopEnvironment",this.updateStopModal),st.a.$on("stopEnvironment",this.stopEnvironment),st.a.$on("requestDeleteEnvironment",this.updateDeleteModal),st.a.$on("deleteEnvironment",this.deleteEnvironment),st.a.$on("requestRollbackEnvironment",this.updateRollbackModal),st.a.$on("rollbackEnvironment",this.rollbackEnvironment),st.a.$on("cancelAutoStop",this.cancelAutoStop)},beforeDestroy(){st.a.$off("postAction",this.postAction),st.a.$off("requestStopEnvironment",this.updateStopModal),st.a.$off("stopEnvironment",this.stopEnvironment),st.a.$off("requestDeleteEnvironment",this.updateDeleteModal),st.a.$off("deleteEnvironment",this.deleteEnvironment),st.a.$off("requestRollbackEnvironment",this.updateRollbackModal),st.a.$off("rollbackEnvironment",this.rollbackEnvironment),st.a.$off("cancelAutoStop",this.cancelAutoStop)}}},dsWN:function(t,e,n){"use strict";var i=n("XBTk"),o=n("Ge+5"),r=n("4lAS"),a=n("s1D3"),s=n("Pyw5"),l=n.n(s);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const p={components:{GlIcon:a.a,CloseButton:o.a,GlButton:r.a},props:{title:{type:String,required:!1,default:""},dismissible:{type:Boolean,required:!1,default:!0},dismissLabel:{type:String,required:!1,default:"Dismiss"},variant:{type:String,required:!1,default:i.c.info,validator:function(t){return Object.keys(i.c).includes(t)}},primaryButtonLink:{type:String,required:!1,default:""},primaryButtonText:{type:String,required:!1,default:""},secondaryButtonLink:{type:String,required:!1,default:""},secondaryButtonText:{type:String,required:!1,default:""},contained:{type:Boolean,required:!1,default:!1},sticky:{type:Boolean,required:!1,default:!1}},computed:{iconName:function(){return i.b[this.variant]},shouldRenderActions:function(){return Boolean(this.$slots.actions||this.actionButtons.length)},actionButtons:function(){return[{text:this.primaryButtonText,attrs:{href:this.primaryButtonLink,variant:"confirm",category:i.u.primary},listeners:{click:this.primaryButtonClicked}},{text:this.secondaryButtonText,attrs:{href:this.secondaryButtonLink,variant:"default",category:i.u.secondary},listeners:{click:this.secondaryButtonClicked}}].reduce((function(t,e){if(!e.text)return t;var n=u({},e.attrs);return n.href||delete n.href,t.push(u(u({},e),{},{attrs:n})),t}),[])},variantClass:function(){return"gl-alert-".concat(this.variant)}},methods:{primaryButtonClicked:function(t){this.$emit("primaryAction",t)},secondaryButtonClicked:function(t){this.$emit("secondaryAction",t)},onDismiss:function(){this.$emit("dismiss")}}};const m=l()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["gl-alert",{"gl-alert-max-content":t.contained},{"gl-alert-sticky":t.sticky},{"gl-alert-not-dismissible":!t.dismissible},t.variantClass]},[n("div",{staticClass:"gl-alert-container"},[n("gl-icon",{class:{"gl-alert-icon":!0,"gl-alert-icon-no-title":!t.title},attrs:{name:t.iconName}}),t._v(" "),t.dismissible?n("close-button",{ref:"dismiss",staticClass:"gl-dismiss-btn",attrs:{label:t.dismissLabel},on:{click:t.onDismiss}}):t._e(),t._v(" "),n("div",{staticClass:"gl-alert-content",attrs:{role:"alert"}},[t.title?n("h4",{staticClass:"gl-alert-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("div",{staticClass:"gl-alert-body"},[t._t("default")],2),t._v(" "),t.shouldRenderActions?n("div",{staticClass:"gl-alert-actions"},[t._t("actions",t._l(t.actionButtons,(function(e,i){return n("gl-button",t._g(t._b({key:i,staticClass:"gl-alert-action"},"gl-button",e.attrs,!1),e.listeners),[t._v("\n            "+t._s(e.text)+"\n          ")])})))],2):t._e()])],1)])},staticRenderFns:[]},void 0,p,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=m},gNBD:function(t,e,n){var i=n("ZfjD"),o=n("H81m"),r=n("b05b");i({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,n){r(e,t,n)}),{AS_ENTRIES:!0}),e}})},gZIW:function(t,e,n){var i=n("k9pk")("reverse",n("VX9u"));i.placeholder=n("gkan"),t.exports=i},gjpc:function(t,e,n){"use strict";n.r(e);var i=n("CX32");new(n("ZeWX").a),new i.a},hqF9:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("NmEs"),o=n("QwBj");class r{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.options.data=t.data||{},this.options.notificationCallback=t.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}checkConditions(t){var e=this;const n=Object(i.I)(t.headers),r=parseInt(n[this.intervalHeader],10);r>0&&-1!==o.b.indexOf(t.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){e.makeRequest()}),r)),this.options.successCallback(t)}makeDelayedRequest(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.timeoutID=setTimeout((function(){return t.makeRequest()}),e)}makeRequest(){var t=this;const{resource:e,method:n,data:i,errorCallback:r,notificationCallback:a}=this.options;return a(!0),e[n](i).then((function(e){t.checkConditions(e),a(!1)})).catch((function(t){a(!1),t.status!==o.a.ABORTED&&r(t)}))}stop(){this.canPoll=!1,clearTimeout(this.timeoutID)}enable(t){t&&t.data&&(this.options.data=t.data),this.canPoll=!0,t&&t.response&&this.checkConditions(t.response)}restart(t){this.enable(t),this.makeRequest()}}},"k/Fq":function(t,e,n){"use strict";n("jaBk");var i=n("EmJ/"),o=n.n(i),r=n("qPgm"),a=n("qnJZ"),s=n("/lV4"),l=(n("pBsb"),n("n7CP"));class c{constructor(t){this.projectSelectInput=o()(t),this.newItemBtn=o()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}bindEvents(){var t=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(e){return t.openDropdown(e)})),this.newItemBtn.on("click",(function(e){t.getProjectFromLocalStorage()||(e.preventDefault(),t.openDropdown(e))})),this.projectSelectInput.on("change",(function(){return t.selectProject()}))}initLocalStorage(){l.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}openDropdown(t){n.e(443).then(n.t.bind(null,"p9g0",7)).then((function(){Object(a.a)(gon.select2_css_path).then((function(){o()(t.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))})).catch((function(){}))}selectProject(){const t=JSON.parse(this.projectSelectInput.val()),e={url:"".concat(t.url,"/").concat(this.projectSelectInput.data("relativePath")),name:t.name};this.setNewItemBtnAttributes(e),this.setProjectInLocalStorage(e)}setBtnTextFromLocalStorage(){const t=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(t)}setNewItemBtnAttributes(t){t?(this.newItemBtn.attr("href",t.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(t.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}getProjectFromLocalStorage(){const t=localStorage.getItem(this.localStorageKey);return JSON.parse(t)}setProjectInLocalStorage(t){const e=JSON.stringify(t);localStorage.setItem(this.localStorageKey,e)}deriveTextVariants(){const t=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:t,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}const d=function(){Object(a.a)(gon.select2_css_path).then((function(){o()(".ajax-project-select").each((function(t,e){var n=this;let i;const a=o()(e).data("simpleFilter")||!1,l=o()(e).data("select2");return this.groupId=o()(e).data("groupId"),this.userId=o()(e).data("userId"),this.includeGroups=o()(e).data("includeGroups"),this.allProjects=o()(e).data("allProjects")||!1,this.orderBy=o()(e).data("orderBy")||"id",this.withIssuesEnabled=o()(e).data("withIssuesEnabled"),this.withMergeRequestsEnabled=o()(e).data("withMergeRequestsEnabled"),this.withShared=void 0===o()(e).data("withShared")||o()(e).data("withShared"),this.includeProjectsInSubgroups=o()(e).data("includeProjectsInSubgroups")||!1,this.allowClear=o()(e).data("allowClear")||!1,i=Object(s.e)("ProjectSelect|Search for project"),this.includeGroups&&(i+=Object(s.e)("ProjectSelect| or group")),o()(e).select2({placeholder:i,minimumInputLength:0,query:function(t){let e;const i=function(e){const n={results:e};return t.callback(n)};return e=n.includeGroups?function(e){return r.a.groups(t.term,{},(function(t){const n=t.concat(e);return i(n)}))}:i,n.groupId?r.a.groupProjects(n.groupId,t.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups,order_by:"similarity",simple:!0},e):n.userId?r.a.userProjects(n.userId,t.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},e):r.a.projects(t.term,{order_by:n.orderBy,with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,membership:!n.allProjects},e)},id:t=>a?t.id:JSON.stringify({name:t.name,url:t.web_url}),text:t=>t.name_with_namespace||t.name,initSelection:(t,e)=>r.a.project(t.val()).then((function(t){let{data:n}=t;return e(n)})),allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),l||a?e:new c(e)}))})).catch((function(){}))};e.a=function(){o()(".ajax-project-select").length&&n.e(443).then(n.t.bind(null,"p9g0",7)).then(d).catch((function(){}))}},kJRM:function(t,e,n){"use strict";var i=n("7xOh");e.a=Object(i.a)()},"lj/0":function(t,e,n){"use strict";var i=n("Z4o9"),o=n("0zRR"),r=n("/GZH"),a=n("sOG4"),s=n("o/E4"),l=n("QXXq"),c=n("BrvI"),d=n("7bmO"),u=n("oSBg"),p=n("kI/X"),m=n("h3Ey"),h={data:function(){return{listenForClickOut:!1}},watch:{listenForClickOut:function(t,e){t!==e&&(Object(l.a)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a),t&&Object(l.b)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a))}},beforeCreate:function(){this.clickOutElement=null,this.clickOutEventName=null},mounted:function(){this.clickOutElement||(this.clickOutElement=document),this.clickOutEventName||(this.clickOutEventName="click"),this.listenForClickOut&&Object(l.b)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a)},beforeDestroy:function(){Object(l.a)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a)},methods:{isClickOut:function(t){return!Object(s.f)(this.$el,t.target)},_clickOutHandler:function(t){this.clickOutHandler&&this.isClickOut(t)&&this.clickOutHandler(t)}}},g={data:function(){return{listenForFocusIn:!1}},watch:{listenForFocusIn:function(t,e){t!==e&&(Object(l.a)(this.focusInElement,"focusin",this._focusInHandler,m.a),t&&Object(l.b)(this.focusInElement,"focusin",this._focusInHandler,m.a))}},beforeCreate:function(){this.focusInElement=null},mounted:function(){this.focusInElement||(this.focusInElement=document),this.listenForFocusIn&&Object(l.b)(this.focusInElement,"focusin",this._focusInHandler,m.a)},beforeDestroy:function(){Object(l.a)(this.focusInElement,"focusin",this._focusInHandler,m.a)},methods:{_focusInHandler:function(t){this.focusInHandler&&this.focusInHandler(t)}}},f=n("DXSV");function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _="".concat("bv::dropdown::","shown"),O="".concat("bv::dropdown::","hidden"),w=[".dropdown-item",".b-dropdown-form"].map((function(t){return"".concat(t,":not(.disabled):not([disabled])")})).join(", "),j={dropup:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},right:{type:Boolean,default:!1},offset:{type:[Number,String],default:0},noFlip:{type:Boolean,default:!1},popperOpts:{type:Object,default:function(){}},boundary:{type:[String,u.b],default:"scrollParent"}};e.a={mixins:[f.a,h,g],provide:function(){return{bvDropdown:this}},inject:{bvNavbar:{default:null}},props:v(v({},j),{},{disabled:{type:Boolean,default:!1}}),data:function(){return{visible:!1,visibleChangePrevented:!1}},computed:{inNavbar:function(){return!Object(c.f)(this.bvNavbar)},toggler:function(){var t=this.$refs.toggle;return t?t.$el||t:null},directionClass:function(){return this.dropup?"dropup":this.dropright?"dropright":this.dropleft?"dropleft":""},boundaryClass:function(){return"scrollParent"===this.boundary||this.inNavbar?"":"position-static"}},watch:{visible:function(t,e){if(this.visibleChangePrevented)this.visibleChangePrevented=!1;else if(t!==e){var n=t?"show":"hide",i=new a.a(n,{cancelable:!0,vueTarget:this,target:this.$refs.menu,relatedTarget:null,componentId:this.safeId?this.safeId():this.id||null});if(this.emitEvent(i),i.defaultPrevented)return this.visibleChangePrevented=!0,this.visible=e,void this.$off("hidden",this.focusToggler);"show"===n?this.showMenu():this.hideMenu()}},disabled:function(t,e){t!==e&&t&&this.visible&&(this.visible=!1)}},created:function(){this.$_popper=null},deactivated:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},beforeDestroy:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},methods:{emitEvent:function(t){var e=t.type;this.$emit(e,t),this.$root.$emit("".concat("bv::dropdown::").concat(e),t)},showMenu:function(){var t=this;if(!this.disabled){if(!this.inNavbar)if(void 0===i.default)Object(p.a)("Popper.js not found. Falling back to CSS positioning",o.p);else{var e=this.dropup&&this.right||this.split?this.$el:this.$refs.toggle;e=e.$el||e,this.createPopper(e)}this.$root.$emit(_,this),this.whileOpenListen(!0),this.$nextTick((function(){t.focusMenu(),t.$emit("shown")}))}},hideMenu:function(){this.whileOpenListen(!1),this.$root.$emit(O,this),this.$emit("hidden"),this.destroyPopper()},createPopper:function(t){this.destroyPopper(),this.$_popper=new i.default(t,this.$refs.menu,this.getPopperConfig())},destroyPopper:function(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},updatePopper:function(){try{this.$_popper.scheduleUpdate()}catch(t){}},getPopperConfig:function(){var t="bottom-start";this.dropup?t=this.right?"top-end":"top-start":this.dropright?t="right-start":this.dropleft?t="left-start":this.right&&(t="bottom-end");var e={placement:t,modifiers:{offset:{offset:this.offset||0},flip:{enabled:!this.noFlip}}},n=this.boundary;return n&&(e.modifiers.preventOverflow={boundariesElement:n}),Object(d.j)(e,this.popperOpts||{})},whileOpenListen:function(t){this.listenForClickOut=t,this.listenForFocusIn=t;var e=t?"$on":"$off";this.$root[e](_,this.rootCloseListener)},rootCloseListener:function(t){t!==this&&(this.visible=!1)},show:function(){var t=this;this.disabled||Object(s.B)((function(){t.visible=!0}))},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabled||(this.visible=!1,t&&this.$once("hidden",this.focusToggler))},toggle:function(t){var e=t=t||{},n=e.type,i=e.keyCode;("click"===n||"keydown"===n&&-1!==[r.c,r.h,r.a].indexOf(i))&&(this.disabled?this.visible=!1:(this.$emit("toggle",t),Object(l.d)(t),this.visible?this.hide(!0):this.show()))},onMousedown:function(t){Object(l.d)(t,{propagation:!1})},onKeydown:function(t){var e=t.keyCode;e===r.d?this.onEsc(t):e===r.a?this.focusNext(t,!1):e===r.i&&this.focusNext(t,!0)},onEsc:function(t){this.visible&&(this.visible=!1,Object(l.d)(t),this.$once("hidden",this.focusToggler))},onSplitClick:function(t){this.disabled?this.visible=!1:this.$emit("click",t)},hideHandler:function(t){var e=t.target;!this.visible||Object(s.f)(this.$refs.menu,e)||Object(s.f)(this.toggler,e)||this.hide()},clickOutHandler:function(t){this.hideHandler(t)},focusInHandler:function(t){this.hideHandler(t)},focusNext:function(t,e){var n=this,i=t.target;!this.visible||t&&Object(s.e)(".dropdown form",i)||(Object(l.d)(t),this.$nextTick((function(){var t=n.getItems();if(!(t.length<1)){var o=t.indexOf(i);e&&o>0?o--:!e&&o<t.length-1&&o++,o<0&&(o=0),n.focusItem(o,t)}})))},focusItem:function(t,e){var n=e.find((function(e,n){return n===t}));Object(s.d)(n)},getItems:function(){return(Object(s.D)(w,this.$refs.menu)||[]).filter(s.u)},focusMenu:function(){Object(s.d)(this.$refs.menu)},focusToggler:function(){var t=this;this.$nextTick((function(){Object(s.d)(t.toggler)}))}}}},py3j:function(t,e,n){"use strict";var i=n("1cpz"),o=n("LLbv"),r=n("/lV4"),a=n("kJRM"),s={id:"delete-environment-modal",name:"DeleteEnvironmentModal",components:{GlModal:i.a},directives:{GlTooltip:o.a},props:{environment:{type:Object,required:!0}},computed:{primaryProps:()=>({text:Object(r.e)("Environments|Delete environment"),attributes:[{variant:"danger"}]}),cancelProps:()=>({text:Object(r.e)("Cancel")}),confirmDeleteMessage(){return Object(r.f)(Object(r.e)("Environments|Deleting the '%{environmentName}' environment cannot be undone. Do you want to delete it anyway?"),{environmentName:this.environment.name},!1)},modalTitle(){return Object(r.f)(Object(r.e)("Environments|Delete '%{environmentName}'?"),{environmentName:this.environment.name})}},methods:{onSubmit(){a.a.$emit("deleteEnvironment",this.environment)}}},l=n("tBpV"),c=Object(l.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gl-modal",{attrs:{"modal-id":t.$options.id,"action-primary":t.primaryProps,"action-cancel":t.cancelProps,title:t.modalTitle},on:{primary:t.onSubmit}},[n("p",[t._v(t._s(t.confirmDeleteMessage))])])}),[],!1,null,null,null);e.a=c.exports},rX0p:function(t,e,n){"use strict";var i=n("KFC0"),o=n.n(i),r=n("LLbv"),a=n("1OWu"),s={directives:{GlTooltip:r.a},props:{title:{type:String,required:!1,default:""},placement:{type:String,required:!1,default:"top"},truncateTarget:{type:[String,Function],required:!1,default:""}},data:()=>({showTooltip:!1}),watch:{title(){this.$nextTick(this.updateTooltip)}},mounted(){this.updateTooltip()},methods:{selectTarget(){return o()(this.truncateTarget)?this.truncateTarget(this.$el):"child"===this.truncateTarget?this.$el.childNodes[0]:this.$el},updateTooltip(){const t=this.selectTarget();this.showTooltip=Object(a.d)(t)}}},l=n("tBpV"),c=Object(l.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return this.showTooltip?e("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.placement},expression:"{ placement }"}],staticClass:"js-show-tooltip gl-min-w-0",attrs:{title:this.title}},[this._t("default")],2):e("span",{staticClass:"gl-min-w-0"},[this._t("default")],2)}),[],!1,null,null,null);e.a=c.exports},tbP8:function(t,e,n){"use strict";var i=n("XBTk"),o=n("Pyw5"),r=n.n(o);const a={props:{entityId:{type:Number,required:!1,default:0},entityName:{type:String,required:!1,default:""},src:{type:String,required:!1,default:""},alt:{type:String,required:!1,default:"avatar"},size:{type:Number,required:!1,default:i.f[1],validator:function(t){var e=i.f.includes(t);return e||console.error("Avatar size should be one of [".concat(i.f,"], received: ").concat(t)),e}},shape:{type:String,required:!1,default:i.e.circle}},computed:{sizeClass:function(){return"gl-avatar-s".concat(this.size)},isCircle:function(){return this.shape===i.e.circle},identiconBackgroundClass:function(){var t=this.entityId%7+1;return"gl-avatar-identicon-bg".concat(t)},identiconText:function(){return this.entityName?this.entityName.charAt(0).toUpperCase():""}}};const s=r()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.src?n("img",{class:["gl-avatar",{"gl-avatar-circle":t.isCircle},t.sizeClass],attrs:{src:t.src,alt:t.alt}}):n("div",{class:["gl-avatar gl-avatar-identicon",{"gl-avatar-circle":t.isCircle},t.sizeClass,t.identiconBackgroundClass]},[t._v("\n  "+t._s(t.identiconText)+"\n")])},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=s},uHqx:function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},vKZT:function(t,e,n){var i=n("k9pk")("flow",n("vxps"));i.placeholder=n("gkan"),t.exports=i},vxps:function(t,e,n){var i=n("Rk7e")();t.exports=i},wP8z:function(t,e,n){"use strict";var i=n("0zRR"),o=n("/Szx"),r=n("o/E4"),a=n("7bmO"),s=n("P/DV"),l=n("EQ0+"),c=n("1m+M");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=Object(a.k)(c.b,["event","routerTag"]),h=o.a.extend({name:i.t,mixins:[s.a,l.a],inheritAttrs:!1,inject:{bvDropdown:{default:null}},props:u(u({},m),{},{linkClass:{type:[String,Array,Object]},variant:{type:String}}),computed:{computedAttrs:function(){return u(u({},this.bvAttrs),{},{role:"menuitem"})}},methods:{closeDropdown:function(){var t=this;Object(r.B)((function(){t.bvDropdown&&t.bvDropdown.hide(!0)}))},onClick:function(t){this.$emit("click",t),this.closeDropdown()}},render:function(t){var e=this.linkClass,n=this.variant,i=this.active,o=this.disabled,r=this.onClick;return t("li",{attrs:{role:"presentation"}},[t(c.a,{staticClass:"dropdown-item",class:[e,p({},"text-".concat(n),n&&!(i||o))],props:this.$props,attrs:this.computedAttrs,on:{click:r},ref:"item"},this.normalizeSlot())])}});function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={active:{type:Boolean,default:!1},activeClass:{type:String,default:"active"},buttonClass:{type:[String,Array,Object]},disabled:{type:Boolean,default:!1},variant:{type:String}},y=o.a.extend({name:i.u,mixins:[s.a,l.a],inheritAttrs:!1,inject:{bvDropdown:{default:null}},props:v,computed:{computedAttrs:function(){return f(f({},this.bvAttrs),{},{role:"menuitem",type:"button",disabled:this.disabled})}},methods:{closeDropdown:function(){this.bvDropdown&&this.bvDropdown.hide(!0)},onClick:function(t){this.$emit("click",t),this.closeDropdown()}},render:function(t){var e;return t("li",{attrs:{role:"presentation"}},[t("button",{staticClass:"dropdown-item",class:[this.buttonClass,(e={},b(e,this.activeClass,this.active),b(e,"text-".concat(this.variant),this.variant&&!(this.active||this.disabled)),e)],attrs:this.computedAttrs,on:{click:this.onClick},ref:"button"},this.normalizeSlot())])}}),_=n("XBTk"),O=n("tbP8"),w=n("4lAS"),j=n("s1D3"),C=n("Pyw5"),k=n.n(C);const D={components:{GlIcon:j.a,GlAvatar:O.a,GlButton:w.a},inheritAttrs:!1,props:{avatarUrl:{type:String,required:!1,default:""},iconColor:{type:String,required:!1,default:""},iconName:{type:String,required:!1,default:""},iconRightAriaLabel:{type:String,required:!1,default:""},iconRightName:{type:String,required:!1,default:""},isChecked:{type:Boolean,required:!1,default:!1},isCheckItem:{type:Boolean,required:!1,default:!1},isCheckCentered:{type:Boolean,required:!1,default:!1},secondaryText:{type:String,required:!1,default:""}},computed:{bootstrapComponent:function(){var t=this.$attrs,e=t.href,n=t.to;return e||n?h:y},iconColorCss:function(){return _.F[this.iconColor]||"gl-text-gray-700"},shouldShowCheckIcon:function(){return this.isChecked||this.isCheckItem},checkedClasses:function(){return this.isCheckCentered?"":"gl-mt-3 gl-align-self-start"}},methods:{handleClickIconRight:function(){this.$emit("click-icon-right")}}};const E=k()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.bootstrapComponent,t._g(t._b({tag:"component",staticClass:"gl-new-dropdown-item"},"component",t.$attrs,!1),t.$listeners),[t.shouldShowCheckIcon?n("gl-icon",{class:["gl-new-dropdown-item-check-icon",{"gl-visibility-hidden":!t.isChecked},t.checkedClasses],attrs:{name:"mobile-issue-close","data-testid":"dropdown-item-checkbox"}}):t._e(),t._v(" "),t.iconName?n("gl-icon",{class:["gl-new-dropdown-item-icon",t.iconColorCss],attrs:{name:t.iconName}}):t._e(),t._v(" "),t.avatarUrl?n("gl-avatar",{attrs:{size:32,src:t.avatarUrl}}):t._e(),t._v(" "),n("div",{staticClass:"gl-new-dropdown-item-text-wrapper"},[n("p",{staticClass:"gl-new-dropdown-item-text-primary"},[t._t("default")],2),t._v(" "),t.secondaryText?n("p",{staticClass:"gl-new-dropdown-item-text-secondary"},[t._v(t._s(t.secondaryText))]):t._e()]),t._v(" "),t.iconRightName?n("gl-button",{attrs:{size:"small",icon:t.iconRightName,"aria-label":t.iconRightAriaLabel||t.iconRightName},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClickIconRight(e)}}}):t._e()],1)},staticRenderFns:[]},void 0,D,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=E}}]);
//# sourceMappingURL=commons-pages.projects.environments.folder-pages.projects.environments.index-pages.projects.environments.show.366ff49e.chunk.js.map